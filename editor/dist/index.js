import*as React$1 from"react";import React__default$1,{createContext,useContext,forwardRef,useMemo,Fragment as Fragment$1,useRef,useCallback,useEffect,useState,createElement,useReducer}from"react";import*as ReactJSXRuntime from"react/jsx-runtime";import{jsx as jsx$1,jsxs as jsxs$1}from"react/jsx-runtime";const EditorContext=createContext({}),useEditor=e=>{var t=useContext(EditorContext),{actions:n,getState:r,query:o}=t,e=e?e(t.getState(),o):{};return Object.assign(Object.assign({},e),{actions:n,query:o,state:r()})};var __assign=function(){return(__assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function __rest(e,t){var n={};for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n}function sheetForTag(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function createStyleElement(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var StyleSheet=function(){function e(e){var n=this;this._insertTag=function(e){var t=0===n.tags.length?n.insertionPoint?n.insertionPoint.nextSibling:n.prepend?n.container.firstChild:n.before:n.tags[n.tags.length-1].nextSibling;n.container.insertBefore(e,t),n.tags.push(e)},this.isSpeedy=void 0===e.speedy?"production"===process.env.NODE_ENV:e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(createStyleElement(this));var e=this.tags[this.tags.length-1];if("production"!==process.env.NODE_ENV&&((n=64===t.charCodeAt(0)&&105===t.charCodeAt(1))&&this._alreadyInsertedOrderInsensitiveRule&&console.error("You're attempting to insert the following rule:\n"+t+"\n\n`@import` rules must be before all other types of rules in a stylesheet but other rules have already been inserted. Please ensure that `@import` rules are before all other rules."),this._alreadyInsertedOrderInsensitiveRule=this._alreadyInsertedOrderInsensitiveRule||!n),this.isSpeedy){var n=sheetForTag(e);try{n.insertRule(t,n.cssRules.length)}catch(e){"production"===process.env.NODE_ENV||/:(-moz-placeholder|-moz-focus-inner|-moz-focusring|-ms-input-placeholder|-moz-read-write|-moz-read-only|-ms-clear|-ms-expand|-ms-reveal){/.test(t)||console.error('There was a problem inserting the following rule: "'+t+'"',e)}}else e.appendChild(document.createTextNode(t));this.ctr++},t.flush=function(){this.tags.forEach(function(e){return e.parentNode&&e.parentNode.removeChild(e)}),this.tags=[],this.ctr=0,"production"!==process.env.NODE_ENV&&(this._alreadyInsertedOrderInsensitiveRule=!1)},e}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash(e,t){return 45^charat(e,0)?(((t<<2^charat(e,0))<<2^charat(e,1))<<2^charat(e,2))<<2^charat(e,3):0}function trim(e){return e.trim()}function match(e,t){return(e=t.exec(e))&&e[0]}function replace$1(e,t,n){return e.replace(t,n)}function indexof(e,t){return e.indexOf(t)}function charat(e,t){return 0|e.charCodeAt(t)}function substr(e,t,n){return e.slice(t,n)}function strlen(e){return e.length}function sizeof(e){return e.length}function append(e,t){return t.push(e),e}function combine(e,t){return e.map(t).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node(e,t,n,r,o,i,a){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:line,column:column,length:a,return:""}}function copy$2(e,t){return assign(node("",null,null,"",null,null,0),e,{length:-e.length},t)}function char(){return character}function prev(){return character=0<position?charat(characters,--position):0,column--,10===character&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,10===character&&(column=1,line++),character}function peek$1(){return charat(characters,position)}function caret(){return position}function slice(e,t){return substr(characters,e,t)}function token(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(e){return line=column=1,length=strlen(characters=e),position=0,[]}function dealloc(e){return characters="",e}function delimit(e){return trim(slice(position-1,delimiter(91===e?e+2:40===e?e+1:e)))}function whitespace(e){for(;(character=peek$1())&&character<33;)next();return 2<token(e)||3<token(character)?"":" "}function escaping(e,t){for(;--t&&next()&&!(character<48||102<character||57<character&&character<65||70<character&&character<97););return slice(e,caret()+(t<6&&32==peek$1()&&32==next()))}function delimiter(e){for(;next();)switch(character){case e:return position;case 34:case 39:34!==e&&39!==e&&delimiter(character);break;case 40:41===e&&delimiter(e);break;case 92:next()}return position}function commenter(e,t){for(;next()&&e+character!==57&&(e+character!==84||47!==peek$1()););return"/*"+slice(t,position-1)+"*"+from(47===e?e:next())}function identifier(e){for(;!token(peek$1());)next();return slice(e,position)}function compile(e){return dealloc(parse("",null,null,null,[""],e=alloc(e),0,[0],e))}function parse(e,t,n,r,o,i,a,s,l){for(var c,u,d,p=0,f=0,h=a,m=0,g=0,v=1,y=1,b=1,w=0,x="",S=o,k=x;y;)switch(c=w,w=next()){case 40:if(108!=c&&58==charat(k,h-1)){-1!=indexof(k+=replace$1(delimit(w),"&","&\f"),"&\f")&&(b=-1);break}case 34:case 39:case 91:k+=delimit(w);break;case 9:case 10:case 13:case 32:k+=whitespace(c);break;case 92:k+=escaping(caret()-1,7);continue;case 47:switch(peek$1()){case 42:case 47:append(comment(commenter(next(),caret()),t,n),l);break;default:k+="/"}break;case 123*v:s[p++]=strlen(k)*b;case 125*v:case 59:case 0:switch(w){case 0:case 125:y=0;case 59+f:-1==b&&(k=replace$1(k,/\f/g,"")),0<g&&strlen(k)-h&&append(32<g?declaration(k+";",r,n,h-1):declaration(replace$1(k," ","")+";",r,n,h-2),l);break;case 59:k+=";";default:if(append(d=ruleset(k,t,n,p,f,o,s,x,S=[],u=[],h),i),123===w)if(0===f)parse(k,t,d,d,S,i,h,s,u);else switch(99===m&&110===charat(k,3)?100:m){case 100:case 108:case 109:case 115:parse(e,d,d,r&&append(ruleset(e,d,d,0,0,o,s,x,o,S=[],h),u),o,u,h,s,r?S:u);break;default:parse(k,d,d,d,[""],u,0,s,u)}}p=f=g=0,v=b=1,x=k="",h=a;break;case 58:h=1+strlen(k),g=c;default:if(v<1)if(123==w)--v;else if(125==w&&0==v++&&125==prev())continue;switch(k+=from(w),w*v){case 38:b=0<f?1:(k+="\f",-1);break;case 44:s[p++]=(strlen(k)-1)*b,b=1;break;case 64:45===peek$1()&&(k+=delimit(next())),m=peek$1(),f=h=strlen(x=k+=identifier(caret())),w++;break;case 45:45===c&&2==strlen(k)&&(v=0)}}return i}function ruleset(e,t,n,r,o,i,a,s,l,c,u){for(var d,p=o-1,f=0===o?i:[""],h=sizeof(f),m=0,g=0;m<r;++m)for(var v,y=0,b=substr(e,p+1,p=abs(d=a[m]));y<h;++y)(v=trim(0<d?f[y]+" "+b:replace$1(b,/&\f/g,f[y])))&&(l[g++]=v);return node(e,t,n,0===o?RULESET:s,l,c,u)}function comment(e,t,n){return node(e,t,n,COMMENT,from(char()),substr(e,2,-2),0)}function declaration(e,t,n,r){return node(e,t,n,DECLARATION,substr(e,0,r),substr(e,r+1,-1),r)}function serialize$1(e,t){for(var n="",r=sizeof(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function stringify(e,t,n,r){switch(e.type){case LAYER:if(e.children.length)break;case IMPORT:case DECLARATION:return e.return=e.return||e.value;case COMMENT:return"";case KEYFRAMES:return e.return=e.value+"{"+serialize$1(e.children,r)+"}";case RULESET:e.value=e.props.join(",")}return strlen(n=serialize$1(e.children,r))?e.return=e.value+"{"+n+"}":""}function middleware(a){var s=sizeof(a);return function(e,t,n,r){for(var o="",i=0;i<s;i++)o+=a[i](e,t,n,r)||"";return o}}function rulesheet(t){return function(e){e.root||(e=e.return)&&t(e)}}var weakMemoize=function(n){var r=new WeakMap;return function(e){var t;return r.has(e)?r.get(e):(t=n(e),r.set(e,t),t)}};function memoize(t){var n=Object.create(null);return function(e){return void 0===n[e]&&(n[e]=t(e)),n[e]}}var identifierWithPointTracking=function(e,t,n){for(var r,o=0;r=o,o=peek$1(),38===r&&12===o&&(t[n]=1),!token(o);)next();return slice(e,position)},toRules=function(e,t){var n=-1,r=44;do{switch(token(r)){case 0:38===r&&12===peek$1()&&(t[n]=1),e[n]+=identifierWithPointTracking(position-1,t,n);break;case 2:e[n]+=delimit(r);break;case 4:if(44===r){e[++n]=58===peek$1()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=from(r)}}while(r=next());return e},getRules=function(e,t){return dealloc(toRules(alloc(e),t))},fixedElements=new WeakMap,compat=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||fixedElements.get(n))&&!r){fixedElements.set(e,!0);for(var o=[],i=getRules(t,o),a=n.props,s=0,l=0;s<i.length;s++)for(var c=0;c<a.length;c++,l++)e.props[l]=o[s]?i[s].replace(/&\f/g,a[c]):a[c]+" "+i[s]}}},removeLabel=function(e){var t;"decl"===e.type&&108===(t=e.value).charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")},ignoreFlag="emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason",isIgnoringComment=function(e){return"comm"===e.type&&-1<e.children.indexOf(ignoreFlag)},createUnsafeSelectorsAlarm=function(s){return function(e,t,n){if("rule"===e.type&&!s.compat){var r=e.value.match(/(:first|:nth|:nth-last)-child/g);if(r){for(var o=!!e.parent?e.parent.children:n,i=o.length-1;0<=i;i--){var a=o[i];if(a.line<e.line)break;if(a.column<e.column){if(isIgnoringComment(a))return;break}}r.forEach(function(e){console.error('The pseudo class "'+e+'" is potentially unsafe when doing server-side rendering. Try changing it to "'+e.split("-child")[0]+'-of-type".')})}}}},isImportRule=function(e){return 105===e.type.charCodeAt(1)&&64===e.type.charCodeAt(0)},isPrependedWithRegularRules=function(e,t){for(var n=e-1;0<=n;n--)if(!isImportRule(t[n]))return!0;return!1},nullifyElement=function(e){e.type="",e.value="",e.return="",e.children="",e.props=""},incorrectImportAlarm=function(e,t,n){isImportRule(e)&&(e.parent?(console.error("`@import` rules can't be nested inside other rules. Please move it to the top level and put it before regular rules. Keep in mind that they can only be used within global styles."),nullifyElement(e)):isPrependedWithRegularRules(t,n)&&(console.error("`@import` rules can't be after other rules. Please put your `@import` rules before your other rules."),nullifyElement(e)))};function prefix(e,t){switch(hash(e,t)){case 5103:return WEBKIT+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+e+MOZ+e+MS+e+e;case 6828:case 4268:return WEBKIT+e+MS+e+e;case 6165:return WEBKIT+e+MS+"flex-"+e+e;case 5187:return WEBKIT+e+replace$1(e,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+e;case 5443:return WEBKIT+e+MS+"flex-item-"+replace$1(e,/flex-|-self/,"")+e;case 4675:return WEBKIT+e+MS+"flex-line-pack"+replace$1(e,/align-content|flex-|-self/,"")+e;case 5548:return WEBKIT+e+MS+replace$1(e,"shrink","negative")+e;case 5292:return WEBKIT+e+MS+replace$1(e,"basis","preferred-size")+e;case 6060:return WEBKIT+"box-"+replace$1(e,"-grow","")+WEBKIT+e+MS+replace$1(e,"grow","positive")+e;case 4554:return WEBKIT+replace$1(e,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+e;case 6187:return replace$1(replace$1(replace$1(e,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),e,"")+e;case 5495:case 3959:return replace$1(e,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace$1(replace$1(e,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+e+e;case 4095:case 3583:case 4068:case 2532:return replace$1(e,/(.+)-inline(.+)/,WEBKIT+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(6<strlen(e)-1-t)switch(charat(e,t+1)){case 109:if(45!==charat(e,t+4))break;case 102:return replace$1(e,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(108==charat(e,t+3)?"$3":"$2-$3"))+e;case 115:return~indexof(e,"stretch")?prefix(replace$1(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==charat(e,t+1))break;case 6444:switch(charat(e,strlen(e)-3-(~indexof(e,"!important")&&10))){case 107:return replace$1(e,":",":"+WEBKIT)+e;case 101:return replace$1(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(45===charat(e,14)?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+e}break;case 5936:switch(charat(e,t+11)){case 114:return WEBKIT+e+MS+replace$1(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return WEBKIT+e+MS+replace$1(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return WEBKIT+e+MS+replace$1(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return WEBKIT+e+MS+e+e}return e}var prefixer=function(t,e,n,r){if(-1<t.length&&!t.return)switch(t.type){case DECLARATION:t.return=prefix(t.value,t.length);break;case KEYFRAMES:return serialize$1([copy$2(t,{value:replace$1(t.value,"@","@"+WEBKIT)})],r);case RULESET:if(t.length)return combine(t.props,function(e){switch(match(e,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize$1([copy$2(t,{props:[replace$1(e,/:(read-\w+)/,":"+MOZ+"$1")]})],r);case"::placeholder":return serialize$1([copy$2(t,{props:[replace$1(e,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy$2(t,{props:[replace$1(e,/:(plac\w+)/,":"+MOZ+"$1")]}),copy$2(t,{props:[replace$1(e,/:(plac\w+)/,MS+"input-$1")]})],r)}return""})}},isBrowser$5="undefined"!=typeof document,getServerStylisCache=isBrowser$5?void 0:weakMemoize(function(){return memoize(function(){var t={};return function(e){return t[e]}})}),defaultStylisPlugins=[prefixer],createCache=function(e){var t=e.key;if("production"!==process.env.NODE_ENV&&!t)throw new Error("You have to configure `key` for your cache. Please make sure it's unique (and not equal to 'css') as it's used for linking styles to your cache.\nIf multiple caches share the same key they might \"fight\" for each other's style elements.");isBrowser$5&&"css"===t&&(n=document.querySelectorAll("style[data-emotion]:not([data-s])"),Array.prototype.forEach.call(n,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}));var n=e.stylisPlugins||defaultStylisPlugins;if("production"!==process.env.NODE_ENV&&/[^a-z-]/.test(t))throw new Error('Emotion key must only contain lower case alphabetical characters and - but "'+t+'" was passed');var r,o,i,a,s,l,c,u={},d=[],p=(isBrowser$5&&(r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)u[t[n]]=!0;d.push(e)})),[compat,removeLabel]),f=("production"!==process.env.NODE_ENV&&p.push(createUnsafeSelectorsAlarm({get compat(){return f.compat}}),incorrectImportAlarm),a=isBrowser$5?(a=[stringify,"production"!==process.env.NODE_ENV?function(e){e.root||(e.return?o.insert(e.return):e.value&&e.type!==COMMENT&&o.insert(e.value+"{}"))}:rulesheet(function(e){o.insert(e)})],i=middleware(p.concat(n,a)),function(e,t,n,r){o=n,"production"!==process.env.NODE_ENV&&void 0!==t.map&&(o={insert:function(e){n.insert(e+t.map)}}),serialize$1(compile(e?e+"{"+t.styles+"}":t.styles),i),r&&(f.inserted[t.name]=!0)}):(s=middleware(p.concat(n,[stringify])),l=function(e){return serialize$1(compile(e),s)},c=getServerStylisCache(n)(t),function(e,t,n,r){var o,i,a=t.name,e=(e=e,i=(o=t).name,void 0===c[i]&&(c[i]=l(e?e+"{"+o.styles+"}":o.styles)),c[i]);return void 0===f.compat?(r&&(f.inserted[a]=!0),"development"===process.env.NODE_ENV&&void 0!==t.map?e+t.map:e):r?void(f.inserted[a]=e):e}),{key:t,sheet:new StyleSheet({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:u,registered:{},insert:a});return f.sheet.hydrate(d),f};function _extends$1(){return(_extends$1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hasRequiredReactIs_production_min,reactIs$1={exports:{}},reactIs_production_min={};function requireReactIs_production_min(){var e,n,r,o,i,a,s,l,c,u,d,p,t,f,h,m,g,v,y;return hasRequiredReactIs_production_min||(hasRequiredReactIs_production_min=1,e="function"==typeof Symbol&&Symbol.for,n=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,o=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,l=e?Symbol.for("react.context"):60110,c=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,t=e?Symbol.for("react.suspense_list"):60120,f=e?Symbol.for("react.memo"):60115,h=e?Symbol.for("react.lazy"):60116,m=e?Symbol.for("react.block"):60121,g=e?Symbol.for("react.fundamental"):60117,v=e?Symbol.for("react.responder"):60118,y=e?Symbol.for("react.scope"):60119,reactIs_production_min.AsyncMode=c,reactIs_production_min.ConcurrentMode=u,reactIs_production_min.ContextConsumer=l,reactIs_production_min.ContextProvider=s,reactIs_production_min.Element=n,reactIs_production_min.ForwardRef=d,reactIs_production_min.Fragment=o,reactIs_production_min.Lazy=h,reactIs_production_min.Memo=f,reactIs_production_min.Portal=r,reactIs_production_min.Profiler=a,reactIs_production_min.StrictMode=i,reactIs_production_min.Suspense=p,reactIs_production_min.isAsyncMode=function(e){return w(e)||b(e)===c},reactIs_production_min.isConcurrentMode=w,reactIs_production_min.isContextConsumer=function(e){return b(e)===l},reactIs_production_min.isContextProvider=function(e){return b(e)===s},reactIs_production_min.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},reactIs_production_min.isForwardRef=function(e){return b(e)===d},reactIs_production_min.isFragment=function(e){return b(e)===o},reactIs_production_min.isLazy=function(e){return b(e)===h},reactIs_production_min.isMemo=function(e){return b(e)===f},reactIs_production_min.isPortal=function(e){return b(e)===r},reactIs_production_min.isProfiler=function(e){return b(e)===a},reactIs_production_min.isStrictMode=function(e){return b(e)===i},reactIs_production_min.isSuspense=function(e){return b(e)===p},reactIs_production_min.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===u||e===a||e===i||e===p||e===t||"object"==typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===f||e.$$typeof===s||e.$$typeof===l||e.$$typeof===d||e.$$typeof===g||e.$$typeof===v||e.$$typeof===y||e.$$typeof===m)},reactIs_production_min.typeOf=b),reactIs_production_min;function b(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case c:case u:case o:case a:case i:case p:return e;default:switch(e=e&&e.$$typeof){case l:case d:case h:case f:case s:return e;default:return t}}case r:return t}}}function w(e){return b(e)===u}}var hasRequiredReactIs_development,reactIs_development={};function requireReactIs_development(){var e,o,i,a,s,l,c,u,d,p,f,h,t,m,g,n,r,v,y,b,w,x,S,k,C,E,T,_,R,O,I;return hasRequiredReactIs_development||(hasRequiredReactIs_development=1,"production"!==process.env.NODE_ENV&&(e="function"==typeof Symbol&&Symbol.for,o=e?Symbol.for("react.element"):60103,i=e?Symbol.for("react.portal"):60106,a=e?Symbol.for("react.fragment"):60107,s=e?Symbol.for("react.strict_mode"):60108,l=e?Symbol.for("react.profiler"):60114,c=e?Symbol.for("react.provider"):60109,u=e?Symbol.for("react.context"):60110,d=e?Symbol.for("react.async_mode"):60111,p=e?Symbol.for("react.concurrent_mode"):60111,f=e?Symbol.for("react.forward_ref"):60112,h=e?Symbol.for("react.suspense"):60113,t=e?Symbol.for("react.suspense_list"):60120,m=e?Symbol.for("react.memo"):60115,g=e?Symbol.for("react.lazy"):60116,n=e?Symbol.for("react.block"):60121,r=e?Symbol.for("react.fundamental"):60117,v=e?Symbol.for("react.responder"):60118,y=e?Symbol.for("react.scope"):60119,e=p,b=u,w=c,x=o,S=f,k=a,C=g,E=m,T=i,_=l,R=s,O=h,I=!1,reactIs_development.AsyncMode=d,reactIs_development.ConcurrentMode=e,reactIs_development.ContextConsumer=b,reactIs_development.ContextProvider=w,reactIs_development.Element=x,reactIs_development.ForwardRef=S,reactIs_development.Fragment=k,reactIs_development.Lazy=C,reactIs_development.Memo=E,reactIs_development.Portal=T,reactIs_development.Profiler=_,reactIs_development.StrictMode=R,reactIs_development.Suspense=O,reactIs_development.isAsyncMode=function(e){return I||(I=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),D(e)||M(e)===d},reactIs_development.isConcurrentMode=D,reactIs_development.isContextConsumer=function(e){return M(e)===u},reactIs_development.isContextProvider=function(e){return M(e)===c},reactIs_development.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},reactIs_development.isForwardRef=function(e){return M(e)===f},reactIs_development.isFragment=function(e){return M(e)===a},reactIs_development.isLazy=function(e){return M(e)===g},reactIs_development.isMemo=function(e){return M(e)===m},reactIs_development.isPortal=function(e){return M(e)===i},reactIs_development.isProfiler=function(e){return M(e)===l},reactIs_development.isStrictMode=function(e){return M(e)===s},reactIs_development.isSuspense=function(e){return M(e)===h},reactIs_development.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===p||e===l||e===s||e===h||e===t||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===c||e.$$typeof===u||e.$$typeof===f||e.$$typeof===r||e.$$typeof===v||e.$$typeof===y||e.$$typeof===n)},reactIs_development.typeOf=M)),reactIs_development;function M(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:var n=e.type;switch(n){case d:case p:case a:case l:case s:case h:return n;default:var r=n&&n.$$typeof;switch(r){case u:case f:case g:case m:case c:return r;default:return t}}case i:return t}}}function D(e){return M(e)===p}}"production"===process.env.NODE_ENV?reactIs$1.exports=requireReactIs_production_min():reactIs$1.exports=requireReactIs_development();var reactIsExports=reactIs$1.exports,reactIs=reactIsExports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={},isBrowser$4=(TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS,TYPE_STATICS[reactIs.Memo]=MEMO_STATICS,"undefined"!=typeof document);function getRegisteredStyles(t,n,e){var r="";return e.split(" ").forEach(function(e){void 0!==t[e]?n.push(t[e]+";"):r+=e+" "}),r}var registerStyles=function(e,t,n){var r=e.key+"-"+t.name;(!1===n||!1===isBrowser$4&&void 0!==e.compat)&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},insertStyles=function(e,t,n){registerStyles(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o="",i=t;do{var a=e.insert(t===i?"."+r:"",i,e.sheet,!0)}while(isBrowser$4||void 0===a||(o+=a),void 0!==(i=i.next));if(!isBrowser$4&&0!==o.length)return o}};function murmur2(e){for(var t,n=0,r=0,o=e.length;4<=o;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}var contentValuePattern,contentValues,oldProcessStyleValue,msPattern,hyphenPattern,hyphenatedCache,unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ILLEGAL_ESCAPE_SEQUENCE_ERROR="You have illegal escape sequence in your template literal, most likely inside content's property value.\nBecause you write your CSS inside a JavaScript string you actually have to do double escaping, so for example \"content: '\\00d7';\" should become \"content: '\\\\00d7';\".\nYou can read more about this here:\nhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences",UNDEFINED_AS_OBJECT_KEY_ERROR="You have passed in falsy value as style object's key (can happen when in example you pass unexported component as computed key).",hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(e){return 45===e.charCodeAt(1)},isProcessableValue=function(e){return null!=e&&"boolean"!=typeof e},processStyleName=memoize(function(e){return isCustomProperty(e)?e:e.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(animationRegex,function(e,t,n){return cursor={name:t,styles:n,next:cursor},t})}return 1===unitlessKeys[e]||isCustomProperty(e)||"number"!=typeof t||0===t?t:t+"px"},noComponentSelectorMessage=("production"!==process.env.NODE_ENV&&(contentValuePattern=/(var|attr|counters?|url|element|(((repeating-)?(linear|radial))|conic)-gradient)\(|(no-)?(open|close)-quote/,contentValues=["normal","none","initial","inherit","unset"],oldProcessStyleValue=processStyleValue,msPattern=/^-ms-/,hyphenPattern=/-(.)/g,hyphenatedCache={},processStyleValue=function(e,t){var n;if("content"!==e||"string"==typeof t&&(-1!==contentValues.indexOf(t)||contentValuePattern.test(t)||t.charAt(0)===t.charAt(t.length-1)&&('"'===t.charAt(0)||"'"===t.charAt(0))))return""===(n=oldProcessStyleValue(e,t))||isCustomProperty(e)||-1===e.indexOf("-")||void 0!==hyphenatedCache[e]||(hyphenatedCache[e]=!0,console.error("Using kebab-case for css properties in objects is not supported. Did you mean "+e.replace(msPattern,"ms-").replace(hyphenPattern,function(e,t){return t.toUpperCase()})+"?")),n;throw new Error("You seem to be using a value for 'content' without quotes, try replacing it with `content: '\""+t+"\"'`")}),"Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.");function handleInterpolation(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles){if("production"!==process.env.NODE_ENV&&"NO_COMPONENT_SELECTOR"===n.toString())throw new Error(noComponentSelectorMessage);return n}switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return cursor={name:n.name,styles:n.styles,next:cursor},n.name;if(void 0===n.styles)return createStringFromObject(e,t,n);var r=n.next;if(void 0!==r)for(;void 0!==r;)cursor={name:r.name,styles:r.styles,next:cursor},r=r.next;var o=n.styles+";";return"production"!==process.env.NODE_ENV&&void 0!==n.map&&(o+=n.map),o;case"function":var i;if(void 0!==e)return o=cursor,i=n(e),cursor=o,handleInterpolation(e,t,i);"production"!==process.env.NODE_ENV&&console.error("Functions that are interpolated in css calls will be stringified.\nIf you want to have a css call based on props, create a function that returns a css call like this\nlet dynamicStyle = (props) => css`color: ${props.color}`\nIt can be called directly with props or interpolated in a styled call like this\nlet SomeComponent = styled('div')`${dynamicStyle}`");break;case"string":var a;"production"!==process.env.NODE_ENV&&(a=[],o=n.replace(animationRegex,function(e,t,n){var r="animation"+a.length;return a.push("const "+r+" = keyframes`"+n.replace(/^@keyframes animation-\w+/,"")+"`"),"${"+r+"}"}),a.length)&&console.error("`keyframes` output got interpolated into plain string, please wrap it with `css`.\n\nInstead of doing this:\n\n"+[].concat(a,["`"+o+"`"]).join("\n")+"\n\nYou should wrap it with `css` like this:\n\ncss`"+o+"`")}var s;return null!=t&&void 0!==(s=t[n])?s:n}function createStringFromObject(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=handleInterpolation(e,t,n[o])+";";else for(var i in n){var a=n[i];if("object"!=typeof a)null!=t&&void 0!==t[a]?r+=i+"{"+t[a]+"}":isProcessableValue(a)&&(r+=processStyleName(i)+":"+processStyleValue(i,a)+";");else{if("NO_COMPONENT_SELECTOR"===i&&"production"!==process.env.NODE_ENV)throw new Error(noComponentSelectorMessage);if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=handleInterpolation(e,t,a);switch(i){case"animation":case"animationName":r+=processStyleName(i)+":"+s+";";break;default:"production"!==process.env.NODE_ENV&&"undefined"===i&&console.error(UNDEFINED_AS_OBJECT_KEY_ERROR),r+=i+"{"+s+"}"}}else for(var l=0;l<a.length;l++)isProcessableValue(a[l])&&(r+=processStyleName(i)+":"+processStyleValue(i,a[l])+";")}}return r}var sourceMapPattern,cursor,labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,serializeStyles=("production"!==process.env.NODE_ENV&&(sourceMapPattern=/\/\*#\ssourceMappingURL=data:application\/json;\S+\s+\*\//g),function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,o="",i=(cursor=void 0,e[0]);null==i||void 0===i.raw?(r=!1,o+=handleInterpolation(n,t,i)):("production"!==process.env.NODE_ENV&&void 0===i[0]&&console.error(ILLEGAL_ESCAPE_SEQUENCE_ERROR),o+=i[0]);for(var a,s=1;s<e.length;s++)o+=handleInterpolation(n,t,e[s]),r&&("production"!==process.env.NODE_ENV&&void 0===i[s]&&console.error(ILLEGAL_ESCAPE_SEQUENCE_ERROR),o+=i[s]);"production"!==process.env.NODE_ENV&&(o=o.replace(sourceMapPattern,function(e){return a=e,""})),labelPattern.lastIndex=0;for(var l,c="";null!==(l=labelPattern.exec(o));)c+="-"+l[1];var u=murmur2(o)+c;return"production"!==process.env.NODE_ENV?{name:u,styles:o,map:a,next:cursor,toString:function(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}}:{name:u,styles:o,next:cursor}}),isBrowser$3="undefined"!=typeof document,syncFallback=function(e){return e()},useInsertionEffect=React$1.useInsertionEffect||!1,useInsertionEffectAlwaysWithSyncFallback=isBrowser$3&&useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||React$1.useLayoutEffect,isBrowser$2="undefined"!=typeof document,hasOwnProperty={}.hasOwnProperty,EmotionCacheContext=React$1.createContext("undefined"!=typeof HTMLElement?createCache({key:"css"}):null),withEmotionCache=("production"!==process.env.NODE_ENV&&(EmotionCacheContext.displayName="EmotionCacheContext"),EmotionCacheContext.Provider,function(r){return forwardRef(function(e,t){var n=useContext(EmotionCacheContext);return r(e,n,t)})}),ThemeContext=(isBrowser$2||(withEmotionCache=function(n){return function(e){var t=useContext(EmotionCacheContext);return null===t?(t=createCache({key:"css"}),React$1.createElement(EmotionCacheContext.Provider,{value:t},n(e,t))):n(e,t)}}),React$1.createContext({})),getLastPart=("production"!==process.env.NODE_ENV&&(ThemeContext.displayName="EmotionThemeContext"),function(e){e=e.split(".");return e[e.length-1]}),getFunctionNameFromStackTraceLine=function(e){var t=/^\s+at\s+([A-Za-z0-9$.]+)\s/.exec(e);return(t=t||/^([A-Za-z0-9$.]+)@/.exec(e))?getLastPart(t[1]):void 0},internalReactFunctionNames=new Set(["renderWithHooks","processChild","finishClassComponent","renderToString"]),sanitizeIdentifier=function(e){return e.replace(/\$/g,"-")},getLabelFromStackTrace=function(e){if(e)for(var t=e.split("\n"),n=0;n<t.length;n++){var r=getFunctionNameFromStackTraceLine(t[n]);if(r){if(internalReactFunctionNames.has(r))break;if(/^[A-Z]/.test(r))return sanitizeIdentifier(r)}}},typePropName="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",labelPropName="__EMOTION_LABEL_PLEASE_DO_NOT_USE__",createEmotionProps=function(e,t){if("production"!==process.env.NODE_ENV&&"string"==typeof t.css&&-1!==t.css.indexOf(":"))throw new Error("Strings are not allowed as css prop values, please wrap it in a css template literal from '@emotion/react' like this: css`"+t.css+"`");var n,r={};for(n in t)hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r[typePropName]=e,"production"===process.env.NODE_ENV||!t.css||"object"==typeof t.css&&"string"==typeof t.css.name&&-1!==t.css.name.indexOf("-")||(e=getLabelFromStackTrace((new Error).stack))&&(r[labelPropName]=e),r},Insertion$1=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag,e=(registerStyles(t,n,r),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(t,n,r)}));if(isBrowser$2||void 0===e)return null;for(var o,i=n.name,a=n.next;void 0!==a;)i+=" "+a.name,a=a.next;return React$1.createElement("style",((o={})["data-emotion"]=t.key+" "+i,o.dangerouslySetInnerHTML={__html:e},o.nonce=t.sheet.nonce,o))},Emotion=withEmotionCache(function(e,t,n){var r,o,i=e.css,a=("string"==typeof i&&void 0!==t.registered[i]&&(i=t.registered[i]),e[typePropName]),i=[i],s="",i=("string"==typeof e.className?s=getRegisteredStyles(t.registered,i,e.className):null!=e.className&&(s=e.className+" "),serializeStyles(i,void 0,React$1.useContext(ThemeContext))),l=("production"!==process.env.NODE_ENV&&-1===i.name.indexOf("-")&&(r=e[labelPropName])&&(i=serializeStyles([i,"label:"+r+";"])),s+=t.key+"-"+i.name,{});for(o in e)!hasOwnProperty.call(e,o)||"css"===o||o===typePropName||"production"!==process.env.NODE_ENV&&o===labelPropName||(l[o]=e[o]);return l.ref=n,l.className=s,React$1.createElement(React$1.Fragment,null,React$1.createElement(Insertion$1,{cache:t,serialized:i,isStringTag:"string"==typeof a}),React$1.createElement(a,l))}),Emotion$1=("production"!==process.env.NODE_ENV&&(Emotion.displayName="EmotionCssPropInternal"),Emotion);function jsx(e,t,n){return hasOwnProperty.call(t,"css")?ReactJSXRuntime.jsx(Emotion$1,createEmotionProps(e,t),n):ReactJSXRuntime.jsx(e,t,n)}function jsxs(e,t,n){return hasOwnProperty.call(t,"css")?ReactJSXRuntime.jsxs(Emotion$1,createEmotionProps(e,t),n):ReactJSXRuntime.jsxs(e,t,n)}const LayerContext=createContext({}),LayerProvider=({id:e,children:t})=>jsx(LayerContext.Provider,{value:{id:e},children:t}),PageContext=createContext({}),PageProvider=({pageIndex:e,children:t})=>jsx(PageContext.Provider,{value:{pageIndex:e},children:t}),useLayer=t=>{const o=useContext(PageContext)["pageIndex"],i=useContext(LayerContext)["id"],e=useEditor(e=>t&&e.pages[o]&&e.pages[o].layers[i]&&t(e.pages[o].layers[i])),{state:n,actions:a}=e,r=__rest(e,["state","actions"]);var s=useMemo(()=>({setProp:e=>a.setProp(o,i,e),select:()=>a.selectLayers(o,i),hover:e=>a.hoverLayer(o,void 0===e?i:null),setTextEditor:e=>a.setTextEditor(o,i,e),openTextEditor:()=>a.openTextEditor(o,i),openImageEditor:({boxSize:e,position:t,rotate:n,image:r})=>a.openImageEditor(o,i,{boxSize:e,position:t,rotate:n,image:r})}),[i,a]);return Object.assign(Object.assign({},r),{pageIndex:o,id:i,state:n,actions:s})},useSelectedLayers=()=>{const r=useContext(PageContext)["pageIndex"];var{selectedLayerIds:e,selectedLayers:t}=useEditor(t=>{const n=void 0===r?t.activePage:r;var e=(t.selectedLayers[n]||[]).filter(e=>t.pages[n]&&t.pages[n].layers[e]);return{selectedLayerIds:e,selectedLayers:e.map(e=>t.pages[n].layers[e])}});return{selectedLayerIds:e,selectedLayers:t}},normalizeNumber=e=>0<e%1&&e%1<.5?Math.round(e):Math.round(1e3*e)/1e3,getCirclePath=({width:e,height:t})=>{var n=4*(Math.sqrt(2)-1)/3,r=normalizeNumber(e/2),o=normalizeNumber(t/2),i=normalizeNumber(e*n),n=normalizeNumber(t*n),i=normalizeNumber((e-i)/2),n=normalizeNumber((t-n)/2),a=[`M ${r} 0`];return a.push(`C ${e-i} 0 ${e} ${n} ${e} `+o),a.push(`C ${e} ${t-n} ${e-i} ${t} ${r} `+t),a.push(`C ${i} ${t} 0 ${t-n} 0 `+o),a.push(`C 0 ${n} ${i} 0 ${r} 0`),a.join(" ")},getRectanglePath=({width:e,height:t,roundedCorners:n})=>{var r=.005*Math.min(e,t),r=normalizeNumber(Math.min(Math.min(e/2,r*n),t/2)),o=4*(Math.sqrt(2)-1)/3,o=normalizeNumber(r*(1-o)),i=[`M ${r} 0`];return i.push(`L ${normalizeNumber(e)-r} 0`),n&&i.push(`C ${normalizeNumber(e)-o} 0 ${normalizeNumber(e)} ${o} ${normalizeNumber(e)} `+r),i.push(`L ${normalizeNumber(e)} `+(normalizeNumber(t)-r)),n&&i.push(`C ${normalizeNumber(e)} ${normalizeNumber(t)-o} ${normalizeNumber(e)-o} ${normalizeNumber(t)} ${normalizeNumber(e)-r} `+normalizeNumber(t)),i.push(`L ${r} `+normalizeNumber(t)),n&&i.push(`C ${o} ${normalizeNumber(t)} 0 ${normalizeNumber(t)-o} 0 `+(normalizeNumber(t)-r)),i.push("L 0 "+r),n&&i.push(`C 0 ${o} ${o} 0 ${r} 0`),i.join(" ")},getTrianglePath=({width:e,height:t})=>{var n=normalizeNumber(e/2),r=[`M ${n} 0`];return r.push(`L ${normalizeNumber(e)} `+normalizeNumber(t)),r.push("L 0 "+normalizeNumber(t)),r.push(`L ${n} 0`),r.join(" ")},getTriangleUpsideDownPath=({width:e,height:t})=>{var n=normalizeNumber(e/2),r=["M 0 0"];return r.push(`L ${normalizeNumber(e)} 0`),r.push(`L ${n} `+normalizeNumber(t)),r.push("L 0 0"),r.join(" ")},PADDING$1=16,getParallelogramPath=({width:e,height:t})=>{var n=[`M ${PADDING$1} 0`];return n.push(`L ${normalizeNumber(e)} 0`),n.push(`L ${normalizeNumber(e)-PADDING$1} `+normalizeNumber(t)),n.push("L 0 "+normalizeNumber(t)),n.push(`L ${PADDING$1} 0`),n.join(" ")},getParallelogramUpsideDownPath=({width:e,height:t})=>{var n=[`M ${normalizeNumber(e-PADDING$1)} 0`];return n.push("L 0 0"),n.push(`L ${PADDING$1} `+normalizeNumber(t)),n.push(`L ${PADDING$1} `+normalizeNumber(t)),n.push(`L ${normalizeNumber(e)} `+normalizeNumber(t)),n.push(`L ${normalizeNumber(e)-PADDING$1} 0`),n.join(" ")},ARROW_SIZE=32,getArrowPath=({width:e,height:t})=>{var n=normalizeNumber(t/4),r=[`M ${normalizeNumber(e)-ARROW_SIZE} 0`];return r.push(`L ${normalizeNumber(e)} `+normalizeNumber(t/2)),r.push(`L ${normalizeNumber(e)-ARROW_SIZE} `+normalizeNumber(t)),r.push(`L ${normalizeNumber(e)-ARROW_SIZE} `+normalizeNumber(t-n)),r.push("L 0 "+normalizeNumber(t-n)),r.push("L 0 "+normalizeNumber(n)),r.push(`L ${normalizeNumber(e)-ARROW_SIZE} `+normalizeNumber(n)),r.push(`L  ${normalizeNumber(e)-ARROW_SIZE} 0`),r.join(" ")},getArrowBottomPath=({width:e,height:t})=>{var n=normalizeNumber(e/4),r=[`M ${normalizeNumber(n)} 0`];return r.push(`L ${normalizeNumber(e-n)} 0`),r.push(`L ${normalizeNumber(e-n)} `+(normalizeNumber(t)-ARROW_SIZE)),r.push(`L ${normalizeNumber(e)} `+(normalizeNumber(t)-ARROW_SIZE)),r.push(`L ${normalizeNumber(e/2)} `+t),r.push("L 0 "+(normalizeNumber(t)-ARROW_SIZE)),r.push(`L ${n} `+(normalizeNumber(t)-ARROW_SIZE)),r.push(`L ${n} 0`),r.join(" ")},getArrowTopPath=({width:e,height:t})=>{var n=e/4,r=[`M ${normalizeNumber(e/2)} 0`];return r.push(`L ${normalizeNumber(e)} `+ARROW_SIZE),r.push(`L ${normalizeNumber(e-n)} `+ARROW_SIZE),r.push(`L ${normalizeNumber(e-n)} `+normalizeNumber(t)),r.push(`L ${n} `+normalizeNumber(t)),r.push(`L ${n} `+ARROW_SIZE),r.push("L 0 "+ARROW_SIZE),r.push(`L ${normalizeNumber(e/2)} 0`),r.join(" ")},getArrowLeftPath=({width:e,height:t})=>{var n=normalizeNumber(t/4),r=[`M ${ARROW_SIZE} 0`];return r.push(`L ${ARROW_SIZE} `+n),r.push(`L ${normalizeNumber(e)} `+n),r.push(`L ${normalizeNumber(e)} `+(normalizeNumber(t)-n)),r.push(`L ${ARROW_SIZE} `+(normalizeNumber(t)-n)),r.push(`L ${ARROW_SIZE} `+normalizeNumber(t)),r.push("L 0 "+normalizeNumber(t/2)),r.push(`L ${ARROW_SIZE} 0`),r.join(" ")},getChevronPath=({width:e,height:t})=>{var n=ARROW_SIZE/2,r=normalizeNumber(t/2),o=["M 0 0"];return o.push(`L ${normalizeNumber(e)-n} 0`),o.push(`L ${normalizeNumber(e)} `+r),o.push(`L ${normalizeNumber(e)-n} `+t),o.push("L 0 "+normalizeNumber(t)),o.push(`L ${n} `+r),o.push("L 0 0"),o.join(" ")},getArrowPentagonPath=({width:e,height:t})=>{var n=ARROW_SIZE/2,r=t/2,o=["M 0 0"];return o.push(`L ${e-n} 0`),o.push(`L ${e} `+r),o.push(`L ${e-n} `+t),o.push("L 0 "+t),o.push("L 0 0"),o.join(" ")},getRhombusPath=({width:e,height:t})=>{var n=normalizeNumber(e/2),r=normalizeNumber(t/2),o=[`M ${n} 0`];return o.push(`L ${normalizeNumber(e)} `+r),o.push(`L ${n} `+normalizeNumber(t)),o.push("L 0 "+r),o.push(`L ${n} 0`),o.join(" ")},PADDING=16,getTrapezoidPath=({width:e,height:t})=>{var n=[`M ${PADDING} 0`];return n.push(`L ${normalizeNumber(e)-PADDING} 0`),n.push(`L ${normalizeNumber(e)} `+normalizeNumber(t)),n.push("L 0 "+normalizeNumber(t)),n.push(`L ${PADDING} 0`),n.join(" ")},getTrapezoidUpsideDownPath=({width:e,height:t})=>{var n=["M 0 0"];return n.push(`L ${normalizeNumber(e)} 0`),n.push(`L ${normalizeNumber(e)-PADDING} `+normalizeNumber(t)),n.push(`L ${PADDING} `+normalizeNumber(t)),n.push("L 0 0"),n.join(" ")},getCrossPath=({width:e,height:t})=>{var n=normalizeNumber(e/3),r=2*n,o=normalizeNumber(t/3),i=2*o,a=[`M ${n} 0`];return a.push(`L ${r} 0`),a.push(`L ${r} `+o),a.push(`L ${normalizeNumber(e)} `+o),a.push(`L ${normalizeNumber(e)} `+i),a.push(`L ${r} `+i),a.push(`L ${r} `+normalizeNumber(t)),a.push(`L ${n} `+normalizeNumber(t)),a.push(`L ${n} `+i),a.push("L 0 "+i),a.push("L 0 "+o),a.push(`L ${n} `+o),a.push(`L ${n} 0`),a.join(" ")},getPentagonPath=({width:e,height:t})=>{var n=[`M ${normalizeNumber(e/2)} 0`];return n.push(`L ${normalizeNumber(e)} `+normalizeNumber(.382*t)),n.push(`L ${normalizeNumber(e-.191*e)} `+normalizeNumber(t)),n.push(`L ${normalizeNumber(.191*e)} `+normalizeNumber(t)),n.push("L 0 "+normalizeNumber(.382*t)),n.push(`L ${normalizeNumber(e/2)} 0`),n.join(" ")},getHexagonVerticalPath=({width:e,height:t})=>{var n=normalizeNumber(.25*t),r=[`M ${normalizeNumber(e/2)} 0`];return r.push(`L ${normalizeNumber(e)} `+n),r.push(`L ${normalizeNumber(e)} `+(normalizeNumber(t)-n)),r.push(`L ${normalizeNumber(e/2)} `+normalizeNumber(t)),r.push("L 0 "+normalizeNumber(t-n)),r.push("L 0 "+n),r.push(`L ${normalizeNumber(e/2)} 0`),r.join(" ")},getHexagonHorizontalPath=({width:e,height:t})=>{var n=normalizeNumber(.25*e),r=[`M ${n} 0`];return r.push(`L ${normalizeNumber(e)-n} 0`),r.push(`L ${normalizeNumber(e)} `+normalizeNumber(t/2)),r.push(`L ${normalizeNumber(e-n)} `+normalizeNumber(t)),r.push(`L ${n} `+normalizeNumber(t)),r.push("L 0 "+normalizeNumber(t/2)),r.push(`L ${n} 0`),r.join(" ")},getOctagonPath=({width:e,height:t})=>{var n=normalizeNumber(.29*e),r=normalizeNumber(.29*t),o=[`M ${n} 0`];return o.push(`L ${normalizeNumber(e)-n} 0`),o.push(`L ${normalizeNumber(e)} `+r),o.push(`L ${normalizeNumber(e)} `+(normalizeNumber(t)-r)),o.push(`L ${normalizeNumber(e)-n} `+normalizeNumber(t)),o.push(`L ${n} `+normalizeNumber(t)),o.push("L 0 "+(normalizeNumber(t)-r)),o.push("L 0 "+r),o.push(`L ${n} 0`),o.join(" ")},getShapePath=(e,t)=>{switch(e){case"circle":return getCirclePath(t);case"rectangle":return getRectanglePath(t);case"triangle":return getTrianglePath(t);case"triangleUpsideDown":return getTriangleUpsideDownPath(t);case"cross":return getCrossPath(t);case"parallelogram":return getParallelogramPath(t);case"parallelogramUpsideDown":return getParallelogramUpsideDownPath(t);case"trapezoid":return getTrapezoidPath(t);case"trapezoidUpsideDown":return getTrapezoidUpsideDownPath(t);case"arrowRight":return getArrowPath(t);case"arrowLeft":return getArrowLeftPath(t);case"arrowTop":return getArrowTopPath(t);case"arrowBottom":return getArrowBottomPath(t);case"rhombus":return getRhombusPath(t);case"chevron":return getChevronPath(t);case"arrowPentagon":return getArrowPentagonPath(t);case"pentagon":return getPentagonPath(t);case"hexagonVertical":return getHexagonVerticalPath(t);case"hexagonHorizontal":return getHexagonHorizontalPath(t);case"octagon":return getOctagonPath(t)}},scalePath=(e,t)=>{return e.split(" ").map(e=>e.match(/^[+-]?\d+(\.\d+)?$/)?parseFloat(e)*t:e).join(" ")},hex2rgb=e=>(e="#"===e[0]?e.substring(1):e).length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?Math.round(parseInt(e[3]+e[3],16)/255*100)/100:1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:8===e.length?Math.round(parseInt(e.substring(6,8),16)/255*100)/100:1},hex2rgbString=e=>{var{r:e,g:t,b:n,a:r}=hex2rgb(e);return 1===r?`rgb(${e}, ${t}, ${n})`:`rgba(${e}, ${t}, ${n}, ${r})`},rgb2hsv=({r:e,g:t,b:n,a:r})=>{let o;var i=Math.max(e,t,n),a=i-Math.min(e,t,n);return o=0==a?0:e===i?(t-n)/a%6:t===i?(n-e)/a+2:(e-t)/a+4,(o*=60)<0&&(o+=360),{h:o,s:100*(0===i?0:a/i),v:i/255*100,a:r}},hex2hsv=e=>{e=hex2rgb(e);return rgb2hsv(e)},hsl2hsv=({h:e,s:t,l:n,a:r})=>({h:e,s:0<(t*=(n<50?n:100-n)/100)?2*t/(n+t)*100:0,v:n+t,a:r}),hsv2rgb=({h:e,s:t,v:n,a:r})=>{let o=[];var t=(n/=100)*(t/=100),i=e/60,a=t*(1-Math.abs(i%2-1)),n=n-t;return o=0<=i&&i<1?[t,a,0]:1<=i&&i<2?[a,t,0]:2<=i&&i<3?[0,t,a]:3<=e&&i<4?[0,a,t]:4<=e&&i<5?[a,0,t]:5<=e&&i<=6?[t,0,a]:[0,0,0],{r:Math.round(255*(o[0]+n)),g:Math.round(255*(o[1]+n)),b:Math.round(255*(o[2]+n)),a:r}},convert=e=>{e=e.toString(16);return 1===e.length?"0"+e:e},rgb2hex=({r:e,g:t,b:n,a:r})=>{r=r<1?convert(Math.round(255*r)):"";return"#"+[convert(e),convert(t),convert(n),r].join("")},hsv2hex=({h:e,s:t,v:n,a:r})=>{e=hsv2rgb({h:e,s:t,v:n,a:r});return rgb2hex(e)},hsv2hsl=({h:e,s:t,v:n,a:r})=>{var o=(200-t)*n/100;return{h:e,s:0<o&&o<200?t*n/100/(o<=100?o:200-o)*100:0,l:o/2,a:r}},hsv2hslString=({h:e,s:t,v:n,a:r})=>{e=hsv2hsl({h:e,s:t,v:n,a:r});return`hsl(${e.h}, ${e.s}%, ${e.l}%, ${e.a})`},rgbColorRegex=/rgba?\((?<r>[.\d]+)[, ]+(?<g>[.\d]+)[, ]+(?<b>[.\d]+)(?:\s?[,\/]\s?(?<a>[.\d]+%?))?\)/i,parseRgba=e=>{e=rgbColorRegex.exec(e);if(null!=e&&e.groups)return{r:parseInt(e.groups.r,10),g:parseInt(e.groups.g,10),b:parseInt(e.groups.b,10),a:void 0!==e.groups.a?parseInt(e.groups.a):1}},hexColorRegex=/^#[0-9A-F]{3,6}[0-9a-f]{0,2}$/i,parseHex=e=>hex2rgb(e),parseColor=e=>{let t;if(rgbColorRegex.test(e)?t=parseRgba(e):hexColorRegex.test(e)&&(t=parseHex(e)),t)return rgb2hsv(t);throw new Error("Cannot parse "+e)},isRGB=e=>Object.keys(e).every(e=>["r","g","b","a"].includes(e)),isHSL=e=>Object.keys(e).every(e=>["h","s","l","a"].includes(e)),hsv2hwb=({h:e,s:t,v:n})=>({h:e,w:(100-t)*n/100,b:100-n}),hwb2hsv=({h:e,w:t,b:n},r)=>({h:e,s:Math.max(0,Math.min(100,100===n?0:100-t/(100-n)*100)),v:100-n,a:r});class Color{constructor(e){var t;Object.defineProperty(this,"_color",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_alpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),"string"==typeof e?(t=parseColor(e),this._color=t,this._alpha=t.a||1):(isRGB(e)?this._color=rgb2hsv(e):isHSL(e)?this._color=hsl2hsv(e):this._color=e,this._alpha=e.a||1)}alpha(e){return this._alpha=e,this}white(){return this.toHwb().w}darken(e){var t=this.toHsl();return t.l=Math.min(100,Math.max(t.l-t.l*e,0)),this._color=hsl2hsv(t),this}whiten(e){var t=this.toHwb();return t.w=Math.min(100,Math.max(t.w+t.w*e,0)),this._color=hwb2hsv(t,this._alpha),this}blacken(e){var t=this.toHwb();return t.b=Math.min(100,Math.max(t.b+t.b*e,0)),this._color=hwb2hsv(t,this._alpha),this}toHwb(){return hsv2hwb(this._color)}toHsl(){return hsv2hsl(Object.assign(Object.assign({},this._color),{a:this._alpha}))}toRgbString(){var e=hsv2rgb(Object.assign(Object.assign({},this._color),{a:this._alpha}));return`rgb${1!==e.a?"a":""}(${e.r}, ${e.g}, ${e.b}${1!==e.a?", "+e.a:""})`}toHex(){return hsv2hex(Object.assign(Object.assign({},this._color),{a:this._alpha}))}}const isMouseEvent=e=>Boolean((e.clientX||0===e.clientX)&&(e.clientY||0===e.clientY)),isTouchEvent=e=>Boolean(e.touches&&e.touches.length),getPosition=e=>isTouchEvent(e)?e.touches[0]:e;var lib={},uaParser_min={exports:{}},uaParser_minExports=(uaParser_min.exports,!function(L,j){function e(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t}function A(e,t){return typeof e===g&&-1!==D(t).indexOf(D(e))}function s(e,t){if(typeof e===g)return e=e.replace(/^\s\s*/,p),typeof t==h?e:e.substring(0,350)}function l(e,t){for(var n,r,o,i,a,s=0;s<t.length&&!i;){for(var l=t[s],c=t[s+1],u=n=0;u<l.length&&!i&&l[u];)if(i=l[u++].exec(e))for(r=0;r<c.length;r++)a=i[++n],typeof(o=c[r])===m&&0<o.length?2===o.length?typeof o[1]==f?this[o[0]]=o[1].call(this,a):this[o[0]]=o[1]:3===o.length?typeof o[1]!==f||o[1].exec&&o[1].test?this[o[0]]=a?a.replace(o[1],o[2]):d:this[o[0]]=a?o[1].call(this,a,o[2]):d:4===o.length&&(this[o[0]]=a?o[3].call(this,a.replace(o[1],o[2])):d):this[o]=a||d;s+=2}}function t(e,t){for(var n in t)if(typeof t[n]===m&&0<t[n].length){for(var r=0;r<t[n].length;r++)if(A(t[n][r],e))return"?"===n?d:n}else if(A(t[n],e))return"?"===n?d:n;return e}function c(e,t){var n,r,o,i,a;return typeof e===m&&(t=e,e=d),this instanceof c?(n=typeof u!=h&&u.navigator?u.navigator:d,r=e||(n&&n.userAgent?n.userAgent:p),o=n&&n.userAgentData?n.userAgentData:d,i=t?function(e,t){var n,r={};for(n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r}(P,t):P,a=n&&n.userAgent==r,this.getBrowser=function(){var e,t={};return t[y]=d,t[x]=d,l.call(t,r,i.browser),t.major=typeof(e=t[x])===g?e.replace(/[^\d\.]/g,p).split(".")[0]:d,a&&n&&n.brave&&typeof n.brave.isBrave==f&&(t[y]="Brave"),t},this.getCPU=function(){var e={};return e[S]=d,l.call(e,r,i.cpu),e},this.getDevice=function(){var e={};return e[w]=d,e[v]=d,e[b]=d,l.call(e,r,i.device),a&&!e[b]&&o&&o.mobile&&(e[b]=k),a&&"Macintosh"==e[v]&&n&&typeof n.standalone!=h&&n.maxTouchPoints&&2<n.maxTouchPoints&&(e[v]="iPad",e[b]=C),e},this.getEngine=function(){var e={};return e[y]=d,e[x]=d,l.call(e,r,i.engine),e},this.getOS=function(){var e={};return e[y]=d,e[x]=d,l.call(e,r,i.os),a&&!e[y]&&o&&"Unknown"!=o.platform&&(e[y]=o.platform.replace(/chrome os/i,$).replace(/macos/i,"Mac OS")),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===g&&350<e.length?s(e,350):e,this},this.setUA(r),this):new c(e,t).getResult()}var u,d,r,p,f,h,m,g,v,y,b,w,x,S,k,C,n,o,i,F,a,E,T,_,R,O,I,M,$,D,N,P,z;u="object"==typeof window?window:commonjsGlobal,f="function",h="undefined",m="object",g="string",P={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[x="version",[y="name",a="Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[x,[y,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[y,x],[/opios[\/ ]+([\w\.]+)/i],[x,[y,(M="Opera")+" Mini"]],[/\bopr\/([\w\.]+)/i],[x,[y,M]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[y,x],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[x,[y,"UC"+(_="Browser")]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[x,[y,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[x,[y,"WeChat"]],[/konqueror\/([\w\.]+)/i],[x,[y,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[x,[y,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[x,[y,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[y,/(.+)/,"$1 Secure "+_],x],[/\bfocus\/([\w\.]+)/i],[x,[y,(E="Firefox")+" Focus"]],[/\bopt\/([\w\.]+)/i],[x,[y,M+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[x,[y,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[x,[y,"Dolphin"]],[/coast\/([\w\.]+)/i],[x,[y,M+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[x,[y,"MIUI "+_]],[/fxios\/([-\w\.]+)/i],[x,[y,E]],[/\bqihu|(qi?ho?o?|360)browser/i],[[y,"360 "+_]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[y,/(.+)/,"$1 "+_],x],[/(comodo_dragon)\/([\w\.]+)/i],[[y,/_/g," "],x],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[y,x],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[y],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[y,M="Facebook"],x],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[y,x],[/\bgsa\/([\w\.]+) .*safari\//i],[x,[y,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[x,[y,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[x,[y,a+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[y,a+" WebView"],x],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[x,[y,"Android "+_]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[y,x],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[x,[y,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[x,y],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[y,[x,t,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[y,x],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[y,"Netscape"],x],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[x,[y,E+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[y,x],[/(cobalt)\/([\w\.]+)/i],[y,[x,/master.|lts./,p=""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[S="architecture","amd64"]],[/(ia32(?=;))/i],[[S,D=function(e){return e.toLowerCase()}]],[/((?:i[346]|x)86)[;\)]/i],[[S,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[S,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[S,"armhf"]],[/windows (ce|mobile); ppc;/i],[[S,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[S,/ower/,p,D]],[/(sun4\w)[;\)]/i],[[S,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[S,D]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[v="model",[w="vendor",_="Samsung"],[b="type",C="tablet"]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[v,[w,_],[b,k="mobile"]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[v,[w,i="Apple"],[b,k]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[v,[w,i],[b,C]],[/(macintosh);/i],[v,[w,i]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[v,[w,"Sharp"],[b,k]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[v,[w,"Huawei"],[b,C]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[v,[w,"Huawei"],[b,k]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[v,/_/g," "],[w,O="Xiaomi"],[b,k]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[v,/_/g," "],[w,O],[b,C]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[v,[w,"OPPO"],[b,k]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[v,[w,"Vivo"],[b,k]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[v,[w,"Realme"],[b,k]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[v,[w,T="Motorola"],[b,k]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[v,[w,T],[b,C]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[v,[w,"LG"],[b,C]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[v,[w,"LG"],[b,k]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[v,[w,"Lenovo"],[b,C]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[v,/_/g," "],[w,"Nokia"],[b,k]],[/(pixel c)\b/i],[v,[w,T="Google"],[b,C]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[v,[w,T],[b,k]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[v,[w,R="Sony"],[b,k]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[v,"Xperia Tablet"],[w,R],[b,C]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[v,[w,"OnePlus"],[b,k]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[v,[w,o="Amazon"],[b,C]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[v,/(.+)/g,"Fire Phone $1"],[w,o],[b,k]],[/(playbook);[-\w\),; ]+(rim)/i],[v,w,[b,C]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[v,[w,F="BlackBerry"],[b,k]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[v,[w,"ASUS"],[b,C]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[v,[w,"ASUS"],[b,k]],[/(nexus 9)/i],[v,[w,"HTC"],[b,C]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[w,[v,/_/g," "],[b,k]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[v,[w,"Acer"],[b,C]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[v,[w,"Meizu"],[b,k]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[w,v,[b,k]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[w,v,[b,C]],[/(surface duo)/i],[v,[w,N="Microsoft"],[b,C]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[v,[w,"Fairphone"],[b,k]],[/(u304aa)/i],[v,[w,"AT&T"],[b,k]],[/\bsie-(\w*)/i],[v,[w,"Siemens"],[b,k]],[/\b(rct\w+) b/i],[v,[w,"RCA"],[b,C]],[/\b(venue[\d ]{2,7}) b/i],[v,[w,"Dell"],[b,C]],[/\b(q(?:mv|ta)\w+) b/i],[v,[w,"Verizon"],[b,C]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[v,[w,"Barnes & Noble"],[b,C]],[/\b(tm\d{3}\w+) b/i],[v,[w,"NuVision"],[b,C]],[/\b(k88) b/i],[v,[w,"ZTE"],[b,C]],[/\b(nx\d{3}j) b/i],[v,[w,"ZTE"],[b,k]],[/\b(gen\d{3}) b.+49h/i],[v,[w,"Swiss"],[b,k]],[/\b(zur\d{3}) b/i],[v,[w,"Swiss"],[b,C]],[/\b((zeki)?tb.*\b) b/i],[v,[w,"Zeki"],[b,C]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[w,"Dragon Touch"],v,[b,C]],[/\b(ns-?\w{0,9}) b/i],[v,[w,"Insignia"],[b,C]],[/\b((nxa|next)-?\w{0,9}) b/i],[v,[w,"NextBook"],[b,C]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[w,"Voice"],v,[b,k]],[/\b(lvtel\-)?(v1[12]) b/i],[[w,"LvTel"],v,[b,k]],[/\b(ph-1) /i],[v,[w,"Essential"],[b,k]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[v,[w,"Envizen"],[b,C]],[/\b(trio[-\w\. ]+) b/i],[v,[w,"MachSpeed"],[b,C]],[/\btu_(1491) b/i],[v,[w,"Rotor"],[b,C]],[/(shield[\w ]+) b/i],[v,[w,"Nvidia"],[b,C]],[/(sprint) (\w+)/i],[w,v,[b,k]],[/(kin\.[onetw]{3})/i],[[v,/\./g," "],[w,N],[b,k]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[v,[w,I="Zebra"],[b,C]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[v,[w,I],[b,k]],[/smart-tv.+(samsung)/i],[w,[b,n="smarttv"]],[/hbbtv.+maple;(\d+)/i],[[v,/^/,"SmartTV"],[w,_],[b,n]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[w,"LG"],[b,n]],[/(apple) ?tv/i],[w,[v,i+" TV"],[b,n]],[/crkey/i],[[v,a+"cast"],[w,T],[b,n]],[/droid.+aft(\w)( bui|\))/i],[v,[w,o],[b,n]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[v,[w,"Sharp"],[b,n]],[/(bravia[\w ]+)( bui|\))/i],[v,[w,R],[b,n]],[/(mitv-\w{5}) bui/i],[v,[w,O],[b,n]],[/Hbbtv.*(technisat) (.*);/i],[w,v,[b,n]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[w,s],[v,s],[b,n]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[b,n]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[w,v,[b,_="console"]],[/droid.+; (shield) bui/i],[v,[w,"Nvidia"],[b,_]],[/(playstation [345portablevi]+)/i],[v,[w,R],[b,_]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[v,[w,N],[b,_]],[/((pebble))app/i],[w,v,[b,O="wearable"]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[v,[w,i],[b,O]],[/droid.+; (glass) \d/i],[v,[w,T],[b,O]],[/droid.+; (wt63?0{2,3})\)/i],[v,[w,I],[b,O]],[/(quest( 2| pro)?)/i],[v,[w,M],[b,O]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[w,[b,R="embedded"]],[/(aeobc)\b/i],[v,[w,o],[b,R]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[v,[b,k]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[v,[b,C]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[b,C]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[b,k]],[/(android[-\w\. ]{0,9});.+buil/i],[v,[w,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[x,[y,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[x,[y,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[y,x],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[x,y]],os:[[/microsoft (windows) (vista|xp)/i],[y,x],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[y,[x,t,N={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[y,"Windows"],[x,t,N]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[x,/_/g,"."],[y,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[y,"Mac OS"],[x,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[x,y],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[y,x],[/\(bb(10);/i],[x,[y,F]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[x,[y,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[x,[y,E+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[x,[y,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[x,[y,"watchOS"]],[/crkey\/([\d\.]+)/i],[x,[y,a+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[y,$="Chromium OS"],x],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[y,x],[/(sunos) ?([\w\.\d]*)/i],[[y,"Solaris"],x],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[y,x]]},c.VERSION="1.0.35",c.BROWSER=e([y,x,"major"]),c.CPU=e([S]),c.DEVICE=e([v,w,b,_,k,n,C,O,R]),c.ENGINE=c.OS=e([y,x]),(j=L.exports?L.exports=c:j).UAParser=c,(z=typeof u!=h&&(u.jQuery||u.Zepto))&&!z.ua&&(r=new c,z.ua=r.getResult(),z.ua.get=function(){return r.getUA()},z.ua.set=function(e){r.setUA(e);var t,n=r.getResult();for(t in n)z.ua[t]=n[t]})}(uaParser_min,uaParser_min.exports),uaParser_min.exports);function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(lib,"__esModule",{value:!0});var React=React__default$1,React__default=_interopDefault(React),UAParser=uaParser_minExports,ClientUAInstance=new UAParser,browser=ClientUAInstance.getBrowser(),cpu=ClientUAInstance.getCPU(),device=ClientUAInstance.getDevice(),engine=ClientUAInstance.getEngine(),os$1=ClientUAInstance.getOS(),ua=ClientUAInstance.getUA(),setUa=function(e){return ClientUAInstance.setUA(e)},parseUserAgent=function(e){var t;if(e)return{UA:t=new UAParser(e),browser:t.getBrowser(),cpu:t.getCPU(),device:t.getDevice(),engine:t.getEngine(),os:t.getOS(),ua:t.getUA(),setUserAgent:function(e){return t.setUA(e)}};console.error("No userAgent string was provided")},UAHelper=Object.freeze({ClientUAInstance:ClientUAInstance,browser:browser,cpu:cpu,device:device,engine:engine,os:os$1,ua:ua,setUa:setUa,parseUserAgent:parseUserAgent});function ownKeys(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread2(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};for(var n,r={},o=Object.keys(e),i=0;i<o.length;i++)n=o[i],0<=t.indexOf(n)||(r[n]=e[n]);return r}function _objectWithoutProperties(e,t){if(null==e)return{};var n,r=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),i=0;i<o.length;i++)n=o[i],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _possibleConstructorReturn(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}function _unsupportedIterableToArray(e,t){var n;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var DeviceTypes={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},BrowserTypes={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},OsTypes={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},InitialDeviceTypes={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},checkDeviceType=function(e){switch(e){case DeviceTypes.Mobile:return{isMobile:!0};case DeviceTypes.Tablet:return{isTablet:!0};case DeviceTypes.SmartTv:return{isSmartTV:!0};case DeviceTypes.Console:return{isConsole:!0};case DeviceTypes.Wearable:return{isWearable:!0};case DeviceTypes.Browser:return{isBrowser:!0};case DeviceTypes.Embedded:return{isEmbedded:!0};default:return InitialDeviceTypes}},setUserAgent=function(e){return setUa(e)},setDefaults=function(e){return e||(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"none")},getNavigatorInstance=function(){return!("undefined"==typeof window||!window.navigator&&!navigator)&&(window.navigator||navigator)},isIOS13Check=function(e){var t=getNavigatorInstance();return t&&t.platform&&(-1!==t.platform.indexOf(e)||"MacIntel"===t.platform&&1<t.maxTouchPoints&&!window.MSStream)},browserPayload=function(e,t,n,r,o){return{isBrowser:e,browserMajorVersion:setDefaults(t.major),browserFullVersion:setDefaults(t.version),browserName:setDefaults(t.name),engineName:setDefaults(n.name),engineVersion:setDefaults(n.version),osName:setDefaults(r.name),osVersion:setDefaults(r.version),userAgent:setDefaults(o)}},mobilePayload=function(e,t,n,r){return _objectSpread2({},e,{vendor:setDefaults(t.vendor),model:setDefaults(t.model),os:setDefaults(n.name),osVersion:setDefaults(n.version),ua:setDefaults(r)})},smartTvPayload=function(e,t,n,r){return{isSmartTV:e,engineName:setDefaults(t.name),engineVersion:setDefaults(t.version),osName:setDefaults(n.name),osVersion:setDefaults(n.version),userAgent:setDefaults(r)}},consolePayload=function(e,t,n,r){return{isConsole:e,engineName:setDefaults(t.name),engineVersion:setDefaults(t.version),osName:setDefaults(n.name),osVersion:setDefaults(n.version),userAgent:setDefaults(r)}},wearablePayload=function(e,t,n,r){return{isWearable:e,engineName:setDefaults(t.name),engineVersion:setDefaults(t.version),osName:setDefaults(n.name),osVersion:setDefaults(n.version),userAgent:setDefaults(r)}},embeddedPayload=function(e,t,n,r,o){return{isEmbedded:e,vendor:setDefaults(t.vendor),model:setDefaults(t.model),engineName:setDefaults(n.name),engineVersion:setDefaults(n.version),osName:setDefaults(r.name),osVersion:setDefaults(r.version),userAgent:setDefaults(o)}};function deviceDetect(e){var e=e?parseUserAgent(e):UAHelper,t=e.device,n=e.browser,r=e.engine,o=e.os,e=e.ua,i=checkDeviceType(t.type),a=i.isBrowser,s=i.isMobile,l=i.isTablet,c=i.isSmartTV,u=i.isConsole,d=i.isWearable,p=i.isEmbedded;return a?browserPayload(a,n,r,o,e):c?smartTvPayload(c,r,o,e):u?consolePayload(u,r,o,e):s||l?mobilePayload(i,t,o,e):d?wearablePayload(d,r,o,e):p?embeddedPayload(p,t,r,o,e):void 0}var isMobileType=function(e){return e.type===DeviceTypes.Mobile},isTabletType=function(e){return e.type===DeviceTypes.Tablet},isMobileAndTabletType=function(e){e=e.type;return e===DeviceTypes.Mobile||e===DeviceTypes.Tablet},isSmartTVType=function(e){return e.type===DeviceTypes.SmartTv},isBrowserType=function(e){return e.type===DeviceTypes.Browser},isWearableType=function(e){return e.type===DeviceTypes.Wearable},isConsoleType=function(e){return e.type===DeviceTypes.Console},isEmbeddedType=function(e){return e.type===DeviceTypes.Embedded},getMobileVendor=function(e){e=e.vendor;return setDefaults(e)},getMobileModel=function(e){e=e.model;return setDefaults(e)},getDeviceType=function(e){e=e.type;return setDefaults(e,"browser")},isAndroidType=function(e){return e.name===OsTypes.Android},isWindowsType=function(e){return e.name===OsTypes.Windows},isMacOsType=function(e){return e.name===OsTypes.MAC_OS},isWinPhoneType=function(e){return e.name===OsTypes.WindowsPhone},isIOSType=function(e){return e.name===OsTypes.IOS},getOsVersion=function(e){e=e.version;return setDefaults(e)},getOsName=function(e){e=e.name;return setDefaults(e)},isChromeType=function(e){return e.name===BrowserTypes.Chrome},isFirefoxType=function(e){return e.name===BrowserTypes.Firefox},isChromiumType=function(e){return e.name===BrowserTypes.Chromium},isEdgeType=function(e){return e.name===BrowserTypes.Edge},isYandexType=function(e){return e.name===BrowserTypes.Yandex},isSafariType=function(e){e=e.name;return e===BrowserTypes.Safari||e===BrowserTypes.MobileSafari},isMobileSafariType=function(e){return e.name===BrowserTypes.MobileSafari},isOperaType=function(e){return e.name===BrowserTypes.Opera},isIEType=function(e){e=e.name;return e===BrowserTypes.InternetExplorer||e===BrowserTypes.Ie},isMIUIType=function(e){return e.name===BrowserTypes.MIUI},isSamsungBrowserType=function(e){return e.name===BrowserTypes.SamsungBrowser},getBrowserFullVersion=function(e){e=e.version;return setDefaults(e)},getBrowserVersion=function(e){e=e.major;return setDefaults(e)},getBrowserName=function(e){e=e.name;return setDefaults(e)},getEngineName=function(e){e=e.name;return setDefaults(e)},getEngineVersion=function(e){e=e.version;return setDefaults(e)},isElectronType=function(){var e=getNavigatorInstance(),e=e&&e.userAgent&&e.userAgent.toLowerCase();return"string"==typeof e&&/electron/.test(e)},isEdgeChromiumType=function(e){return"string"==typeof e&&-1!==e.indexOf("Edg/")},getIOS13=function(){var e=getNavigatorInstance();return e&&(/iPad|iPhone|iPod/.test(e.platform)||"MacIntel"===e.platform&&1<e.maxTouchPoints)&&!window.MSStream},getIPad13=function(){return isIOS13Check("iPad")},getIphone13=function(){return isIOS13Check("iPhone")},getIPod13=function(){return isIOS13Check("iPod")},getUseragent=function(e){return setDefaults(e)};function buildSelectorsObject(e){var e=e||UAHelper,t=e.device,n=e.browser,r=e.os,o=e.engine,e=e.ua;return{isSmartTV:isSmartTVType(t),isConsole:isConsoleType(t),isWearable:isWearableType(t),isEmbedded:isEmbeddedType(t),isMobileSafari:isMobileSafariType(n)||getIPad13(),isChromium:isChromiumType(n),isMobile:isMobileAndTabletType(t)||getIPad13(),isMobileOnly:isMobileType(t),isTablet:isTabletType(t)||getIPad13(),isBrowser:isBrowserType(t),isDesktop:isBrowserType(t),isAndroid:isAndroidType(r),isWinPhone:isWinPhoneType(r),isIOS:isIOSType(r)||getIPad13(),isChrome:isChromeType(n),isFirefox:isFirefoxType(n),isSafari:isSafariType(n),isOpera:isOperaType(n),isIE:isIEType(n),osVersion:getOsVersion(r),osName:getOsName(r),fullBrowserVersion:getBrowserFullVersion(n),browserVersion:getBrowserVersion(n),browserName:getBrowserName(n),mobileVendor:getMobileVendor(t),mobileModel:getMobileModel(t),engineName:getEngineName(o),engineVersion:getEngineVersion(o),getUA:getUseragent(e),isEdge:isEdgeType(n)||isEdgeChromiumType(e),isYandex:isYandexType(n),deviceType:getDeviceType(t),isIOS13:getIOS13(),isIPad13:getIPad13(),isIPhone13:getIphone13(),isIPod13:getIPod13(),isElectron:isElectronType(),isEdgeChromium:isEdgeChromiumType(e),isLegacyEdge:isEdgeType(n)&&!isEdgeChromiumType(e),isWindows:isWindowsType(r),isMacOs:isMacOsType(r),isMIUI:isMIUIType(n),isSamsungBrowser:isSamsungBrowserType(n)}}var isSmartTV=isSmartTVType(device),isConsole=isConsoleType(device),isWearable=isWearableType(device),isEmbedded=isEmbeddedType(device),isMobileSafari=isMobileSafariType(browser)||getIPad13(),isChromium=isChromiumType(browser),isMobile=isMobileAndTabletType(device)||getIPad13(),isMobileOnly=isMobileType(device),isTablet=isTabletType(device)||getIPad13(),isBrowser$1=isBrowserType(device),isDesktop=isBrowserType(device),isAndroid=isAndroidType(os$1),isWinPhone=isWinPhoneType(os$1),isIOS=isIOSType(os$1)||getIPad13(),isChrome=isChromeType(browser),isFirefox=isFirefoxType(browser),isSafari=isSafariType(browser),isOpera=isOperaType(browser),isIE=isIEType(browser),osVersion=getOsVersion(os$1),osName=getOsName(os$1),fullBrowserVersion=getBrowserFullVersion(browser),browserVersion=getBrowserVersion(browser),browserName=getBrowserName(browser),mobileVendor=getMobileVendor(device),mobileModel=getMobileModel(device),engineName=getEngineName(engine),engineVersion=getEngineVersion(engine),getUA=getUseragent(ua),isEdge=isEdgeType(browser)||isEdgeChromiumType(ua),isYandex=isYandexType(browser),deviceType=getDeviceType(device),isIOS13=getIOS13(),isIPad13=getIPad13(),isIPhone13=getIphone13(),isIPod13=getIPod13(),isElectron=isElectronType(),isEdgeChromium=isEdgeChromiumType(ua),isLegacyEdge=isEdgeType(browser)&&!isEdgeChromiumType(ua),isWindows=isWindowsType(os$1),isMacOs=isMacOsType(os$1),isMIUI=isMIUIType(browser),isSamsungBrowser=isSamsungBrowserType(browser),getSelectorsByUserAgent=function(e){if(e&&"string"==typeof e)return buildSelectorsObject({device:(e=parseUserAgent(e)).device,browser:e.browser,os:e.os,engine:e.engine,ua:e.ua});console.error("No valid user agent string was provided")},AndroidView=function(e){var t=e.renderWithFragment,n=e.children,e=_objectWithoutProperties(e,["renderWithFragment","children"]);return isAndroid?t?React__default.createElement(React.Fragment,null,n):React__default.createElement("div",e,n):null},BrowserView=function(e){var t=e.renderWithFragment,n=e.children,e=_objectWithoutProperties(e,["renderWithFragment","children"]);return isBrowser$1?t?React__default.createElement(React.Fragment,null,n):React__default.createElement("div",e,n):null},IEView=function(e){var t=e.renderWithFragment,n=e.children,e=_objectWithoutProperties(e,["renderWithFragment","children"]);return isIE?t?React__default.createElement(React.Fragment,null,n):React__default.createElement("div",e,n):null},IOSView=function(e){var t=e.renderWithFragment,n=e.children,e=_objectWithoutProperties(e,["renderWithFragment","children"]);return isIOS?t?React__default.createElement(React.Fragment,null,n):React__default.createElement("div",e,n):null},MobileView=function(e){var t=e.renderWithFragment,n=e.children,e=_objectWithoutProperties(e,["renderWithFragment","children"]);return isMobile?t?React__default.createElement(React.Fragment,null,n):React__default.createElement("div",e,n):null},TabletView=function(e){var t=e.renderWithFragment,n=e.children,e=_objectWithoutProperties(e,["renderWithFragment","children"]);return isTablet?t?React__default.createElement(React.Fragment,null,n):React__default.createElement("div",e,n):null},WinPhoneView=function(e){var t=e.renderWithFragment,n=e.children,e=_objectWithoutProperties(e,["renderWithFragment","children"]);return isWinPhone?t?React__default.createElement(React.Fragment,null,n):React__default.createElement("div",e,n):null},MobileOnlyView=function(e){var t=e.renderWithFragment,n=e.children,e=(e.viewClassName,e.style,_objectWithoutProperties(e,["renderWithFragment","children","viewClassName","style"]));return isMobileOnly?t?React__default.createElement(React.Fragment,null,n):React__default.createElement("div",e,n):null},SmartTVView=function(e){var t=e.renderWithFragment,n=e.children,e=_objectWithoutProperties(e,["renderWithFragment","children"]);return isSmartTV?t?React__default.createElement(React.Fragment,null,n):React__default.createElement("div",e,n):null},ConsoleView=function(e){var t=e.renderWithFragment,n=e.children,e=_objectWithoutProperties(e,["renderWithFragment","children"]);return isConsole?t?React__default.createElement(React.Fragment,null,n):React__default.createElement("div",e,n):null},WearableView=function(e){var t=e.renderWithFragment,n=e.children,e=_objectWithoutProperties(e,["renderWithFragment","children"]);return isWearable?t?React__default.createElement(React.Fragment,null,n):React__default.createElement("div",e,n):null},CustomView=function(e){var t=e.renderWithFragment,n=e.children,r=(e.viewClassName,e.style,e.condition),e=_objectWithoutProperties(e,["renderWithFragment","children","viewClassName","style","condition"]);return r?t?React__default.createElement(React.Fragment,null,n):React__default.createElement("div",e,n):null};function withOrientationChange(e){return function(){function t(e){return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).isEventListenerAdded=!1,e.handleOrientationChange=e.handleOrientationChange.bind(_assertThisInitialized(e)),e.onOrientationChange=e.onOrientationChange.bind(_assertThisInitialized(e)),e.onPageLoad=e.onPageLoad.bind(_assertThisInitialized(e)),e.state={isLandscape:!1,isPortrait:!1},e}return _inherits(t,React__default.Component),_createClass(t,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var e=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:0==e,isLandscape:90==e})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){void 0!==("undefined"==typeof window?"undefined":_typeof(window))&&isMobile&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return React__default.createElement(e,_extends({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),t}()}function useMobileOrientation(){var e=_slicedToArray(React.useState(function(){var e=window.innerWidth>window.innerHeight?90:0;return{isPortrait:0==e,isLandscape:90==e,orientation:0==e?"portrait":"landscape"}}),2),t=e[0],n=e[1],r=React.useCallback(function(){var e=window.innerWidth>window.innerHeight?90:0,e={isPortrait:0==e,isLandscape:90==e,orientation:0==e?"portrait":"landscape"};t.orientation!==e.orientation&&n(e)},[t.orientation]);return React.useEffect(function(){return void 0!==("undefined"==typeof window?"undefined":_typeof(window))&&isMobile&&(r(),window.addEventListener("load",r,!1),window.addEventListener("resize",r,!1)),function(){window.removeEventListener("resize",r,!1),window.removeEventListener("load",r,!1)}},[r]),t}function useDeviceData(e){e=e||window.navigator.userAgent;return parseUserAgent(e)}function useDeviceSelectors(e){e=useDeviceData(e||window.navigator.userAgent);return[buildSelectorsObject(e),e]}lib.AndroidView=AndroidView,lib.BrowserTypes=BrowserTypes,lib.BrowserView=BrowserView,lib.ConsoleView=ConsoleView,lib.CustomView=CustomView,lib.IEView=IEView,lib.IOSView=IOSView,lib.MobileOnlyView=MobileOnlyView,lib.MobileView=MobileView,lib.OsTypes=OsTypes,lib.SmartTVView=SmartTVView,lib.TabletView=TabletView,lib.WearableView=WearableView,lib.WinPhoneView=WinPhoneView,lib.browserName=browserName,lib.browserVersion=browserVersion,lib.deviceDetect=deviceDetect,lib.deviceType=deviceType,lib.engineName=engineName,lib.engineVersion=engineVersion,lib.fullBrowserVersion=fullBrowserVersion,lib.getSelectorsByUserAgent=getSelectorsByUserAgent,lib.getUA=getUA,lib.isAndroid=isAndroid,lib.isBrowser=isBrowser$1,lib.isChrome=isChrome,lib.isChromium=isChromium,lib.isConsole=isConsole,lib.isDesktop=isDesktop,lib.isEdge=isEdge,lib.isEdgeChromium=isEdgeChromium,lib.isElectron=isElectron,lib.isEmbedded=isEmbedded,lib.isFirefox=isFirefox,lib.isIE=isIE,lib.isIOS=isIOS,lib.isIOS13=isIOS13,lib.isIPad13=isIPad13,lib.isIPhone13=isIPhone13,lib.isIPod13=isIPod13,lib.isLegacyEdge=isLegacyEdge,lib.isMIUI=isMIUI;var isMacOs_1=lib.isMacOs=isMacOs,isMobile_1=lib.isMobile=isMobile;lib.isMobileOnly=isMobileOnly,lib.isMobileSafari=isMobileSafari,lib.isOpera=isOpera,lib.isSafari=isSafari,lib.isSamsungBrowser=isSamsungBrowser,lib.isSmartTV=isSmartTV,lib.isTablet=isTablet,lib.isWearable=isWearable,lib.isWinPhone=isWinPhone,lib.isWindows=isWindows,lib.isYandex=isYandex,lib.mobileModel=mobileModel,lib.mobileVendor=mobileVendor,lib.osName=osName,lib.osVersion=osVersion,lib.parseUserAgent=parseUserAgent,lib.setUserAgent=setUserAgent,lib.useDeviceData=useDeviceData,lib.useDeviceSelectors=useDeviceSelectors,lib.useMobileOrientation=useMobileOrientation,lib.withOrientationChange=withOrientationChange;const normalizeKeyName$1=e=>{var t=e.split(/-(?!$)/);let n=t[t.length-1];"Space"==n&&(n=" ");let r,o,i,a;for(let e=0;e<t.length-1;e++){var s=t[e];if(/^(cmd|meta|m)$/i.test(s))a=!0;else if(/^a(lt)?$/i.test(s))r=!0;else if(/^(c|ctrl|control)$/i.test(s))o=!0;else if(/^s(hift)?$/i.test(s))i=!0;else{if(!/^mod$/i.test(s))throw new Error("Unrecognized modifier name: "+s);isMacOs_1?a=!0:o=!0}}return r&&(n="Alt-"+n),o&&(n="Ctrl-"+n),a&&(n="Meta-"+n),n=i?"Shift-"+n:n},modifiers$1=(e,t,n=!0)=>(t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),e=n&&t.shiftKey?"Shift-"+e:e),isValidUrl=e=>{try{return new URL(e),!0}catch(e){return!1}},fetchSvgContent=o=>new Promise((t,n)=>{const e=new XMLHttpRequest,r=new FileReader;isValidUrl(o)?(e.open("GET",o),e.responseType="blob",e.onload=()=>{200===e.status?(r.readAsText(e.response),r.onloadend=()=>{var e=(new DOMParser).parseFromString(r.result,"text/xml").documentElement;t(e)}):n("Cannot parse content")},e.onerror=e=>{n(e)},e.send()):(r.readAsDataURL(b64toBlob(o,"image/svg+xml")),r.onloadend=()=>{var e=(new DOMParser).parseFromString(r.result,"text/xml").documentElement;t(e)})}),b64toBlob=(e,t="",n=512)=>{var r=atob(e),o=[];for(let e=0;e<r.length;e+=n){var i=r.slice(e,e+n),a=new Array(i.length);for(let e=0;e<i.length;e++)a[e]=i.charCodeAt(e);var s=new Uint8Array(a);o.push(s)}return new Blob(o,{type:t})};var lodash={exports:{}},lodashExports=(lodash.exports,!function(O,I){!function(){var Bi,Vi="Expected a function",ya="__lodash_hash_undefined__",ba="__lodash_placeholder__",Hi=128,Wi=9007199254740991,wa=NaN,Ui=4294967295,xa=[["ary",Hi],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],qi="[object Arguments]",Sa="[object Array]",Yi="[object Boolean]",Ki="[object Date]",ka="[object Error]",Ca="[object Function]",Ea="[object GeneratorFunction]",Gi="[object Map]",Zi="[object Number]",Xi="[object Object]",Ta="[object Promise]",Ji="[object RegExp]",Qi="[object Set]",ea="[object String]",_a="[object Symbol]",ta="[object WeakMap]",Ra="[object ArrayBuffer]",na="[object DataView]",Oa="[object Float32Array]",Ia="[object Float64Array]",Ma="[object Int8Array]",Da="[object Int16Array]",Na="[object Int32Array]",Pa="[object Uint8Array]",za="[object Uint8ClampedArray]",La="[object Uint16Array]",ja="[object Uint32Array]",Aa=/\b__p \+= '';/g,Fa=/\b(__p \+=) '' \+/g,$a=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ba=/&(?:amp|lt|gt|quot|#39);/g,Va=/[&<>"']/g,Ha=RegExp(Ba.source),Wa=RegExp(Va.source),Ua=/<%-([\s\S]+?)%>/g,qa=/<%([\s\S]+?)%>/g,Ya=/<%=([\s\S]+?)%>/g,Ka=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ga=/^\w*$/,Za=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xa=/[\\^$.*+?()[\]{}|]/g,Ja=RegExp(Xa.source),Qa=/^\s+/,i=/\s/,es=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ts=/\{\n\/\* \[wrapped with (.+)\] \*/,ns=/,? & /,rs=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,os=/[()=,{}\[\]\/\s]/,is=/\\(\\)?/g,as=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ss=/\w*$/,ls=/^[-+]0x[0-9a-f]+$/i,cs=/^0b[01]+$/i,us=/^\[object .+?Constructor\]$/,ds=/^0o[0-7]+$/i,ps=/^(?:0|[1-9]\d*)$/,fs=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,hs=/($^)/,ms=/['\n\r\u2028\u2029\\]/g,a="\\ud800-\\udfff",s="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",l="\\u2700-\\u27bf",e="a-z\\xdf-\\xf6\\xf8-\\xff",t="A-Z\\xc0-\\xd6\\xd8-\\xde",c="\\ufe0e\\ufe0f",u="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",d="[']",n="["+a+"]",p="["+u+"]",f="["+s+"]",h="["+l+"]",m="["+e+"]",u="[^"+a+u+"\\d+"+l+e+t+"]",l="\\ud83c[\\udffb-\\udfff]",e="[^"+a+"]",g="(?:\\ud83c[\\udde6-\\uddff]){2}",r="[\\ud800-\\udbff][\\udc00-\\udfff]",t="["+t+"]",v="\\u200d",y="(?:"+m+"|"+u+")",u="(?:"+t+"|"+u+")",b="(?:['](?:d|ll|m|re|s|t|ve))?",w="(?:['](?:D|LL|M|RE|S|T|VE))?",x="(?:"+f+"|"+l+")"+"?",S="["+c+"]?",S=S+x+("(?:"+v+"(?:"+[e,g,r].join("|")+")"+S+x+")*"),x="(?:"+[h,g,r].join("|")+")"+S,h="(?:"+[e+f+"?",f,g,r,n].join("|")+")",gs=RegExp(d,"g"),vs=RegExp(f,"g"),k=RegExp(l+"(?="+l+")|"+h+S,"g"),ys=RegExp([t+"?"+m+"+"+b+"(?="+[p,t,"$"].join("|")+")",u+"+"+w+"(?="+[p,t+y,"$"].join("|")+")",t+"?"+y+"+"+b,t+"+"+w,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",x].join("|"),"g"),C=RegExp("["+v+a+s+c+"]"),bs=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ws=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xs=-1,ra={},oa=(ra[Oa]=ra[Ia]=ra[Ma]=ra[Da]=ra[Na]=ra[Pa]=ra[za]=ra[La]=ra[ja]=!0,ra[qi]=ra[Sa]=ra[Ra]=ra[Yi]=ra[na]=ra[Ki]=ra[ka]=ra[Ca]=ra[Gi]=ra[Zi]=ra[Xi]=ra[Ji]=ra[Qi]=ra[ea]=ra[ta]=!1,{}),E=(oa[qi]=oa[Sa]=oa[Ra]=oa[na]=oa[Yi]=oa[Ki]=oa[Oa]=oa[Ia]=oa[Ma]=oa[Da]=oa[Na]=oa[Gi]=oa[Zi]=oa[Xi]=oa[Ji]=oa[Qi]=oa[ea]=oa[_a]=oa[Pa]=oa[za]=oa[La]=oa[ja]=!0,oa[ka]=oa[Ca]=oa[ta]=!1,{"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"}),Ss=parseFloat,ks=parseInt,e="object"==typeof commonjsGlobal&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,g="object"==typeof self&&self&&self.Object===Object&&self,ia=e||g||Function("return this")(),r=I&&!I.nodeType&&I,o=r&&O&&!O.nodeType&&O,Cs=o&&o.exports===r,T=Cs&&e.process,n=function(){try{var e=o&&o.require&&o.require("util").types;return e?e:T&&T.binding&&T.binding("util")}catch(e){}}(),Es=n&&n.isArrayBuffer,Ts=n&&n.isDate,_s=n&&n.isMap,Rs=n&&n.isRegExp,Os=n&&n.isSet,Is=n&&n.isTypedArray;function aa(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Ms(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function sa(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Ds(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Ns(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function la(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function Ps(e,t){return!!(null==e?0:e.length)&&-1<da(e,t,0)}function zs(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function ca(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function ua(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function Ls(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function js(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function As(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var _=Ws("length");function Fs(e,r,t){var o;return t(e,function(e,t,n){if(r(e,t,n))return o=t,!1}),o}function $s(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function da(e,t,n){if(t!=t)return $s(e,Vs,n);for(var r=e,o=t,i=n-1,a=r.length;++i<a;)if(r[i]===o)return i;return-1}function Bs(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function Vs(e){return e!=e}function Hs(e,t){var n=null==e?0:e.length;return n?qs(e,t)/n:wa}function Ws(t){return function(e){return null==e?Bi:e[t]}}function R(t){return function(e){return null==t?Bi:t[e]}}function Us(e,r,o,i,t){return t(e,function(e,t,n){o=i?(i=!1,e):r(o,e,t,n)}),o}function qs(e,t){for(var n,r=-1,o=e.length;++r<o;){var i=t(e[r]);i!==Bi&&(n=n===Bi?i:n+i)}return n}function Ys(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Ks(e){return e&&e.slice(0,il(e)+1).replace(Qa,"")}function pa(t){return function(e){return t(e)}}function Gs(t,e){return ca(e,function(e){return t[e]})}function Zs(e,t){return e.has(t)}function Xs(e,t){for(var n=-1,r=e.length;++n<r&&-1<da(t,e[n],0););return n}function Js(e,t){for(var n=e.length;n--&&-1<da(t,e[n],0););return n}var Qs=R({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),el=R({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function tl(e){return"\\"+E[e]}function fa(e){return C.test(e)}function nl(e){var n=-1,r=Array(e.size);return e.forEach(function(e,t){r[++n]=[t,e]}),r}function rl(t,n){return function(e){return t(n(e))}}function ha(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==ba||(e[n]=ba,i[o++]=n)}return i}function ol(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function ma(e){return(fa(e)?function(e){var t=k.lastIndex=0;for(;k.test(e);)++t;return t}:_)(e)}function ga(e){return fa(e)?e.match(k)||[]:e.split("")}function il(e){for(var t=e.length;t--&&i.test(e.charAt(t)););return t}var al=R({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var va=function o(e){var S=(e=null==e?ia:va.defaults(ia.Object(),e,va.pick(ia,ws))).Array,i=e.Date,D=e.Error,N=e.Function,P=e.Math,m=e.Object,z=e.RegExp,V=e.String,k=e.TypeError,H=S.prototype,W=N.prototype,U=m.prototype,q=e["__core-js_shared__"],Y=W.toString,L=U.hasOwnProperty,K=0,G=(W=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||""))?"Symbol(src)_1."+W:"",Z=U.toString,X=Y.call(m),J=ia._,Q=z("^"+Y.call(L).replace(Xa,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),W=Cs?e.Buffer:Bi,t=e.Symbol,ee=e.Uint8Array,te=W?W.allocUnsafe:Bi,ne=rl(m.getPrototypeOf,m),re=m.create,oe=U.propertyIsEnumerable,ie=H.splice,ae=t?t.isConcatSpreadable:Bi,se=t?t.iterator:Bi,le=t?t.toStringTag:Bi,ce=function(){try{var e=Jn(m,"defineProperty");return e({},"",{}),e}catch(e){}}(),ue=e.clearTimeout!==ia.clearTimeout&&e.clearTimeout,de=i&&i.now!==ia.Date.now&&i.now,pe=e.setTimeout!==ia.setTimeout&&e.setTimeout,fe=P.ceil,he=P.floor,me=m.getOwnPropertySymbols,W=W?W.isBuffer:Bi,ge=e.isFinite,ve=H.join,ye=rl(m.keys,m),C=P.max,E=P.min,be=i.now,we=e.parseInt,xe=P.random,Se=H.reverse,i=Jn(e,"DataView"),ke=Jn(e,"Map"),Ce=Jn(e,"Promise"),Ee=Jn(e,"Set"),e=Jn(e,"WeakMap"),Te=Jn(m,"create"),_e=e&&new e,Re={},Oe=kr(i),Ie=kr(ke),Me=kr(Ce),De=kr(Ee),Ne=kr(e),t=t?t.prototype:Bi,Pe=t?t.valueOf:Bi,ze=t?t.toString:Bi;function h(e){if(B(e)&&!$(e)&&!(e instanceof v)){if(e instanceof g)return e;if(L.call(e,"__wrapped__"))return Cr(e)}return new g(e)}var Le=function(e){if(!x(e))return{};if(re)return re(e);je.prototype=e;e=new je;return je.prototype=Bi,e};function je(){}function Ae(){}function g(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=Bi}function v(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ui,this.__views__=[]}function Fe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function $e(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Be(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ve(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Be;++t<n;)this.add(e[t])}function j(e){e=this.__data__=new $e(e);this.size=e.size}function He(e,t){var n,r=$(e),o=!r&&yo(e),i=!r&&!o&&wo(e),a=!r&&!o&&!i&&Mo(e),s=r||o||i||a,l=s?Ys(e.length,V):[],c=l.length;for(n in e)!t&&!L.call(e,n)||s&&("length"==n||i&&("offset"==n||"parent"==n)||a&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||or(n,c))||l.push(n);return l}function We(e){var t=e.length;return t?e[At(0,t-1)]:Bi}function Ue(e,t){return br(T(e),et(t,0,e.length))}function qe(e){return br(T(e))}function Ye(e,t,n){(n===Bi||F(e[t],n))&&(n!==Bi||t in e)||Je(e,t,n)}function Ke(e,t,n){var r=e[t];L.call(e,t)&&F(r,n)&&(n!==Bi||t in e)||Je(e,t,n)}function Ge(e,t){for(var n=e.length;n--;)if(F(e[n][0],t))return n;return-1}function Ze(e,r,o,i){return ot(e,function(e,t,n){r(i,e,o(e),n)}),i}function Xe(e,t){return e&&gn(t,O(t),e)}function Je(e,t,n){"__proto__"==t&&ce?ce(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Qe(e,t){for(var n=-1,r=t.length,o=S(r),i=null==e;++n<r;)o[n]=i?Bi:Uo(e,t[n]);return o}function et(e,t,n){return e=e==e&&(n!==Bi&&(e=e<=n?e:n),t!==Bi)?t<=e?e:t:e}function y(n,r,o,e,t,i){var a,s=1&r,l=2&r,c=4&r;if((a=o?t?o(n,e,t,i):o(n):a)===Bi){if(!x(n))return n;var u,e=$(n);if(e){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&L.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(n),!s)return T(n,a)}else{var d=A(n),p=d==Ca||d==Ea;if(wo(n))return un(n,s);if(d==Xi||d==qi||p&&!t){if(a=l||p?{}:nr(n),!s)return l?(f=p=n,f=(u=a)&&gn(f,I(f),u),gn(p,er(p),f)):(p=Xe(a,u=n),gn(u,Qn(u),p))}else{if(!oa[d])return t?n:{};a=function(e,t,n){var r=e.constructor;switch(t){case Ra:return dn(e);case Yi:case Ki:return new r(+e);case na:return function(e,t){t=t?dn(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}(e,n);case Oa:case Ia:case Ma:case Da:case Na:case Pa:case za:case La:case ja:return pn(e,n);case Gi:return new r;case Zi:case ea:return new r(e);case Ji:return function(e){var t=new e.constructor(e.source,ss.exec(e));return t.lastIndex=e.lastIndex,t}(e);case Qi:return new r;case _a:return function(e){return Pe?m(Pe.call(e)):{}}(e)}}(n,d,s)}}var f=(i=i||new j).get(n);if(f)return f;i.set(n,a),Oo(n)?n.forEach(function(e){a.add(y(e,r,o,e,n,i))}):Eo(n)&&n.forEach(function(e,t){a.set(t,y(e,r,o,t,n,i))});var h=e?Bi:(c?l?qn:Un:l?I:O)(n);sa(h||n,function(e,t){h&&(e=n[t=e]),Ke(a,t,y(e,r,o,t,n,i))})}return a}function tt(e,t,n){var r=n.length;if(null==e)return!r;for(e=m(e);r--;){var o=n[r],i=t[o],a=e[o];if(a===Bi&&!(o in e)||!i(a))return!1}return!0}function nt(e,t,n){if("function"!=typeof e)throw new k(Vi);return mr(function(){e.apply(Bi,n)},t)}function rt(e,t,n,r){var o=-1,i=Ps,a=!0,s=e.length,l=[],c=t.length;if(s){n&&(t=ca(t,pa(n))),r?(i=zs,a=!1):200<=t.length&&(i=Zs,a=!1,t=new Ve(t));e:for(;++o<s;){var u=e[o],d=null==n?u:n(u),u=r||0!==u?u:0;if(a&&d==d){for(var p=c;p--;)if(t[p]===d)continue e;l.push(u)}else i(t,d,r)||l.push(u)}}return l}h.templateSettings={escape:Ua,evaluate:qa,interpolate:Ya,variable:"",imports:{_:h}},(h.prototype=Ae.prototype).constructor=h,(g.prototype=Le(Ae.prototype)).constructor=g,(v.prototype=Le(Ae.prototype)).constructor=v,Fe.prototype.clear=function(){this.__data__=Te?Te(null):{},this.size=0},Fe.prototype.delete=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},Fe.prototype.get=function(e){var t,n=this.__data__;return Te?(t=n[e])===ya?Bi:t:L.call(n,e)?n[e]:Bi},Fe.prototype.has=function(e){var t=this.__data__;return Te?t[e]!==Bi:L.call(t,e)},Fe.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Te&&t===Bi?ya:t,this},$e.prototype.clear=function(){this.__data__=[],this.size=0},$e.prototype.delete=function(e){var t=this.__data__;return!((e=Ge(t,e))<0||(e==t.length-1?t.pop():ie.call(t,e,1),--this.size,0))},$e.prototype.get=function(e){var t=this.__data__;return(e=Ge(t,e))<0?Bi:t[e][1]},$e.prototype.has=function(e){return-1<Ge(this.__data__,e)},$e.prototype.set=function(e,t){var n=this.__data__,r=Ge(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Be.prototype.clear=function(){this.size=0,this.__data__={hash:new Fe,map:new(ke||$e),string:new Fe}},Be.prototype.delete=function(e){return e=Zn(this,e).delete(e),this.size-=e?1:0,e},Be.prototype.get=function(e){return Zn(this,e).get(e)},Be.prototype.has=function(e){return Zn(this,e).has(e)},Be.prototype.set=function(e,t){var n=Zn(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Ve.prototype.add=Ve.prototype.push=function(e){return this.__data__.set(e,ya),this},Ve.prototype.has=function(e){return this.__data__.has(e)},j.prototype.clear=function(){this.__data__=new $e,this.size=0},j.prototype.delete=function(e){var t=this.__data__,e=t.delete(e);return this.size=t.size,e},j.prototype.get=function(e){return this.__data__.get(e)},j.prototype.has=function(e){return this.__data__.has(e)},j.prototype.set=function(e,t){var n=this.__data__;if(n instanceof $e){var r=n.__data__;if(!ke||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Be(r)}return n.set(e,t),this.size=n.size,this};var ot=bn(dt),it=bn(pt,!0);function at(e,r){var o=!0;return ot(e,function(e,t,n){return o=!!r(e,t,n)}),o}function st(e,t,n){for(var r=-1,o=e.length;++r<o;){var i,a,s=e[r],l=t(s);null!=l&&(i===Bi?l==l&&!b(l):n(l,i))&&(i=l,a=s)}return a}function lt(e,r){var o=[];return ot(e,function(e,t,n){r(e,t,n)&&o.push(e)}),o}function l(e,t,n,r,o){var i=-1,a=e.length;for(n=n||rr,o=o||[];++i<a;){var s=e[i];0<t&&n(s)?1<t?l(s,t-1,n,r,o):ua(o,s):r||(o[o.length]=s)}return o}var ct=wn(),ut=wn(!0);function dt(e,t){return e&&ct(e,t,O)}function pt(e,t){return e&&ut(e,t,O)}function ft(t,e){return la(e,function(e){return So(t[e])})}function ht(e,t){for(var n=0,r=(t=an(t,e)).length;null!=e&&n<r;)e=e[Sr(t[n++])];return n&&n==r?e:Bi}function mt(e,t,n){t=t(e);return $(e)?t:ua(t,n(e))}function n(e){if(null==e)return e===Bi?"[object Undefined]":"[object Null]";if(le&&le in m(e)){var t=e,n=L.call(t,le),r=t[le];try{t[le]=Bi;var o=!0}catch(e){}var i=Z.call(t);return o&&(n?t[le]=r:delete t[le]),i}return Z.call(e)}function gt(e,t){return t<e}function vt(e,t){return null!=e&&L.call(e,t)}function yt(e,t){return null!=e&&t in m(e)}function bt(e,t,n){for(var r=n?zs:Ps,o=e[0].length,i=e.length,a=i,s=S(i),l=1/0,c=[];a--;){var u=e[a];a&&t&&(u=ca(u,pa(t))),l=E(u.length,l),s[a]=!n&&(t||120<=o&&120<=u.length)?new Ve(a&&u):Bi}var u=e[0],d=-1,p=s[0];e:for(;++d<o&&c.length<l;){var f=u[d],h=t?t(f):f,f=n||0!==f?f:0;if(!(p?Zs(p,h):r(c,h,n))){for(a=i;--a;){var m=s[a];if(!(m?Zs(m,h):r(e[a],h,n)))continue e}p&&p.push(h),c.push(f)}}return c}function wt(e,t,n){t=null==(e=pr(e,t=an(t,e)))?e:e[Sr(r(t))];return null==t?Bi:aa(t,e,n)}function xt(e){return B(e)&&n(e)==qi}function St(e,t,n,r,o){if(e===t)return!0;if(null==e||null==t||!B(e)&&!B(t))return e!=e&&t!=t;var i=St,a=$(e),s=$(t),l=a?Sa:A(e),s=s?Sa:A(t),c=(l=l==qi?Xi:l)==Xi,u=(s=s==qi?Xi:s)==Xi;if((s=l==s)&&wo(e)){if(!wo(t))return!1;c=!(a=!0)}if(s&&!c){o=o||new j;if(a||Mo(e))return Hn(e,t,n,r,i,o);else{var d=e;var p=t;var f=l;var h=n;var m=r;var g=i;var v=o;switch(f){case na:if(d.byteLength!=p.byteLength||d.byteOffset!=p.byteOffset)return!1;d=d.buffer,p=p.buffer;case Ra:return d.byteLength==p.byteLength&&g(new ee(d),new ee(p))?!0:!1;case Yi:case Ki:case Zi:return F(+d,+p);case ka:return d.name==p.name&&d.message==p.message;case Ji:case ea:return d==p+"";case Gi:var y=nl;case Qi:var b=1&h;if(y=y||ol,d.size!=p.size&&!b)return!1;b=v.get(d);if(b)return b==p;h|=2,v.set(d,p);b=Hn(y(d),y(p),h,m,g,v);return v.delete(d),b;case _a:if(Pe)return Pe.call(d)==Pe.call(p)}return!1;return}}if(!(1&n)){a=c&&L.call(e,"__wrapped__"),l=u&&L.call(t,"__wrapped__");if(a||l)return c=a?e.value():e,u=l?t.value():t,o=o||new j,i(c,u,n,r,o)}if(s){o=o||new j;var w=e,x=t,S=n,k=r,C=i,E=o,T=1&S,_=Un(w),R=_.length,a=Un(x).length;if(R!=a&&!T)return!1;for(var O=R;O--;){var I=_[O];if(!(T?I in x:L.call(x,I)))return!1}a=E.get(w),l=E.get(x);if(a&&l)return a==x&&l==w;for(var M=!0,D=(E.set(w,x),E.set(x,w),T);++O<R;){I=_[O];var N,P=w[I],z=x[I];if(!((N=k?T?k(z,P,I,x,w,E):k(P,z,I,w,x,E):N)===Bi?P===z||C(P,z,S,k,E):N)){M=!1;break}D=D||"constructor"==I}return M&&!D&&(a=w.constructor,l=x.constructor,a!=l)&&"constructor"in w&&"constructor"in x&&!("function"==typeof a&&a instanceof a&&"function"==typeof l&&l instanceof l)&&(M=!1),E.delete(w),E.delete(x),M}return!1}function kt(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=m(e);o--;){var s=n[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<i;){var l=(s=n[o])[0],c=e[l],u=s[1];if(a&&s[2]){if(c===Bi&&!(l in e))return!1}else{var d,p=new j;if(!((d=r?r(c,u,l,e,t,p):d)===Bi?St(u,c,3,r,p):d))return!1}}return!0}function Ct(e){var t;return!(!x(e)||(t=e,G&&G in t))&&(So(e)?Q:us).test(kr(e))}function Et(e){return"function"==typeof e?e:null==e?M:"object"==typeof e?$(e)?Mt(e[0],e[1]):It(e):Ri(e)}function Tt(e){if(!lr(e))return ye(e);var t,n=[];for(t in m(e))L.call(e,t)&&"constructor"!=t&&n.push(t);return n}function _t(e){if(!x(e)){var t=e,n=[];if(null!=t)for(var r in m(t))n.push(r);return n}var o,i=lr(e),a=[];for(o in e)("constructor"!=o||!i&&L.call(e,o))&&a.push(o);return a}function Rt(e,t){return e<t}function Ot(e,r){var o=-1,i=u(e)?S(e.length):[];return ot(e,function(e,t,n){i[++o]=r(e,t,n)}),i}function It(t){var n=Xn(t);return 1==n.length&&n[0][2]?ur(n[0][0],n[0][1]):function(e){return e===t||kt(e,t,n)}}function Mt(n,r){return ir(n)&&cr(r)?ur(Sr(n),r):function(e){var t=Uo(e,n);return t===Bi&&t===r?qo(e,n):St(r,t,3)}}function Dt(m,g,v,y,b){m!==g&&ct(g,function(e,t){var n,r,o,i,a,s,l,c,u,d,p,f,h;b=b||new j,x(e)?(r=g,i=v,a=Dt,s=y,l=b,p=fr(n=m,o=t),f=fr(r,o),(h=l.get(f))?Ye(n,o,h):(h=s?s(p,f,o+"",n,r,l):Bi,(r=h===Bi)&&(c=$(f),u=!c&&wo(f),d=!c&&!u&&Mo(f),h=f,c||u||d?h=$(p)?p:w(p)?T(p):u?un(f,!(r=!1)):d?pn(f,!(r=!1)):[]:_o(f)||yo(f)?yo(h=p)?h=jo(p):x(p)&&!So(p)||(h=nr(f)):r=!1),r&&(l.set(f,h),a(h,f,i,s,l),l.delete(f)),Ye(n,o,h))):(c=y?y(fr(m,t),e,t+"",m,g,b):Bi,Ye(m,t,c=c===Bi?e:c))},I)}function Nt(e,t){var n=e.length;if(n)return or(t+=t<0?n:0,n)?e[t]:Bi}function Pt(e,r,u){r=r.length?ca(r,function(t){return $(t)?function(e){return ht(e,1===t.length?t[0]:t)}:t}):[M];var o=-1;r=ca(r,pa(d()));var t=Ot(e,function(t,e,n){return{criteria:ca(r,function(e){return e(t)}),index:++o,value:t}}),e=function(e,t){for(var n=u,r=-1,o=e.criteria,i=t.criteria,a=o.length,s=n.length;++r<a;){var l,c=fn(o[r],i[r]);if(c)return s<=r?c:(l=n[r],c*("desc"==l?-1:1))}return e.index-t.index},n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function zt(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=ht(e,a);n(s,a)&&Vt(i,an(a,e),s)}return i}function Lt(e,t,n,r){var o=r?Bs:da,i=-1,a=t.length,s=e;for(e===t&&(t=T(t)),n&&(s=ca(e,pa(n)));++i<a;)for(var l=0,c=t[i],u=n?n(c):c;-1<(l=o(s,u,l,r));)s!==e&&ie.call(s,l,1),ie.call(e,l,1);return e}function jt(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o,i=t[n];n!=r&&i===o||(or(o=i)?ie.call(e,i,1):Xt(e,i))}}function At(e,t){return e+he(xe()*(t-e+1))}function Ft(e,t){var n="";if(!(!e||t<1||Wi<t))for(;t%2&&(n+=e),(t=he(t/2))&&(e+=e),t;);return n}function a(e,t){return gr(dr(e,t,M),e+"")}function $t(e){return We(ri(e))}function Bt(e,t){e=ri(e);return br(e,et(t,0,e.length))}function Vt(e,t,n,r){if(x(e))for(var o=-1,i=(t=an(t,e)).length,a=i-1,s=e;null!=s&&++o<i;){var l,c=Sr(t[o]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;Ke(s,c,u=o!=a&&(l=s[c],(u=r?r(l,c,s):Bi)===Bi)?x(l)?l:or(t[o+1])?[]:{}:u),s=s[c]}return e}var Ht=_e?function(e,t){return _e.set(e,t),e}:M,t=ce?function(e,t){return ce(e,"toString",{configurable:!0,enumerable:!1,value:vi(t),writable:!0})}:M;function Wt(e){return br(ri(e))}function s(e,t,n){for(var r=-1,o=e.length,i=((n=o<n?o:n)<0&&(n+=o),o=n<(t=t<0?o<-t?0:o+t:t)?0:n-t>>>0,t>>>=0,S(o));++r<o;)i[r]=e[r+t];return i}function Ut(e,r){var o;return ot(e,function(e,t,n){return!(o=r(e,t,n))}),!!o}function qt(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!b(a)&&(n?a<=t:a<t)?r=1+i:o=i}return o}return Yt(e,t,M,n)}function Yt(e,t,n,r){var o=0,i=null==e?0:e.length;if(0===i)return 0;for(var a=(t=n(t))!=t,s=null===t,l=b(t),c=t===Bi;o<i;){var u=he((o+i)/2),d=n(e[u]),p=d!==Bi,f=null===d,h=d==d,m=b(d),h=a?r||h:c?h&&(r||p):s?h&&p&&(r||!f):l?h&&p&&!f&&(r||!m):!f&&!m&&(r?d<=t:d<t);h?o=u+1:i=u}return E(i,4294967294)}function Kt(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a,s=e[n],l=t?t(s):s;n&&F(l,a)||(a=l,i[o++]=0===s?0:s)}return i}function Gt(e){return"number"==typeof e?e:b(e)?wa:+e}function c(e){var t;return"string"==typeof e?e:$(e)?ca(e,c)+"":b(e)?ze?ze.call(e):"":"0"==(t=e+"")&&1/e==-1/0?"-0":t}function Zt(e,t,n){var r=-1,o=Ps,i=e.length,a=!0,s=[],l=s;if(n)a=!1,o=zs;else if(200<=i){var c=t?null:jn(e);if(c)return ol(c);a=!1,o=Zs,l=new Ve}else l=t?[]:s;e:for(;++r<i;){var u=e[r],d=t?t(u):u,u=n||0!==u?u:0;if(a&&d==d){for(var p=l.length;p--;)if(l[p]===d)continue e;t&&l.push(d),s.push(u)}else o(l,d,n)||(l!==s&&l.push(d),s.push(u))}return s}function Xt(e,t){return null==(e=pr(e,t=an(t,e)))||delete e[Sr(r(t))]}function Jt(e,t,n,r){return Vt(e,t,n(ht(e,t)),r)}function Qt(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?s(e,r?0:i,r?i+1:o):s(e,r?i+1:0,r?o:i)}function en(e,t){var n=e;return Ls(t,function(e,t){return t.func.apply(t.thisArg,ua([e],t.args))},n=e instanceof v?e.value():n)}function tn(e,t,n){var r=e.length;if(r<2)return r?Zt(e[0]):[];for(var o=-1,i=S(r);++o<r;)for(var a=e[o],s=-1;++s<r;)s!=o&&(i[o]=rt(i[o]||a,e[s],t,n));return Zt(l(i,1),t,n)}function nn(e,t,n){for(var r=-1,o=e.length,i=t.length,a={};++r<o;){var s=r<i?t[r]:Bi;n(a,e[r],s)}return a}function rn(e){return w(e)?e:[]}function on(e){return"function"==typeof e?e:M}function an(e,t){return $(e)?e:ir(e,t)?[e]:xr(f(e))}var sn=a;function ln(e,t,n){var r=e.length;return n=n===Bi?r:n,!t&&r<=n?e:s(e,t,n)}var cn=ue||function(e){return ia.clearTimeout(e)};function un(e,t){return t?e.slice():(t=e.length,t=te?te(t):new e.constructor(t),e.copy(t),t)}function dn(e){var t=new e.constructor(e.byteLength);return new ee(t).set(new ee(e)),t}function pn(e,t){t=t?dn(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}function fn(e,t){if(e!==t){var n=e!==Bi,r=null===e,o=e==e,i=b(e),a=t!==Bi,s=null===t,l=t==t,c=b(t);if(!s&&!c&&!i&&t<e||i&&a&&l&&!s&&!c||r&&a&&l||!n&&l||!o)return 1;if(!r&&!i&&!c&&e<t||c&&n&&o&&!r&&!i||s&&n&&o||!a&&o||!l)return-1}return 0}function hn(e,t,n,r){for(var o=-1,i=e.length,a=n.length,s=-1,l=t.length,c=C(i-a,0),u=S(l+c),d=!r;++s<l;)u[s]=t[s];for(;++o<a;)(d||o<i)&&(u[n[o]]=e[o]);for(;c--;)u[s++]=e[o++];return u}function mn(e,t,n,r){for(var o=-1,i=e.length,a=-1,s=n.length,l=-1,c=t.length,u=C(i-s,0),d=S(u+c),p=!r;++o<u;)d[o]=e[o];for(var f=o;++l<c;)d[f+l]=t[l];for(;++a<s;)(p||o<i)&&(d[f+n[a]]=e[o++]);return d}function T(e,t){var n=-1,r=e.length;for(t=t||S(r);++n<r;)t[n]=e[n];return t}function gn(e,t,n,r){for(var o=!n,i=(n=n||{},-1),a=t.length;++i<a;){var s=t[i],l=r?r(n[s],e[s],s,n,e):Bi;(o?Je:Ke)(n,s,l=l===Bi?e[s]:l)}return n}function vn(o,i){return function(e,t){var n=$(e)?Ms:Ze,r=i?i():{};return n(e,o,d(t,2),r)}}function yn(s){return a(function(e,t){var n=-1,r=t.length,o=1<r?t[r-1]:Bi,i=2<r?t[2]:Bi,o=3<s.length&&"function"==typeof o?(r--,o):Bi;for(i&&p(t[0],t[1],i)&&(o=r<3?Bi:o,r=1),e=m(e);++n<r;){var a=t[n];a&&s(e,a,n,o)}return e})}function bn(i,a){return function(e,t){if(null!=e){if(!u(e))return i(e,t);for(var n=e.length,r=a?n:-1,o=m(e);(a?r--:++r<n)&&!1!==t(o[r],r,o););}return e}}function wn(l){return function(e,t,n){for(var r=-1,o=m(e),i=n(e),a=i.length;a--;){var s=i[l?a:++r];if(!1===t(o[s],s,o))break}return e}}function xn(r){return function(e){var t=fa(e=f(e))?ga(e):Bi,n=t?t[0]:e.charAt(0),t=t?ln(t,1).join(""):e.slice(1);return n[r]()+t}}function Sn(t){return function(e){return Ls(hi(ai(e).replace(gs,"")),t,"")}}function kn(r){return function(){var e=arguments;switch(e.length){case 0:return new r;case 1:return new r(e[0]);case 2:return new r(e[0],e[1]);case 3:return new r(e[0],e[1],e[2]);case 4:return new r(e[0],e[1],e[2],e[3]);case 5:return new r(e[0],e[1],e[2],e[3],e[4]);case 6:return new r(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new r(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=Le(r.prototype),n=r.apply(t,e);return x(n)?n:t}}function Cn(i,a,s){var l=kn(i);return function e(){for(var t=arguments.length,n=S(t),r=t,o=Gn(e);r--;)n[r]=arguments[r];o=t<3&&n[0]!==o&&n[t-1]!==o?[]:ha(n,o);return(t-=o.length)<s?zn(i,a,_n,e.placeholder,Bi,n,o,Bi,Bi,s-t):aa(this&&this!==ia&&this instanceof e?l:i,this,n)}}function En(i){return function(e,t,n){var r,o=m(e),t=(u(e)||(r=d(t,3),e=O(e),t=function(e){return r(o[e],e,o)}),i(e,t,n));return-1<t?o[r?e[t]:t]:Bi}}function Tn(l){return Wn(function(o){var i=o.length,e=i,t=g.prototype.thru;for(l&&o.reverse();e--;){var n=o[e];if("function"!=typeof n)throw new k(Vi);t&&!s&&"wrapper"==Kn(n)&&(s=new g([],!0))}for(e=s?e:i;++e<i;)var r=Kn(n=o[e]),a="wrapper"==r?Yn(n):Bi,s=a&&ar(a[0])&&424==a[1]&&!a[4].length&&1==a[9]?s[Kn(a[0])].apply(s,a[3]):1==n.length&&ar(n)?s[r]():s.thru(n);return function(){var e=arguments,t=e[0];if(s&&1==e.length&&$(t))return s.plant(t).value();for(var n=0,r=i?o[n].apply(this,e):t;++n<i;)r=o[n].call(this,r);return r}})}function _n(a,s,l,c,u,d,p,f,h,m){var g=s&Hi,v=1&s,y=2&s,b=24&s,w=512&s,x=y?Bi:kn(a);return function e(){for(var t,n,r,o=S(r=arguments.length),i=r;i--;)o[i]=arguments[i];return b&&(n=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(o,t=Gn(e))),c&&(o=hn(o,c,u,b)),d&&(o=mn(o,d,p,b)),r-=n,b&&r<m?(n=ha(o,t),zn(a,s,_n,e.placeholder,l,o,n,f,h,m-r)):(t=v?l:this,n=y?t[a]:a,r=o.length,f?o=function(e,t){for(var n=e.length,r=E(t.length,n),o=T(e);r--;){var i=t[r];e[r]=or(i,n)?o[i]:Bi}return e}(o,f):w&&1<r&&o.reverse(),g&&h<r&&(o.length=h),(n=this&&this!==ia&&this instanceof e?x||kn(n):n).apply(t,o))}}function Rn(n,a){return function(e,t){return e=e,r=n,o=a(t),i={},dt(e,function(e,t,n){r(i,o(e),t,n)}),i;var r,o,i}}function On(r,o){return function(e,t){var n;if(e===Bi&&t===Bi)return o;if(e!==Bi&&(n=e),t!==Bi){if(n===Bi)return t;t=("string"==typeof e||"string"==typeof t?(e=c(e),c):(e=Gt(e),Gt))(t),n=r(e,t)}return n}}function In(r){return Wn(function(e){return e=ca(e,pa(d())),a(function(t){var n=this;return r(e,function(e){return aa(e,n,t)})})})}function Mn(e,t){var n=(t=t===Bi?" ":c(t)).length;return n<2?n?Ft(t,e):t:(n=Ft(t,fe(e/ma(t))),fa(t)?ln(ga(n),0,e).join(""):n.slice(0,e))}function Dn(s,e,l,c){var u=1&e,d=kn(s);return function e(){for(var t=-1,n=arguments.length,r=-1,o=c.length,i=S(o+n),a=this&&this!==ia&&this instanceof e?d:s;++r<o;)i[r]=c[r];for(;n--;)i[r++]=arguments[++t];return aa(a,u?l:this,i)}}function Nn(c){return function(e,t,n){n&&"number"!=typeof n&&p(e,t,n)&&(t=n=Bi),e=zo(e),t===Bi?(t=e,e=0):t=zo(t),n=n===Bi?e<t?1:-1:zo(n);for(var r=e,o=n,i=c,a=-1,s=C(fe((t-r)/(o||1)),0),l=S(s);s--;)l[i?s:++a]=r,r+=o;return l}}function Pn(n){return function(e,t){return"string"==typeof e&&"string"==typeof t||(e=R(e),t=R(t)),n(e,t)}}function zn(e,t,n,r,o,i,a,s,l,c){var u=8&t,o=(4&(t=(t|(u?32:64))&~(u?64:32))||(t&=-4),[e,t,o,u?i:Bi,u?a:Bi,u?Bi:i,u?Bi:a,s,l,c]),i=n.apply(Bi,o);return ar(e)&&hr(i,o),i.placeholder=r,vr(i,e,t)}function Ln(e){var r=P[e];return function(e,t){var n;return e=R(e),(t=null==t?0:E(_(t),292))&&ge(e)?(n=(f(e)+"e").split("e"),+((n=(f(r(n[0]+"e"+(+n[1]+t)))+"e").split("e"))[0]+"e"+(+n[1]-t))):r(e)}}var jn=Ee&&1/ol(new Ee([,-0]))[1]==1/0?function(e){return new Ee(e)}:Ci;function An(i){return function(e){var t,n,r,o=A(e);return o==Gi?nl(e):o==Qi?(o=e,t=-1,n=Array(o.size),o.forEach(function(e){n[++t]=[e,e]}),n):ca(i(r=e),function(e){return[e,r[e]]})}}function Fn(e,t,n,r,o,i,a,s){var l,c,u,d,p,f,h,m,g,v,y,b,w,x=2&t;if(x||"function"==typeof e)return(l=r?r.length:0)||(t&=-97,r=o=Bi),a=a===Bi?a:C(_(a),0),s=s===Bi?s:_(s),l-=o?o.length:0,64&t&&(u=r,d=o,r=o=Bi),c=x?Bi:Yn(e),u=[e,t,n,r,o,u,d,i,a,s],c&&(d=c,a=(i=u)[1],f=d[1],m=(h=a|f)<131,g=f==Hi&&8==a||f==Hi&&256==a&&i[7].length<=d[8]||384==f&&d[7].length<=d[8]&&8==a,m||g)&&(1&f&&(i[2]=d[2],h|=1&a?0:4),(m=d[3])&&(p=i[3],i[3]=p?hn(p,m,d[4]):m,i[4]=p?ha(i[3],ba):d[4]),(m=d[5])&&(p=i[5],i[5]=p?mn(p,m,d[6]):m,i[6]=p?ha(i[5],ba):d[6]),(m=d[7])&&(i[7]=m),f&Hi&&(i[8]=null==i[8]?d[8]:E(i[8],d[8])),null==i[9]&&(i[9]=d[9]),i[0]=d[0],i[1]=h),e=u[0],t=u[1],n=u[2],r=u[3],o=u[4],!(s=u[9]=u[9]===Bi?x?0:e.length:C(u[9]-l,0))&&24&t&&(t&=-25),g=t&&1!=t?8==t||16==t?Cn(e,t,s):32!=t&&33!=t||o.length?_n.apply(Bi,u):Dn(e,t,n,r):(y=n,b=1&t,w=kn(v=e),function e(){return(this&&this!==ia&&this instanceof e?w:v).apply(b?y:this,arguments)}),vr((c?Ht:hr)(g,u),e,t);throw new k(Vi)}function $n(e,t,n,r){return e===Bi||F(e,U[n])&&!L.call(r,n)?t:e}function Bn(e,t,n,r,o,i){return x(e)&&x(t)&&(i.set(t,e),Dt(e,t,Bi,Bn,i),i.delete(t)),e}function Vn(e){return _o(e)?Bi:e}function Hn(e,t,n,r,o,i){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&s<l))return!1;var l=i.get(e),c=i.get(t);if(l&&c)return l==t&&c==e;var u=-1,d=!0,p=2&n?new Ve:Bi;for(i.set(e,t),i.set(t,e);++u<s;){var f,h=e[u],m=t[u];if((f=r?a?r(m,h,u,t,e,i):r(h,m,u,e,t,i):f)!==Bi){if(f)continue;d=!1;break}if(p){if(!As(t,function(e,t){return!Zs(p,t)&&(h===e||o(h,e,n,r,i))&&p.push(t)})){d=!1;break}}else if(h!==m&&!o(h,m,n,r,i)){d=!1;break}}return i.delete(e),i.delete(t),d}function Wn(e){return gr(dr(e,Bi,_r),e+"")}function Un(e){return mt(e,O,Qn)}function qn(e){return mt(e,I,er)}var Yn=_e?function(e){return _e.get(e)}:Ci;function Kn(e){for(var t=e.name+"",n=Re[t],r=L.call(Re,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function Gn(e){return(L.call(h,"placeholder")?h:e).placeholder}function d(){var e=(e=h.iteratee||wi)===wi?Et:e;return arguments.length?e(arguments[0],arguments[1]):e}function Zn(e,t){var n,r,e=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?e["string"==typeof t?"string":"hash"]:e.map}function Xn(e){for(var t=O(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,cr(o)]}return t}function Jn(e,t){t=t;e=null==(e=e)?Bi:e[t];return Ct(e)?e:Bi}var Qn=me?function(t){return null==t?[]:(t=m(t),la(me(t),function(e){return oe.call(t,e)}))}:Mi,er=me?function(e){for(var t=[];e;)ua(t,Qn(e)),e=ne(e);return t}:Mi,A=n;function tr(e,t,n){for(var r=-1,o=(t=an(t,e)).length,i=!1;++r<o;){var a=Sr(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&Co(o)&&or(a,o)&&($(e)||yo(e))}function nr(e){return"function"!=typeof e.constructor||lr(e)?{}:Le(ne(e))}function rr(e){return $(e)||yo(e)||!!(ae&&e&&e[ae])}function or(e,t){var n=typeof e;return!!(t=null==t?Wi:t)&&("number"==n||"symbol"!=n&&ps.test(e))&&-1<e&&e%1==0&&e<t}function p(e,t,n){var r;if(x(n))return("number"==(r=typeof t)?u(n)&&or(t,n.length):"string"==r&&t in n)&&F(n[t],e)}function ir(e,t){var n;if(!$(e))return"number"==(n=typeof e)||"symbol"==n||"boolean"==n||null==e||b(e)||Ga.test(e)||!Ka.test(e)||null!=t&&e in m(t)}function ar(e){var t=Kn(e),n=h[t];return"function"==typeof n&&t in v.prototype&&(e===n||(t=Yn(n))&&e===t[0])}(i&&A(new i(new ArrayBuffer(1)))!=na||ke&&A(new ke)!=Gi||Ce&&A(Ce.resolve())!=Ta||Ee&&A(new Ee)!=Qi||e&&A(new e)!=ta)&&(A=function(e){var t=n(e),e=t==Xi?e.constructor:Bi,e=e?kr(e):"";if(e)switch(e){case Oe:return na;case Ie:return Gi;case Me:return Ta;case De:return Qi;case Ne:return ta}return t});var sr=q?So:Di;function lr(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||U)}function cr(e){return e==e&&!x(e)}function ur(t,n){return function(e){return null!=e&&e[t]===n&&(n!==Bi||t in m(e))}}function dr(i,a,s){return a=C(a===Bi?i.length-1:a,0),function(){for(var e=arguments,t=-1,n=C(e.length-a,0),r=S(n);++t<n;)r[t]=e[a+t];for(var t=-1,o=S(a+1);++t<a;)o[t]=e[t];return o[a]=s(r),aa(i,this,o)}}function pr(e,t){return t.length<2?e:ht(e,s(t,0,-1))}function fr(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var hr=yr(Ht),mr=pe||function(e,t){return ia.setTimeout(e,t)},gr=yr(t);function vr(e,t,n){var r,o,i,t=t+"";return gr(e,(o=(t=(t=e=t).match(ts))?t[1].split(ns):[],i=n,sa(xa,function(e){var t="_."+e[0];i&e[1]&&!Ps(o,t)&&o.push(t)}),t=o.sort(),(n=t.length)?(t[r=n-1]=(1<n?"& ":"")+t[r],t=t.join(2<n?", ":" "),e.replace(es,"{\n/* [wrapped with "+t+"] */\n")):e))}function yr(n){var r=0,o=0;return function(){var e=be(),t=16-(e-o);if(o=e,0<t){if(800<=++r)return arguments[0]}else r=0;return n.apply(Bi,arguments)}}function br(e,t){var n=-1,r=e.length,o=r-1;for(t=t===Bi?r:t;++n<t;){var i=At(n,o),a=e[i];e[i]=e[n],e[n]=a}return e.length=t,e}wr=(ue=uo(ue=function(e){var o=[];return 46===e.charCodeAt(0)&&o.push(""),e.replace(Za,function(e,t,n,r){o.push(n?r.replace(is,"$1"):t||e)}),o},function(e){return 500===wr.size&&wr.clear(),e})).cache;var wr,xr=ue;function Sr(e){var t;return"string"==typeof e||b(e)?e:"0"==(t=e+"")&&1/e==-1/0?"-0":t}function kr(e){if(null!=e){try{return Y.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Cr(e){var t;return e instanceof v?e.clone():((t=new g(e.__wrapped__,e.__chain__)).__actions__=T(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t)}i=a(function(e,t){return w(e)?rt(e,l(t,1,w,!0)):[]}),Ce=a(function(e,t){var n=r(t);return w(n)&&(n=Bi),w(e)?rt(e,l(t,1,w,!0),d(n,2)):[]}),e=a(function(e,t){var n=r(t);return w(n)&&(n=Bi),w(e)?rt(e,l(t,1,w,!0),Bi,n):[]});function Er(e,t,n){var r=null==e?0:e.length;return r?((n=null==n?0:_(n))<0&&(n=C(r+n,0)),$s(e,d(t,3),n)):-1}function Tr(e,t,n){var r,o=null==e?0:e.length;return o?(r=o-1,n!==Bi&&(r=_(n),r=n<0?C(o+r,0):E(r,o-1)),$s(e,d(t,3),r,!0)):-1}function _r(e){return(null==e?0:e.length)?l(e,1):[]}function Rr(e){return e&&e.length?e[0]:Bi}q=a(function(e){var t=ca(e,rn);return t.length&&t[0]===e[0]?bt(t):[]}),pe=a(function(e){var t=r(e),n=ca(e,rn);return t===r(n)?t=Bi:n.pop(),n.length&&n[0]===e[0]?bt(n,d(t,2)):[]}),t=a(function(e){var t=r(e),n=ca(e,rn);return(t="function"==typeof t?t:Bi)&&n.pop(),n.length&&n[0]===e[0]?bt(n,Bi,t):[]});function r(e){var t=null==e?0:e.length;return t?e[t-1]:Bi}ue=a(Or);function Or(e,t){return e&&e.length&&t&&t.length?Lt(e,t):e}var Ir=Wn(function(e,t){var n=null==e?0:e.length,r=Qe(e,t);return jt(e,ca(t,function(e){return or(e,n)?+e:e}).sort(fn)),r});function Mr(e){return null==e?e:Se.call(e)}var Dr=a(function(e){return Zt(l(e,1,w,!0))}),Nr=a(function(e){var t=r(e);return w(t)&&(t=Bi),Zt(l(e,1,w,!0),d(t,2))}),Pr=a(function(e){var t="function"==typeof(t=r(e))?t:Bi;return Zt(l(e,1,w,!0),Bi,t)});function zr(t){var n;return t&&t.length?(n=0,t=la(t,function(e){return w(e)&&(n=C(e.length,n),1)}),Ys(n,function(e){return ca(t,Ws(e))})):[]}function Lr(e,t){return e&&e.length?(e=zr(e),null==t?e:ca(e,function(e){return aa(t,Bi,e)})):[]}var jr=a(function(e,t){return w(e)?rt(e,t):[]}),Ar=a(function(e){return tn(la(e,w))}),Fr=a(function(e){var t=r(e);return w(t)&&(t=Bi),tn(la(e,w),d(t,2))}),$r=a(function(e){var t="function"==typeof(t=r(e))?t:Bi;return tn(la(e,w),Bi,t)}),Br=a(zr);var Vr=a(function(e){var t=e.length,t="function"==typeof(t=1<t?e[t-1]:Bi)?(e.pop(),t):Bi;return Lr(e,t)});function Hr(e){e=h(e);return e.__chain__=!0,e}function Wr(e,t){return t(e)}var Ur=Wn(function(t){function e(e){return Qe(e,t)}var n=t.length,r=n?t[0]:0,o=this.__wrapped__;return!(1<n||this.__actions__.length)&&o instanceof v&&or(r)?((o=o.slice(r,+r+(n?1:0))).__actions__.push({func:Wr,args:[e],thisArg:Bi}),new g(o,this.__chain__).thru(function(e){return n&&!e.length&&e.push(Bi),e})):this.thru(e)});var qr=vn(function(e,t,n){L.call(e,n)?++e[n]:Je(e,n,1)});var Yr=En(Er),Kr=En(Tr);function Gr(e,t){return($(e)?sa:ot)(e,d(t,3))}function Zr(e,t){return($(e)?Ds:it)(e,d(t,3))}var Xr=vn(function(e,t,n){L.call(e,n)?e[n].push(t):Je(e,n,[t])});var Jr=a(function(e,t,n){var r=-1,o="function"==typeof t,i=u(e)?S(e.length):[];return ot(e,function(e){i[++r]=o?aa(t,e,n):wt(e,t,n)}),i}),Qr=vn(function(e,t,n){Je(e,n,t)});function eo(e,t){return($(e)?ca:Ot)(e,d(t,3))}var to=vn(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});var no=a(function(e,t){var n;return null==e?[]:(1<(n=t.length)&&p(e,t[0],t[1])?t=[]:2<n&&p(t[0],t[1],t[2])&&(t=[t[0]]),Pt(e,l(t,1),[]))}),ro=de||function(){return ia.Date.now()};function oo(e,t,n){return t=n?Bi:t,t=e&&null==t?e.length:t,Fn(e,Hi,Bi,Bi,Bi,Bi,t)}function io(e,t){var n;if("function"!=typeof t)throw new k(Vi);return e=_(e),function(){return 0<--e&&(n=t.apply(this,arguments)),e<=1&&(t=Bi),n}}var ao=a(function(e,t,n){var r,o=1;return n.length&&(r=ha(n,Gn(ao)),o|=32),Fn(e,o,t,n,r)}),so=a(function(e,t,n){var r,o=3;return n.length&&(r=ha(n,Gn(so)),o|=32),Fn(t,o,e,n,r)});function lo(r,n,e){var o,i,a,s,l,c,u=0,d=!1,p=!1,t=!0;if("function"!=typeof r)throw new k(Vi);function f(e){var t=o,n=i;return o=i=Bi,u=e,s=r.apply(n,t)}function h(e){var t=e-c;return c===Bi||n<=t||t<0||p&&a<=e-u}function m(){var e,t=ro();if(h(t))return g(t);l=mr(m,(e=n-((t=t)-c),p?E(e,a-(t-u)):e))}function g(e){return l=Bi,t&&o?f(e):(o=i=Bi,s)}function v(){var e=ro(),t=h(e);if(o=arguments,i=this,c=e,t){if(l===Bi)return u=e=c,l=mr(m,n),d?f(e):s;if(p)return cn(l),l=mr(m,n),f(c)}return l===Bi&&(l=mr(m,n)),s}return n=R(n)||0,x(e)&&(d=!!e.leading,p="maxWait"in e,a=p?C(R(e.maxWait)||0,n):a,t="trailing"in e?!!e.trailing:t),v.cancel=function(){l!==Bi&&cn(l),u=0,o=c=i=l=Bi},v.flush=function(){return l===Bi?s:g(ro())},v}var de=a(function(e,t){return nt(e,1,t)}),co=a(function(e,t,n){return nt(e,R(t)||0,n)});function uo(r,o){if("function"!=typeof r||null!=o&&"function"!=typeof o)throw new k(Vi);function i(){var e=arguments,t=o?o.apply(this,e):e[0],n=i.cache;return n.has(t)?n.get(t):(e=r.apply(this,e),i.cache=n.set(t,e)||n,e)}return i.cache=new(uo.Cache||Be),i}function po(t){if("function"!=typeof t)throw new k(Vi);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}uo.Cache=Be;var sn=sn(function(r,o){var i=(o=1==o.length&&$(o[0])?ca(o[0],pa(d())):ca(l(o,1),pa(d()))).length;return a(function(e){for(var t=-1,n=E(e.length,i);++t<n;)e[t]=o[t].call(this,e[t]);return aa(r,this,e)})}),fo=a(function(e,t){var n=ha(t,Gn(fo));return Fn(e,32,Bi,t,n)}),ho=a(function(e,t){var n=ha(t,Gn(ho));return Fn(e,64,Bi,t,n)}),mo=Wn(function(e,t){return Fn(e,256,Bi,Bi,Bi,t)});function F(e,t){return e===t||e!=e&&t!=t}var go=Pn(gt),vo=Pn(function(e,t){return t<=e}),yo=xt(function(){return arguments}())?xt:function(e){return B(e)&&L.call(e,"callee")&&!oe.call(e,"callee")},$=S.isArray,bo=Es?pa(Es):function(e){return B(e)&&n(e)==Ra};function u(e){return null!=e&&Co(e.length)&&!So(e)}function w(e){return B(e)&&u(e)}var wo=W||Di,W=Ts?pa(Ts):function(e){return B(e)&&n(e)==Ki};function xo(e){var t;return!!B(e)&&((t=n(e))==ka||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!_o(e))}function So(e){return!!x(e)&&((e=n(e))==Ca||e==Ea||"[object AsyncFunction]"==e||"[object Proxy]"==e)}function ko(e){return"number"==typeof e&&e==_(e)}function Co(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=Wi}function x(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function B(e){return null!=e&&"object"==typeof e}var Eo=_s?pa(_s):function(e){return B(e)&&A(e)==Gi};function To(e){return"number"==typeof e||B(e)&&n(e)==Zi}function _o(e){return!(!B(e)||n(e)!=Xi)&&(null===(e=ne(e))||"function"==typeof(e=L.call(e,"constructor")&&e.constructor)&&e instanceof e&&Y.call(e)==X)}var Ro=Rs?pa(Rs):function(e){return B(e)&&n(e)==Ji};var Oo=Os?pa(Os):function(e){return B(e)&&A(e)==Qi};function Io(e){return"string"==typeof e||!$(e)&&B(e)&&n(e)==ea}function b(e){return"symbol"==typeof e||B(e)&&n(e)==_a}var Mo=Is?pa(Is):function(e){return B(e)&&Co(e.length)&&!!ra[n(e)]};var Do=Pn(Rt),No=Pn(function(e,t){return e<=t});function Po(e){if(!e)return[];if(u(e))return(Io(e)?ga:T)(e);if(se&&e[se]){for(var t,n=e[se](),r=[];!(t=n.next()).done;)r.push(t.value);return r}var o=A(e);return(o==Gi?nl:o==Qi?ol:ri)(e)}function zo(e){return e?(e=R(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function _(e){var e=zo(e),t=e%1;return e==e?t?e-t:e:0}function Lo(e){return e?et(_(e),0,Ui):0}function R(e){if("number"==typeof e)return e;if(b(e))return wa;if("string"!=typeof(e=x(e)?x(t="function"==typeof e.valueOf?e.valueOf():e)?t+"":t:e))return 0===e?e:+e;e=Ks(e);var t=cs.test(e);return t||ds.test(e)?ks(e.slice(2),t?2:8):ls.test(e)?wa:+e}function jo(e){return gn(e,I(e))}function f(e){return null==e?"":c(e)}var Ao=yn(function(e,t){if(lr(t)||u(t))gn(t,O(t),e);else for(var n in t)L.call(t,n)&&Ke(e,n,t[n])}),Fo=yn(function(e,t){gn(t,I(t),e)}),$o=yn(function(e,t,n,r){gn(t,I(t),e,r)}),Bo=yn(function(e,t,n,r){gn(t,O(t),e,r)}),Vo=Wn(Qe);var Ho=a(function(e,t){e=m(e);var n=-1,r=t.length,o=2<r?t[2]:Bi;for(o&&p(t[0],t[1],o)&&(r=1);++n<r;)for(var i=t[n],a=I(i),s=-1,l=a.length;++s<l;){var c=a[s],u=e[c];(u===Bi||F(u,U[c])&&!L.call(e,c))&&(e[c]=i[c])}return e}),Wo=a(function(e){return e.push(Bi,Bn),aa(Xo,Bi,e)});function Uo(e,t,n){e=null==e?Bi:ht(e,t);return e===Bi?n:e}function qo(e,t){return null!=e&&tr(e,t,yt)}var Yo=Rn(function(e,t,n){e[t=null!=t&&"function"!=typeof t.toString?Z.call(t):t]=n},vi(M)),Ko=Rn(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Z.call(t)),L.call(e,t)?e[t].push(n):e[t]=[n]},d),Go=a(wt);function O(e){return(u(e)?He:Tt)(e)}function I(e){return u(e)?He(e,!0):_t(e)}var Zo=yn(function(e,t,n){Dt(e,t,n)}),Xo=yn(function(e,t,n,r){Dt(e,t,n,r)}),Jo=Wn(function(t,e){var n={};if(null!=t)for(var r=!1,o=(e=ca(e,function(e){return e=an(e,t),r=r||1<e.length,e}),gn(t,qn(t),n),r&&(n=y(n,7,Vn)),e.length);o--;)Xt(n,e[o]);return n});var Qo=Wn(function(e,t){return null==e?{}:zt(n=e,t,function(e,t){return qo(n,t)});var n});function ei(e,n){var t;return null==e?{}:(t=ca(qn(e),function(e){return[e]}),n=d(n),zt(e,t,function(e,t){return n(e,t[0])}))}var ti=An(O),ni=An(I);function ri(e){return null==e?[]:Gs(e,O(e))}var oi=Sn(function(e,t,n){return t=t.toLowerCase(),e+(n?ii(t):t)});function ii(e){return fi(f(e).toLowerCase())}function ai(e){return(e=f(e))&&e.replace(fs,Qs).replace(vs,"")}var si=Sn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),li=Sn(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),ci=xn("toLowerCase");var ui=Sn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});var di=Sn(function(e,t,n){return e+(n?" ":"")+fi(t)});var pi=Sn(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),fi=xn("toUpperCase");function hi(e,t,n){return e=f(e),(t=n?Bi:t)===Bi?(n=e,bs.test(n)?e.match(ys)||[]:e.match(rs)||[]):e.match(t)||[]}var mi=a(function(e,t){try{return aa(e,Bi,t)}catch(e){return xo(e)?e:new D(e)}}),gi=Wn(function(t,e){return sa(e,function(e){e=Sr(e),Je(t,e,ao(t[e],t))}),t});function vi(e){return function(){return e}}var yi=Tn(),bi=Tn(!0);function M(e){return e}function wi(e){return Et("function"==typeof e?e:y(e,1))}var xi=a(function(t,n){return function(e){return wt(e,t,n)}}),Si=a(function(t,n){return function(e){return wt(t,e,n)}});function ki(r,t,e){var n=O(t),o=ft(t,n),i=(null!=e||x(t)&&(o.length||!n.length)||(e=t,t=r,r=this,o=ft(t,O(t))),!(x(e)&&"chain"in e&&!e.chain)),a=So(r);return sa(o,function(e){var n=t[e];r[e]=n,a&&(r.prototype[e]=function(){var e,t=this.__chain__;return i||t?(((e=r(this.__wrapped__)).__actions__=T(this.__actions__)).push({func:n,args:arguments,thisArg:r}),e.__chain__=t,e):n.apply(r,ua([this.value()],arguments))})}),r}function Ci(){}var Ei=In(ca),Ti=In(Ns),_i=In(As);function Ri(e){return ir(e)?Ws(Sr(e)):(t=e,function(e){return ht(e,t)});var t}var Oi=Nn(),Ii=Nn(!0);function Mi(){return[]}function Di(){return!1}var Ni=On(function(e,t){return e+t},0),Pi=Ln("ceil"),zi=On(function(e,t){return e/t},1),Li=Ln("floor");var ji,Ai=On(function(e,t){return e*t},1),Fi=Ln("round"),$i=On(function(e,t){return e-t},0);return h.after=function(e,t){if("function"!=typeof t)throw new k(Vi);return e=_(e),function(){if(--e<1)return t.apply(this,arguments)}},h.ary=oo,h.assign=Ao,h.assignIn=Fo,h.assignInWith=$o,h.assignWith=Bo,h.at=Vo,h.before=io,h.bind=ao,h.bindAll=gi,h.bindKey=so,h.castArray=function(){var e;return arguments.length?$(e=arguments[0])?e:[e]:[]},h.chain=Hr,h.chunk=function(e,t,n){t=(n?p(e,t,n):t===Bi)?1:C(_(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var o=0,i=0,a=S(fe(r/t));o<r;)a[i++]=s(e,o,o+=t);return a},h.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},h.concat=function(){var e=arguments.length;if(!e)return[];for(var t=S(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return ua($(n)?T(n):[n],l(t,1))},h.cond=function(r){var o=null==r?0:r.length,t=d();return r=o?ca(r,function(e){if("function"!=typeof e[1])throw new k(Vi);return[t(e[0]),e[1]]}):[],a(function(e){for(var t=-1;++t<o;){var n=r[t];if(aa(n[0],this,e))return aa(n[1],this,e)}})},h.conforms=function(e){return t=y(e,1),n=O(t),function(e){return tt(e,t,n)};var t,n},h.constant=vi,h.countBy=qr,h.create=function(e,t){return e=Le(e),null==t?e:Xe(e,t)},h.curry=function e(t,n,r){t=Fn(t,8,Bi,Bi,Bi,Bi,Bi,n=r?Bi:n);return t.placeholder=e.placeholder,t},h.curryRight=function e(t,n,r){t=Fn(t,16,Bi,Bi,Bi,Bi,Bi,n=r?Bi:n);return t.placeholder=e.placeholder,t},h.debounce=lo,h.defaults=Ho,h.defaultsDeep=Wo,h.defer=de,h.delay=co,h.difference=i,h.differenceBy=Ce,h.differenceWith=e,h.drop=function(e,t,n){var r=null==e?0:e.length;return r?s(e,(t=n||t===Bi?1:_(t))<0?0:t,r):[]},h.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?s(e,0,(t=r-(t=n||t===Bi?1:_(t)))<0?0:t):[]},h.dropRightWhile=function(e,t){return e&&e.length?Qt(e,d(t,3),!0,!0):[]},h.dropWhile=function(e,t){return e&&e.length?Qt(e,d(t,3),!0):[]},h.fill=function(e,t,n,r){if(!(l=null==e?0:e.length))return[];n&&"number"!=typeof n&&p(e,t,n)&&(n=0,r=l);var o=e,i=t,a=n,s=r,l=o.length;for((a=_(a))<0&&(a=l<-a?0:l+a),(s=s===Bi||l<s?l:_(s))<0&&(s+=l),s=s<a?0:Lo(s);a<s;)o[a++]=i;return o},h.filter=function(e,t){return($(e)?la:lt)(e,d(t,3))},h.flatMap=function(e,t){return l(eo(e,t),1)},h.flatMapDeep=function(e,t){return l(eo(e,t),1/0)},h.flatMapDepth=function(e,t,n){return n=n===Bi?1:_(n),l(eo(e,t),n)},h.flatten=_r,h.flattenDeep=function(e){return(null==e?0:e.length)?l(e,1/0):[]},h.flattenDepth=function(e,t){return(null==e?0:e.length)?l(e,t=t===Bi?1:_(t)):[]},h.flip=function(e){return Fn(e,512)},h.flow=yi,h.flowRight=bi,h.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},h.functions=function(e){return null==e?[]:ft(e,O(e))},h.functionsIn=function(e){return null==e?[]:ft(e,I(e))},h.groupBy=Xr,h.initial=function(e){return(null==e?0:e.length)?s(e,0,-1):[]},h.intersection=q,h.intersectionBy=pe,h.intersectionWith=t,h.invert=Yo,h.invertBy=Ko,h.invokeMap=Jr,h.iteratee=wi,h.keyBy=Qr,h.keys=O,h.keysIn=I,h.map=eo,h.mapKeys=function(e,r){var o={};return r=d(r,3),dt(e,function(e,t,n){Je(o,r(e,t,n),e)}),o},h.mapValues=function(e,r){var o={};return r=d(r,3),dt(e,function(e,t,n){Je(o,t,r(e,t,n))}),o},h.matches=function(e){return It(y(e,1))},h.matchesProperty=function(e,t){return Mt(e,y(t,1))},h.memoize=uo,h.merge=Zo,h.mergeWith=Xo,h.method=xi,h.methodOf=Si,h.mixin=ki,h.negate=po,h.nthArg=function(t){return t=_(t),a(function(e){return Nt(e,t)})},h.omit=Jo,h.omitBy=function(e,t){return ei(e,po(d(t)))},h.once=function(e){return io(2,e)},h.orderBy=function(e,t,n,r){return null==e?[]:Pt(e,t=$(t)?t:null==t?[]:[t],n=$(n=r?Bi:n)?n:null==n?[]:[n])},h.over=Ei,h.overArgs=sn,h.overEvery=Ti,h.overSome=_i,h.partial=fo,h.partialRight=ho,h.partition=to,h.pick=Qo,h.pickBy=ei,h.property=Ri,h.propertyOf=function(t){return function(e){return null==t?Bi:ht(t,e)}},h.pull=ue,h.pullAll=Or,h.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Lt(e,t,d(n,2)):e},h.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Lt(e,t,Bi,n):e},h.pullAt=Ir,h.range=Oi,h.rangeRight=Ii,h.rearg=mo,h.reject=function(e,t){return($(e)?la:lt)(e,po(d(t,3)))},h.remove=function(e,t){var n=[];if(e&&e.length){var r=-1,o=[],i=e.length;for(t=d(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}jt(e,o)}return n},h.rest=function(e,t){if("function"!=typeof e)throw new k(Vi);return a(e,t=t===Bi?t:_(t))},h.reverse=Mr,h.sampleSize=function(e,t,n){return t=(n?p(e,t,n):t===Bi)?1:_(t),($(e)?Ue:Bt)(e,t)},h.set=function(e,t,n){return null==e?e:Vt(e,t,n)},h.setWith=function(e,t,n,r){return r="function"==typeof r?r:Bi,null==e?e:Vt(e,t,n,r)},h.shuffle=function(e){return($(e)?qe:Wt)(e)},h.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n=n&&"number"!=typeof n&&p(e,t,n)?(t=0,r):(t=null==t?0:_(t),n===Bi?r:_(n)),s(e,t,n)):[]},h.sortBy=no,h.sortedUniq=function(e){return e&&e.length?Kt(e):[]},h.sortedUniqBy=function(e,t){return e&&e.length?Kt(e,d(t,2)):[]},h.split=function(e,t,n){return n&&"number"!=typeof n&&p(e,t,n)&&(t=n=Bi),(n=n===Bi?Ui:n>>>0)?(e=f(e))&&("string"==typeof t||null!=t&&!Ro(t))&&!(t=c(t))&&fa(e)?ln(ga(e),0,n):e.split(t,n):[]},h.spread=function(n,r){if("function"!=typeof n)throw new k(Vi);return r=null==r?0:C(_(r),0),a(function(e){var t=e[r],e=ln(e,0,r);return t&&ua(e,t),aa(n,this,e)})},h.tail=function(e){var t=null==e?0:e.length;return t?s(e,1,t):[]},h.take=function(e,t,n){return e&&e.length?s(e,0,(t=n||t===Bi?1:_(t))<0?0:t):[]},h.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?s(e,(t=r-(t=n||t===Bi?1:_(t)))<0?0:t,r):[]},h.takeRightWhile=function(e,t){return e&&e.length?Qt(e,d(t,3),!1,!0):[]},h.takeWhile=function(e,t){return e&&e.length?Qt(e,d(t,3)):[]},h.tap=function(e,t){return t(e),e},h.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new k(Vi);return x(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),lo(e,t,{leading:r,maxWait:t,trailing:o})},h.thru=Wr,h.toArray=Po,h.toPairs=ti,h.toPairsIn=ni,h.toPath=function(e){return $(e)?ca(e,Sr):b(e)?[e]:T(xr(f(e)))},h.toPlainObject=jo,h.transform=function(e,r,o){var t,n=$(e),i=n||wo(e)||Mo(e);return r=d(r,4),null==o&&(t=e&&e.constructor,o=i?n?new t:[]:x(e)&&So(t)?Le(ne(e)):{}),(i?sa:dt)(e,function(e,t,n){return r(o,e,t,n)}),o},h.unary=function(e){return oo(e,1)},h.union=Dr,h.unionBy=Nr,h.unionWith=Pr,h.uniq=function(e){return e&&e.length?Zt(e):[]},h.uniqBy=function(e,t){return e&&e.length?Zt(e,d(t,2)):[]},h.uniqWith=function(e,t){return t="function"==typeof t?t:Bi,e&&e.length?Zt(e,Bi,t):[]},h.unset=function(e,t){return null==e||Xt(e,t)},h.unzip=zr,h.unzipWith=Lr,h.update=function(e,t,n){return null==e?e:Jt(e,t,on(n))},h.updateWith=function(e,t,n,r){return r="function"==typeof r?r:Bi,null==e?e:Jt(e,t,on(n),r)},h.values=ri,h.valuesIn=function(e){return null==e?[]:Gs(e,I(e))},h.without=jr,h.words=hi,h.wrap=function(e,t){return fo(on(t),e)},h.xor=Ar,h.xorBy=Fr,h.xorWith=$r,h.zip=Br,h.zipObject=function(e,t){return nn(e||[],t||[],Ke)},h.zipObjectDeep=function(e,t){return nn(e||[],t||[],Vt)},h.zipWith=Vr,h.entries=ti,h.entriesIn=ni,h.extend=Fo,h.extendWith=$o,ki(h,h),h.add=Ni,h.attempt=mi,h.camelCase=oi,h.capitalize=ii,h.ceil=Pi,h.clamp=function(e,t,n){return n===Bi&&(n=t,t=Bi),n!==Bi&&(n=(n=R(n))==n?n:0),t!==Bi&&(t=(t=R(t))==t?t:0),et(R(e),t,n)},h.clone=function(e){return y(e,4)},h.cloneDeep=function(e){return y(e,5)},h.cloneDeepWith=function(e,t){return y(e,5,t="function"==typeof t?t:Bi)},h.cloneWith=function(e,t){return y(e,4,t="function"==typeof t?t:Bi)},h.conformsTo=function(e,t){return null==t||tt(e,t,O(t))},h.deburr=ai,h.defaultTo=function(e,t){return null==e||e!=e?t:e},h.divide=zi,h.endsWith=function(e,t,n){e=f(e),t=c(t);var r=e.length,r=n=n===Bi?r:et(_(n),0,r);return 0<=(n-=t.length)&&e.slice(n,r)==t},h.eq=F,h.escape=function(e){return(e=f(e))&&Wa.test(e)?e.replace(Va,el):e},h.escapeRegExp=function(e){return(e=f(e))&&Ja.test(e)?e.replace(Xa,"\\$&"):e},h.every=function(e,t,n){return($(e)?Ns:at)(e,d(t=n&&p(e,t,n)?Bi:t,3))},h.find=Yr,h.findIndex=Er,h.findKey=function(e,t){return Fs(e,d(t,3),dt)},h.findLast=Kr,h.findLastIndex=Tr,h.findLastKey=function(e,t){return Fs(e,d(t,3),pt)},h.floor=Li,h.forEach=Gr,h.forEachRight=Zr,h.forIn=function(e,t){return null==e?e:ct(e,d(t,3),I)},h.forInRight=function(e,t){return null==e?e:ut(e,d(t,3),I)},h.forOwn=function(e,t){return e&&dt(e,d(t,3))},h.forOwnRight=function(e,t){return e&&pt(e,d(t,3))},h.get=Uo,h.gt=go,h.gte=vo,h.has=function(e,t){return null!=e&&tr(e,t,vt)},h.hasIn=qo,h.head=Rr,h.identity=M,h.includes=function(e,t,n,r){return e=u(e)?e:ri(e),n=n&&!r?_(n):0,r=e.length,n<0&&(n=C(r+n,0)),Io(e)?n<=r&&-1<e.indexOf(t,n):!!r&&-1<da(e,t,n)},h.indexOf=function(e,t,n){var r=null==e?0:e.length;return r?da(e,t,e=(e=null==n?0:_(n))<0?C(r+e,0):e):-1},h.inRange=function(e,t,n){return t=zo(t),n===Bi?(n=t,t=0):n=zo(n),(e=e=R(e))>=E(t=t,n=n)&&e<C(t,n)},h.invoke=Go,h.isArguments=yo,h.isArray=$,h.isArrayBuffer=bo,h.isArrayLike=u,h.isArrayLikeObject=w,h.isBoolean=function(e){return!0===e||!1===e||B(e)&&n(e)==Yi},h.isBuffer=wo,h.isDate=W,h.isElement=function(e){return B(e)&&1===e.nodeType&&!_o(e)},h.isEmpty=function(e){if(null!=e){if(u(e)&&($(e)||"string"==typeof e||"function"==typeof e.splice||wo(e)||Mo(e)||yo(e)))return!e.length;var t,n=A(e);if(n==Gi||n==Qi)return!e.size;if(lr(e))return!Tt(e).length;for(t in e)if(L.call(e,t))return!1}return!0},h.isEqual=function(e,t){return St(e,t)},h.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:Bi)?n(e,t):Bi;return r===Bi?St(e,t,Bi,n):!!r},h.isError=xo,h.isFinite=function(e){return"number"==typeof e&&ge(e)},h.isFunction=So,h.isInteger=ko,h.isLength=Co,h.isMap=Eo,h.isMatch=function(e,t){return e===t||kt(e,t,Xn(t))},h.isMatchWith=function(e,t,n){return n="function"==typeof n?n:Bi,kt(e,t,Xn(t),n)},h.isNaN=function(e){return To(e)&&e!=+e},h.isNative=function(e){if(sr(e))throw new D("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ct(e)},h.isNil=function(e){return null==e},h.isNull=function(e){return null===e},h.isNumber=To,h.isObject=x,h.isObjectLike=B,h.isPlainObject=_o,h.isRegExp=Ro,h.isSafeInteger=function(e){return ko(e)&&-Wi<=e&&e<=Wi},h.isSet=Oo,h.isString=Io,h.isSymbol=b,h.isTypedArray=Mo,h.isUndefined=function(e){return e===Bi},h.isWeakMap=function(e){return B(e)&&A(e)==ta},h.isWeakSet=function(e){return B(e)&&"[object WeakSet]"==n(e)},h.join=function(e,t){return null==e?"":ve.call(e,t)},h.kebabCase=si,h.last=r,h.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;if(n!==Bi&&(o=(o=_(n))<0?C(r+o,0):E(o,r-1)),t!=t)return $s(e,Vs,o,!0);for(var i=e,a=t,s=o+1;s--;)if(i[s]===a)return s;return s},h.lowerCase=li,h.lowerFirst=ci,h.lt=Do,h.lte=No,h.max=function(e){return e&&e.length?st(e,M,gt):Bi},h.maxBy=function(e,t){return e&&e.length?st(e,d(t,2),gt):Bi},h.mean=function(e){return Hs(e,M)},h.meanBy=function(e,t){return Hs(e,d(t,2))},h.min=function(e){return e&&e.length?st(e,M,Rt):Bi},h.minBy=function(e,t){return e&&e.length?st(e,d(t,2),Rt):Bi},h.stubArray=Mi,h.stubFalse=Di,h.stubObject=function(){return{}},h.stubString=function(){return""},h.stubTrue=function(){return!0},h.multiply=Ai,h.nth=function(e,t){return e&&e.length?Nt(e,_(t)):Bi},h.noConflict=function(){return ia._===this&&(ia._=J),this},h.noop=Ci,h.now=ro,h.pad=function(e,t,n){e=f(e);var r=(t=_(t))?ma(e):0;return!t||t<=r?e:Mn(he(t=(t-r)/2),n)+e+Mn(fe(t),n)},h.padEnd=function(e,t,n){e=f(e);var r=(t=_(t))?ma(e):0;return t&&r<t?e+Mn(t-r,n):e},h.padStart=function(e,t,n){e=f(e);var r=(t=_(t))?ma(e):0;return t&&r<t?Mn(t-r,n)+e:e},h.parseInt=function(e,t,n){return t=n||null==t?0:t&&+t,we(f(e).replace(Qa,""),t||0)},h.random=function(e,t,n){var r;return n&&"boolean"!=typeof n&&p(e,t,n)&&(t=n=Bi),n===Bi&&("boolean"==typeof t?(n=t,t=Bi):"boolean"==typeof e&&(n=e,e=Bi)),e===Bi&&t===Bi?(e=0,t=1):(e=zo(e),t===Bi?(t=e,e=0):t=zo(t)),t<e&&(r=e,e=t,t=r),n||e%1||t%1?(r=xe(),E(e+r*(t-e+Ss("1e-"+((r+"").length-1))),t)):At(e,t)},h.reduce=function(e,t,n){var r=$(e)?Ls:Us,o=arguments.length<3;return r(e,d(t,4),n,o,ot)},h.reduceRight=function(e,t,n){var r=$(e)?js:Us,o=arguments.length<3;return r(e,d(t,4),n,o,it)},h.repeat=function(e,t,n){return t=(n?p(e,t,n):t===Bi)?1:_(t),Ft(f(e),t)},h.replace=function(){var e=arguments,t=f(e[0]);return e.length<3?t:t.replace(e[1],e[2])},h.result=function(e,t,n){var r=-1,o=(t=an(t,e)).length;for(o||(o=1,e=Bi);++r<o;){var i=null==e?Bi:e[Sr(t[r])];i===Bi&&(r=o,i=n),e=So(i)?i.call(e):i}return e},h.round=Fi,h.runInContext=o,h.sample=function(e){return($(e)?We:$t)(e)},h.size=function(e){var t;return null==e?0:u(e)?Io(e)?ma(e):e.length:(t=A(e))==Gi||t==Qi?e.size:Tt(e).length},h.snakeCase=ui,h.some=function(e,t,n){return($(e)?As:Ut)(e,d(t=n&&p(e,t,n)?Bi:t,3))},h.sortedIndex=function(e,t){return qt(e,t)},h.sortedIndexBy=function(e,t,n){return Yt(e,t,d(n,2))},h.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=qt(e,t);if(r<n&&F(e[r],t))return r}return-1},h.sortedLastIndex=function(e,t){return qt(e,t,!0)},h.sortedLastIndexBy=function(e,t,n){return Yt(e,t,d(n,2),!0)},h.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=qt(e,t,!0)-1;if(F(e[n],t))return n}return-1},h.startCase=di,h.startsWith=function(e,t,n){return e=f(e),n=null==n?0:et(_(n),0,e.length),t=c(t),e.slice(n,n+t.length)==t},h.subtract=$i,h.sum=function(e){return e&&e.length?qs(e,M):0},h.sumBy=function(e,t){return e&&e.length?qs(e,d(t,2)):0},h.template=function(a,e,t){var s,l,n=h.templateSettings;t&&p(a,e,t)&&(e=Bi),a=f(a),e=$o({},e,n,$n);var r=O(t=$o({},e.imports,n.imports,$n)),o=Gs(t,r),c=0,n=e.interpolate||hs,u="__p += '",t=z((e.escape||hs).source+"|"+n.source+"|"+(n===Ya?as:hs).source+"|"+(e.evaluate||hs).source+"|$","g"),i="//# sourceURL="+(L.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++xs+"]")+"\n";if(a.replace(t,function(e,t,n,r,o,i){return n=n||r,u+=a.slice(c,i).replace(ms,tl),t&&(s=!0,u+="' +\n__e("+t+") +\n'"),o&&(l=!0,u+="';\n"+o+";\n__p += '"),n&&(u+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=i+e.length,e}),u+="';\n",n=L.call(e,"variable")&&e.variable){if(os.test(n))throw new D("Invalid `variable` option passed into `_.template`")}else u="with (obj) {\n"+u+"\n}\n";if(u=(l?u.replace(Aa,""):u).replace(Fa,"$1").replace($a,"$1;"),u="function("+(n||"obj")+") {\n"+(n?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(l?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+u+"return __p\n}",(t=mi(function(){return N(r,i+"return "+u).apply(Bi,o)})).source=u,xo(t))throw t;return t},h.times=function(e,t){if((e=_(e))<1||Wi<e)return[];for(var n=Ui,r=E(e,Ui),r=(t=d(t),e-=Ui,Ys(r,t));++n<e;)t(n);return r},h.toFinite=zo,h.toInteger=_,h.toLength=Lo,h.toLower=function(e){return f(e).toLowerCase()},h.toNumber=R,h.toSafeInteger=function(e){return e?et(_(e),-Wi,Wi):0===e?e:0},h.toString=f,h.toUpper=function(e){return f(e).toUpperCase()},h.trim=function(e,t,n){return(e=f(e))&&(n||t===Bi)?Ks(e):e&&(t=c(t))?ln(n=ga(e),Xs(n,t=ga(t)),Js(n,t)+1).join(""):e},h.trimEnd=function(e,t,n){return(e=f(e))&&(n||t===Bi)?e.slice(0,il(e)+1):e&&(t=c(t))?ln(n=ga(e),0,Js(n,ga(t))+1).join(""):e},h.trimStart=function(e,t,n){return(e=f(e))&&(n||t===Bi)?e.replace(Qa,""):e&&(t=c(t))?ln(n=ga(e),Xs(n,ga(t))).join(""):e},h.truncate=function(e,t){var n,r=30,o="...",t=(x(t)&&(n="separator"in t?t.separator:n,r="length"in t?_(t.length):r,o="omission"in t?c(t.omission):o),(e=f(e)).length);if((t=fa(e)?(i=ga(e)).length:t)<=r)return e;if((t=r-ma(o))<1)return o;var i,r=i?ln(i,0,t).join(""):e.slice(0,t);if(n!==Bi)if(i&&(t+=r.length-t),Ro(n)){if(e.slice(t).search(n)){var a,s=r;for((n=n.global?n:z(n.source,f(ss.exec(n))+"g")).lastIndex=0;a=n.exec(s);)var l=a.index;r=r.slice(0,l===Bi?t:l)}}else e.indexOf(c(n),t)!=t&&-1<(i=r.lastIndexOf(n))&&(r=r.slice(0,i));return r+o},h.unescape=function(e){return(e=f(e))&&Ha.test(e)?e.replace(Ba,al):e},h.uniqueId=function(e){var t=++K;return f(e)+t},h.upperCase=pi,h.upperFirst=fi,h.each=Gr,h.eachRight=Zr,h.first=Rr,ki(h,(ji={},dt(h,function(e,t){L.call(h.prototype,t)||(ji[t]=e)}),ji),{chain:!1}),h.VERSION="4.17.21",sa(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){h[e].placeholder=h}),sa(["drop","take"],function(n,r){v.prototype[n]=function(e){e=e===Bi?1:C(_(e),0);var t=this.__filtered__&&!r?new v(this):this.clone();return t.__filtered__?t.__takeCount__=E(e,t.__takeCount__):t.__views__.push({size:E(e,Ui),type:n+(t.__dir__<0?"Right":"")}),t},v.prototype[n+"Right"]=function(e){return this.reverse()[n](e).reverse()}}),sa(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;v.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:d(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),sa(["head","last"],function(e,t){var n="take"+(t?"Right":"");v.prototype[e]=function(){return this[n](1).value()[0]}}),sa(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");v.prototype[e]=function(){return this.__filtered__?new v(this):this[n](1)}}),v.prototype.compact=function(){return this.filter(M)},v.prototype.find=function(e){return this.filter(e).head()},v.prototype.findLast=function(e){return this.reverse().find(e)},v.prototype.invokeMap=a(function(t,n){return"function"==typeof t?new v(this):this.map(function(e){return wt(e,t,n)})}),v.prototype.reject=function(e){return this.filter(po(d(e)))},v.prototype.slice=function(e,t){e=_(e);var n=this;return n.__filtered__&&(0<e||t<0)?new v(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==Bi?(t=_(t))<0?n.dropRight(-t):n.take(t-e):n)},v.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},v.prototype.toArray=function(){return this.take(Ui)},dt(v.prototype,function(c,e){var u=/^(?:filter|find|map|reject)|While$/.test(e),d=/^(?:head|last)$/.test(e),p=h[d?"take"+("last"==e?"Right":""):e],f=d||/^find/.test(e);p&&(h.prototype[e]=function(){function e(e){return e=p.apply(h,ua([e],r)),d&&s?e[0]:e}var t,n=this.__wrapped__,r=d?[1]:arguments,o=n instanceof v,i=r[0],a=o||$(n),s=(a&&u&&"function"==typeof i&&1!=i.length&&(o=a=!1),this.__chain__),i=!!this.__actions__.length,l=f&&!s,o=o&&!i;return!f&&a?(n=o?n:new v(this),(t=c.apply(n,r)).__actions__.push({func:Wr,args:[e],thisArg:Bi}),new g(t,s)):l&&o?c.apply(this,r):(t=this.thru(e),l?d?t.value()[0]:t.value():t)})}),sa(["pop","push","shift","sort","splice","unshift"],function(e){var n=H[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",o=/^(?:pop|shift)$/.test(e);h.prototype[e]=function(){var e,t=arguments;return o&&!this.__chain__?(e=this.value(),n.apply($(e)?e:[],t)):this[r](function(e){return n.apply($(e)?e:[],t)})}}),dt(v.prototype,function(e,t){var n,r=h[t];r&&(n=r.name+"",L.call(Re,n)||(Re[n]=[]),Re[n].push({name:t,func:r}))}),Re[_n(Bi,2).name]=[{name:"wrapper",func:Bi}],v.prototype.clone=function(){var e=new v(this.__wrapped__);return e.__actions__=T(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=T(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=T(this.__views__),e},v.prototype.reverse=function(){var e;return this.__filtered__?((e=new v(this)).__dir__=-1,e.__filtered__=!0):(e=this.clone()).__dir__*=-1,e},v.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=$(e),r=t<0,o=n?e.length:0,i=function(e,t,n){var r=-1,o=n.length;for(;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=E(t,e+a);break;case"takeRight":e=C(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,s=(i=i.end)-a,l=r?i:a-1,c=this.__iteratees__,u=c.length,d=0,p=E(s,this.__takeCount__);if(!n||!r&&o==s&&p==s)return en(e,this.__actions__);var f=[];e:for(;s--&&d<p;){for(var h=-1,m=e[l+=t];++h<u;){var g=c[h],v=g.iteratee,g=g.type,v=v(m);if(2==g)m=v;else if(!v){if(1==g)continue e;break e}}f[d++]=m}return f},h.prototype.at=Ur,h.prototype.chain=function(){return Hr(this)},h.prototype.commit=function(){return new g(this.value(),this.__chain__)},h.prototype.next=function(){this.__values__===Bi&&(this.__values__=Po(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?Bi:this.__values__[this.__index__++]}},h.prototype.plant=function(e){for(var t,n=this;n instanceof Ae;)var r=Cr(n),o=(r.__index__=0,r.__values__=Bi,t?o.__wrapped__=r:t=r,r),n=n.__wrapped__;return o.__wrapped__=e,t},h.prototype.reverse=function(){var e=this.__wrapped__;return e instanceof v?(e=e,(e=(e=this.__actions__.length?new v(this):e).reverse()).__actions__.push({func:Wr,args:[Mr],thisArg:Bi}),new g(e,this.__chain__)):this.thru(Mr)},h.prototype.toJSON=h.prototype.valueOf=h.prototype.value=function(){return en(this.__wrapped__,this.__actions__)},h.prototype.first=h.prototype.head,se&&(h.prototype[se]=function(){return this}),h}();o?((o.exports=va)._=va,r._=va):ia._=va}.call(commonjsGlobal)}(lodash,lodash.exports),lodash.exports);const mergeWithoutArray=(e,t,n)=>lodashExports.isArray(e)||lodashExports.isArray(t)?t:lodashExports.mergeWith(e,t,n=n||((e,t)=>{if(lodashExports.isArray(e))return t})),getTextEffectStyle=(e,t,n,r)=>{var o,i,a,s={};return"shadow"===e?(a=new Color(t.color),i=(t.direction||0)*Math.PI/180,o=.00183334*(t.offset||0)*r*Math.sin(i),i=.00183334*(t.offset||0)*r*Math.cos(i),s.textShadow=`${a.alpha((t.transparency||0)/100).toRgbString()} ${o}px ${i}px ${t.blur}px`):"lift"===e?s.textShadow=`rgba(0, 0, 0, ${.05+.005*((null==t?void 0:t.intensity)||0)}) 0px ${Math.max(.45,.05*r)}px ${Math.max(.45,.05*r)+.065*((null==t?void 0:t.intensity)||0)}px; filter: opacity(1)`:"hollow"===e?(s.caretColor=n,s.WebkitTextFillColor="transparent",s.WebkitTextStroke=(.0091666+833325e-9*((null==t?void 0:t.thickness)||0))*r+"px "+n):"splice"===e?(s.caretColor=n,s.WebkitTextFillColor="transparent",a=(null==t?void 0:t.thickness)||0,s.WebkitTextStroke=.00916666*Math.max(8,r)+83333e-8*r*a+"px "+n,o=((null==t?void 0:t.direction)||0)*Math.PI/180,i=.00183334*((null==t?void 0:t.offset)||0)*r*Math.sin(o),a=.00183334*((null==t?void 0:t.offset)||0)*r*Math.cos(o),s.textShadow=t.color+` ${i}px ${a}px 0px`):"outline"!==e&&"echo"===e&&(n=new Color(t.color),o=((null==t?void 0:t.direction)||0)*Math.PI/180,i=.00166666*((null==t?void 0:t.offset)||0)*r*Math.sin(o),a=.00166666*((null==t?void 0:t.offset)||0)*r*Math.cos(o),s.textShadow=`${n.alpha(.5).toRgbString()} ${i}px ${a}px 0px, ${n.alpha(.3).toRgbString()} ${2*i}px ${2*a}px 0px`),s},getTransformStyle=e=>{var t=[];return e.position&&t.push(`translate(${e.position.x}px, ${e.position.y}px)`),e.scale&&t.push(`scale(${e.scale})`),e.rotate&&t.push(`rotate(${e.rotate}deg)`),t.join(" ")};var pkg={name:"@emotion/react",version:"11.11.1",main:"dist/emotion-react.cjs.js",module:"dist/emotion-react.esm.js",browser:{"./dist/emotion-react.esm.js":"./dist/emotion-react.browser.esm.js"},exports:{".":{module:{worker:"./dist/emotion-react.worker.esm.js",browser:"./dist/emotion-react.browser.esm.js",default:"./dist/emotion-react.esm.js"},import:"./dist/emotion-react.cjs.mjs",default:"./dist/emotion-react.cjs.js"},"./jsx-runtime":{module:{worker:"./jsx-runtime/dist/emotion-react-jsx-runtime.worker.esm.js",browser:"./jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js",default:"./jsx-runtime/dist/emotion-react-jsx-runtime.esm.js"},import:"./jsx-runtime/dist/emotion-react-jsx-runtime.cjs.mjs",default:"./jsx-runtime/dist/emotion-react-jsx-runtime.cjs.js"},"./_isolated-hnrs":{module:{worker:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.worker.esm.js",browser:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.esm.js",default:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.esm.js"},import:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.cjs.mjs",default:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.cjs.js"},"./jsx-dev-runtime":{module:{worker:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.worker.esm.js",browser:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.browser.esm.js",default:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.esm.js"},import:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.cjs.mjs",default:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.cjs.js"},"./package.json":"./package.json","./types/css-prop":"./types/css-prop.d.ts","./macro":{types:{import:"./macro.d.mts",default:"./macro.d.ts"},default:"./macro.js"}},types:"types/index.d.ts",files:["src","dist","jsx-runtime","jsx-dev-runtime","_isolated-hnrs","types/*.d.ts","macro.*"],sideEffects:!1,author:"Emotion Contributors",license:"MIT",scripts:{"test:typescript":"dtslint types"},dependencies:{"@babel/runtime":"^7.18.3","@emotion/babel-plugin":"^11.11.0","@emotion/cache":"^11.11.0","@emotion/serialize":"^1.1.2","@emotion/use-insertion-effect-with-fallbacks":"^1.0.1","@emotion/utils":"^1.2.1","@emotion/weak-memoize":"^0.3.1","hoist-non-react-statics":"^3.3.1"},peerDependencies:{react:">=16.8.0"},peerDependenciesMeta:{"@types/react":{optional:!0}},devDependencies:{"@definitelytyped/dtslint":"0.0.112","@emotion/css":"11.11.0","@emotion/css-prettifier":"1.1.3","@emotion/server":"11.11.0","@emotion/styled":"11.11.0","html-tag-names":"^1.1.2",react:"16.14.0","svg-tag-names":"^1.1.1",typescript:"^4.5.5"},repository:"https://github.com/emotion-js/emotion/tree/main/packages/react",publishConfig:{access:"public"},"umd:main":"dist/emotion-react.umd.min.js",preconstruct:{entrypoints:["./index.js","./jsx-runtime.js","./jsx-dev-runtime.js","./_isolated-hnrs.js"],umdName:"emotionReact",exports:{envConditions:["browser","worker"],extra:{"./types/css-prop":"./types/css-prop.d.ts","./macro":{types:{import:"./macro.d.mts",default:"./macro.d.ts"},default:"./macro.js"}}}}},warnedAboutCssPropForGlobal=!1,Global=withEmotionCache(function(e,o){"production"===process.env.NODE_ENV||warnedAboutCssPropForGlobal||!e.className&&!e.css||(console.error("It looks like you're using the css prop on Global, did you mean to use the styles prop instead?"),warnedAboutCssPropForGlobal=!0);var i,e=e.styles,a=serializeStyles([e],void 0,React$1.useContext(ThemeContext));if(isBrowser$2)return i=React$1.useRef(),useInsertionEffectWithLayoutFallback(function(){var e=o.key+"-global",t=new o.sheet.constructor({key:e,nonce:o.sheet.nonce,container:o.sheet.container,speedy:o.sheet.isSpeedy}),n=!1,r=document.querySelector('style[data-emotion="'+e+" "+a.name+'"]');return o.sheet.tags.length&&(t.before=o.sheet.tags[0]),null!==r&&(n=!0,r.setAttribute("data-emotion",e),t.hydrate([r])),i.current=[t,n],function(){t.flush()}},[o]),useInsertionEffectWithLayoutFallback(function(){var e=i.current,t=e[0];e[1]?e[1]=!1:(void 0!==a.next&&insertStyles(o,a.next,!0),t.tags.length&&(e=t.tags[t.tags.length-1].nextElementSibling,t.before=e,t.flush()),o.insert("",a,t,!1))},[o,a.name]),null;for(var t=a.name,n=a.styles,r=a.next;void 0!==r;)t+=" "+r.name,n+=r.styles,r=r.next;var e=!0===o.compat,s=o.insert("",{name:t,styles:n},o.sheet,e);return e?null:React$1.createElement("style",((e={})["data-emotion"]=o.key+"-global "+t,e.dangerouslySetInnerHTML={__html:s},e.nonce=o.sheet.nonce,e))});function css(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return serializeStyles(t)}"production"!==process.env.NODE_ENV&&(Global.displayName="EmotionGlobal");var classnames=function e(t){for(var n=t.length,r=0,o="";r<n;r++){var i=t[r];if(null!=i){var a=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))a=e(i);else for(var s in"production"!==process.env.NODE_ENV&&void 0!==i.styles&&void 0!==i.name&&console.error("You have passed styles created with `css` from `@emotion/react` package to the `cx`.\n`cx` is meant to compose class names (strings) so you should convert those styles to a class name by passing them to the `css` received from <ClassNames/> component."),a="",i)i[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=i}a&&(o&&(o+=" "),o+=a)}}return o};function merge(e,t,n){var r=[],e=getRegisteredStyles(e,r,n);return r.length<2?n:e+t(r)}var isBrowser,isTestEnv,globalContext,globalKey,Insertion=function(e){var t,r=e.cache,o=e.serializedArr,e=useInsertionEffectAlwaysWithSyncFallback(function(){for(var e="",t=0;t<o.length;t++){var n=insertStyles(r,o[t],!1);isBrowser$2||void 0===n||(e+=n)}if(!isBrowser$2)return e});return isBrowser$2||0===e.length?null:React$1.createElement("style",((t={})["data-emotion"]=r.key+" "+o.map(function(e){return e.name}).join(" "),t.dangerouslySetInnerHTML={__html:e},t.nonce=r.sheet.nonce,t))},ClassNames=withEmotionCache(function(e,o){function r(){if(i&&"production"!==process.env.NODE_ENV)throw new Error("css can only be used during render");for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=serializeStyles(t,o.registered);return a.push(r),registerStyles(o,r,!1),o.key+"-"+r.name}var i=!1,a=[],t={css:r,cx:function(){if(i&&"production"!==process.env.NODE_ENV)throw new Error("cx can only be used during render");for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return merge(o.registered,r,classnames(t))},theme:React$1.useContext(ThemeContext)},e=e.children(t),i=!0;return React$1.createElement(React$1.Fragment,null,React$1.createElement(Insertion,{cache:o,serializedArr:a}),e)});"production"!==process.env.NODE_ENV&&(ClassNames.displayName="EmotionClassNames"),"production"!==process.env.NODE_ENV&&(isBrowser="undefined"!=typeof document,isTestEnv="undefined"!=typeof jest||"undefined"!=typeof vi,isBrowser)&&!isTestEnv&&((globalContext="undefined"!=typeof globalThis?globalThis:isBrowser?window:global)[globalKey="__EMOTION_REACT_"+pkg.version.split(".")[0]+"__"]&&console.warn("You are loading @emotion/react when it is already loaded. Running multiple instances may cause problems. This can happen if multiple versions are used, or if multiple builds of the same version are used."),globalContext[globalKey]=!0);const FontStyle$2=({font:r})=>{var e=useMemo(()=>{const n=[];return r.fonts.forEach(e=>{var t;n.push(`
                @font-face {
                  font-family: '${r.name}';
                  font-weight: ${(null==(t=e.style)?void 0:t.replace("_Italic",""))||"normal"};
                  ${null!=(t=e.style)&&t.includes("_Italic")?"font-style: italic;\n":""}
                  src: url(${e.urls.join(",")}) format('woff2');
                  font-display: block;
                }
            `)}),n.join("\n")},[r]);return jsx(Global,{styles:css`
                ${e}
            `})};var FontStyle$3=React__default$1.memo(FontStyle$2);const GlobalStyle=({fonts:e,mode:t="view"})=>{return jsxs(Fragment$1,{children:[jsx(Global,{styles:css`
                    ${`
        .lidojs-text {
            counter-reset: list;
            p {
                margin-left: calc(var(--indent-level)*1.7em);

            }
            p:before {
                counter-increment: list;
                content: counter(list, var(--counter-list-marker)) ".";
                left: 0;
                padding-right: 0.1em;
                height: calc(var(--line-height))*1em;
                width: calc(var(--indent-level)*1em);
                position: absolute;
                margin: 0;
                padding: 0;
                white-space: nowrap;
            }
        }
    `}
                    ${`
        * {
            -webkit-user-select: ${"editor"===t?"none":"text"}; /* Safari */
            -khtml-user-select: ${"editor"===t?"none":"text"}; /* Konqueror HTML */
            -moz-user-select: ${"editor"===t?"none":"text"}; /* Old versions of Firefox */
            -ms-user-select: ${"editor"===t?"none":"text"}; /* Internet Explorer/Edge */
            user-select: ${"editor"===t?"none":"text"};
            -webkit-user-drag: none;
             -webkit-touch-callout: none; /* iOS Safari */
        }
    `}
                `}),e.map(e=>jsx(FontStyle$3,{font:e},e.name))]})},getGradientBackground=(e,t)=>{const n=100/(e.length-1);var r=e.map((e,t)=>`${e} ${t*n}%`);switch(t){case"leftToRight":return`linear-gradient(90deg, ${r.join(", ")})`;case"topToBottom":return`linear-gradient(${r.join(", ")})`;case"topLeftToBottomRight":return`linear-gradient(135deg, ${r.join(", ")})`;case"circleCenter":return`radial-gradient(circle at 50% 50%, ${r.join(", ")})`;default:return`radial-gradient(circle at 0% 0%, ${r.join(", ")})`}},FrameContent=({clipPath:e,image:t,color:n,gradientBackground:r})=>jsx("div",{css:{width:"100%",height:"100%",clipPath:e,background:r?getGradientBackground(r.colors,r.style):null!=n?n:void 0},children:t&&jsx("div",{css:{width:t.boxSize.width,height:t.boxSize.height,transform:getTransformStyle({position:t.position,rotate:t.rotate}),position:"relative",userSelect:"none"},children:jsx("img",{src:t.url,css:{objectFit:"fill",width:"100%",height:"100%",position:"absolute",pointerEvents:"none"}})})}),TextContent=({text:e,colors:t,fontSizes:n,effect:r})=>jsx("div",{className:"lidojs-text",css:Object.assign({p:{"&:before":Object.assign({},getTextEffectStyle((null==r?void 0:r.name)||"none",null==r?void 0:r.settings,t[0],n[0]))}},getTextEffectStyle((null==r?void 0:r.name)||"none",null==r?void 0:r.settings,t[0],n[0])),dangerouslySetInnerHTML:{__html:e}}),ImageContent=({image:e,boxSize:t})=>jsx("div",{css:{overflow:"hidden",pointerEvents:"auto",width:t.width,height:t.height},children:jsx("div",{css:{width:e.boxSize.width,height:e.boxSize.height,transform:getTransformStyle({position:e.position,rotate:e.rotate}),position:"relative",userSelect:"none",opacity:e.transparency},children:jsx("img",{src:e.url,css:{objectFit:"fill",width:"100%",height:"100%",position:"absolute",pointerEvents:"none"}})})}),ShapeContent=({boxSize:e,shape:t,color:n,gradientBackground:r,roundedCorners:o=0,scale:i=1,border:a})=>{return jsxs("div",{css:{position:"relative",width:e.width/i,height:e.height/i},children:[jsx("div",{css:{clipPath:`path("${getShapePath(t,{width:e.width/i,height:e.height/i,roundedCorners:o})}")`,width:"100%",height:"100%",background:r?getGradientBackground(r.colors,r.style):n||"#fff"}}),a&&jsxs("svg",{viewBox:`0 0 ${e.width/i} `+e.height/i,css:{position:"absolute",inset:0},children:[o&&jsx("defs",{children:jsx("clipPath",{id:"roundedCorners",children:jsx("path",{d:getShapePath(t,{width:e.width/i,height:e.height/i,roundedCorners:o})})})}),jsx("path",{d:getShapePath(t,{width:e.width/i,height:e.height/i,roundedCorners:o}),strokeLinecap:"butt",fill:"none",stroke:a.color,strokeWidth:a.weight,strokeDasharray:(()=>{switch(null==a?void 0:a.style){case"longDashes":return 6*a.weight+", "+a.weight;case"shortDashes":return 3*a.weight+", "+a.weight;case"dots":return a.weight+", "+a.weight;default:return}})(),clipPath:`path("${getShapePath(t,{width:e.width/i,height:e.height/i,roundedCorners:o})}")`})]})]})},RootContent=e=>{var{boxSize:t,color:n,gradientBackground:r,image:o,position:i,rotate:a}=e,e=__rest(e,["boxSize","color","gradientBackground","image","position","rotate"]);return jsxs("div",Object.assign({css:{position:"absolute",overflow:"hidden",pointerEvents:"auto",width:t.width,height:t.height}},e,{children:[jsx("div",{css:{position:"absolute",top:0,left:0,width:t.width,height:t.height,background:r?getGradientBackground(r.colors,r.style):n||"#fff"}}),o&&jsx("div",{css:{width:t.width,height:t.height},children:jsx(ImageContent,{image:o,boxSize:t,rotate:a,position:i})})]}))};function useMountedState(){var e=useRef(!1),t=useCallback(function(){return e.current},[]);return useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),t}function useAsyncFn(r,e,t){void 0===e&&(e=[]),void 0===t&&(t={loading:!1});var o=useRef(0),i=useMountedState(),t=useState(t),a=t[0],s=t[1],t=useCallback(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=++o.current;return a.loading||s(function(e){return __assign(__assign({},e),{loading:!0})}),r.apply(void 0,e).then(function(e){return i()&&n===o.current&&s({value:e,loading:!1}),e},function(e){return i()&&n===o.current&&s({error:e,loading:!1}),e})},e);return[a,t]}function useAsync(e,t){var e=useAsyncFn(e,t=void 0===t?[]:t,{loading:!0}),t=e[0],n=e[1];return useEffect(function(){n()},[n]),t}const SvgContent=({image:u,boxSize:e,colors:d})=>{const[t,p]=useState();return useAsync(async()=>{var e=await fetchSvgContent(u),t=(e.style.fill="",e.style.stroke="",e.getElementsByTagName("g"));if(0<t.length)for(let e=0;e<t.length;e++){var n=t[e].getAttribute("id");if(n){n=n.match(/^[a-z]+(\d+)(_)*(\d*)$/i);if(n&&2<=n.length){var r=parseInt(n[1],10)-1,o=t[e].querySelectorAll("path, circle, ellipse,line, rect, polygon,polyline, text");for(let e=0;e<o.length;e++){var i=o[e].getAttribute("stroke")||"none";o[e].style.fill="",o[e].style.stroke="","none"!==i?o[e].setAttribute("stroke",d[r]||"#000000"):o[e].setAttribute("fill",d[r]||"#000000")}}}}else{var a=[],s=e.querySelectorAll("path, circle, ellipse,line, rect, polygon,polyline, text");for(let n=0;n<s.length;n++){var l=s[n].getAttribute("style");let e=s[n].getAttribute("stroke")||"none",t=s[n].getAttribute("fill")||"#000000";const c={};l&&l.split(";").forEach(e=>{var[e,t]=e.split(":");c[e.trim()]=t.trim()}),c.stroke&&(e=c.stroke),c.fill&&(t=c.fill),e&&"none"!==e?(a.includes(new Color(e).toRgbString())||a.push(new Color(e).toRgbString()),s[n].style.fill="",s[n].style.stroke="",s[n].setAttribute("stroke",d[a.indexOf(new Color(e).toRgbString())]||"#000000")):t&&"none"!==t&&(a.includes(new Color(t).toRgbString())||a.push(new Color(t).toRgbString()),s[n].style.fill="",s[n].style.stroke="",s[n].setAttribute("fill",d[a.indexOf(new Color(t).toRgbString())]||"#000000"))}}e=new Blob([e.outerHTML],{type:"image/svg+xml;charset=utf-8"}),e=URL.createObjectURL(e);p(e)},[u,d]),jsx("div",{css:{width:"100%",height:"100%"},children:u&&jsx("div",{css:{width:e.width,height:e.height,position:"relative",userSelect:"none"},children:jsx("img",{src:t,crossOrigin:"anonymous",css:{objectFit:"fill",width:"100%",height:"100%",position:"absolute",pointerEvents:"none"}})})})};function useEventCallback(e){const t=useRef(e);var n=useRef(e=>{t.current&&t.current(e)});return t.current=e,n.current}const SelectionBox=({selectedLayers:e},t)=>jsxs(Fragment$1,{children:[jsx("div",{ref:t,css:{border:"1px solid #3d8eff",background:"rgba(61, 142, 255, 0.2)",position:"absolute"}}),jsx("div",{css:{position:"absolute",inset:0,pointerEvents:"none",zIndex:2},children:Object.entries(e||{}).map(([e,{boxSize:t,position:n,rotate:r}])=>jsx("div",{css:{position:"absolute",border:"1px solid #3d8eff",transform:getTransformStyle({position:n,rotate:r}),width:t.width,height:t.height}},e))})]});var SelectionBox$1=forwardRef(SelectionBox);let getRandomValues;const rnds8=new Uint8Array(16);function rng(){if(getRandomValues=getRandomValues||"undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto))return getRandomValues(rnds8);throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")}const byteToHex=[];for(let e=0;e<256;++e)byteToHex.push((e+256).toString(16).slice(1));function unsafeStringify(e,t=0){return(byteToHex[e[t+0]]+byteToHex[e[t+1]]+byteToHex[e[t+2]]+byteToHex[e[t+3]]+"-"+byteToHex[e[t+4]]+byteToHex[e[t+5]]+"-"+byteToHex[e[t+6]]+byteToHex[e[t+7]]+"-"+byteToHex[e[t+8]]+byteToHex[e[t+9]]+"-"+byteToHex[e[t+10]]+byteToHex[e[t+11]]+byteToHex[e[t+12]]+byteToHex[e[t+13]]+byteToHex[e[t+14]]+byteToHex[e[t+15]]).toLowerCase()}const randomUUID="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var native={randomUUID:randomUUID};function v4(e,t,n){if(native.randomUUID&&!t&&!e)return native.randomUUID();var r=(e=e||{}).random||(e.rng||rng)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return unsafeStringify(r)}const ShapeLayer=({boxSize:e,shape:t,color:n,gradientBackground:r,roundedCorners:o=0,scale:i=1,rotate:a,position:s,border:l})=>jsx("div",{css:{transformOrigin:"0 0"},style:{width:e.width/(i||1),height:e.height/(i||1),transform:`scale(${i||1})`},children:jsx(ShapeContent,{shape:t,color:n,roundedCorners:o,gradientBackground:r,boxSize:e,rotate:a,scale:i,position:s,border:l})});function OrderedMap(e){this.content=e}function findDiffStart(t,n,r){for(let e=0;;e++){if(e==t.childCount||e==n.childCount)return t.childCount==n.childCount?null:r;var o=t.child(e),i=n.child(e);if(o==i);else{if(!o.sameMarkup(i))return r;if(o.isText&&o.text!=i.text){for(let e=0;o.text[e]==i.text[e];e++)r++;return r}if(o.content.size||i.content.size){var a=findDiffStart(o.content,i.content,r+1);if(null!=a)return a}}r+=o.nodeSize}}function findDiffEnd(n,r,o,i){for(let e=n.childCount,t=r.childCount;;){if(0==e||0==t)return e==t?null:{a:o,b:i};var a=n.child(--e),s=r.child(--t),l=a.nodeSize;if(a==s);else{if(!a.sameMarkup(s))return{a:o,b:i};if(a.isText&&a.text!=s.text){let e=0,t=Math.min(a.text.length,s.text.length);for(;e<t&&a.text[a.text.length-e-1]==s.text[s.text.length-e-1];)e++,o--,i--;return{a:o,b:i}}if(a.content.size||s.content.size){var c=findDiffEnd(a.content,s.content,o-1,i-1);if(c)return c}}o-=l,i-=l}}ShapeLayer.info={name:"Shape",type:"Shape"},OrderedMap.prototype={constructor:OrderedMap,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){e=this.find(e);return-1==e?void 0:this.content[e+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,o=r.find(e),r=r.content.slice();return-1==o?r.push(n||e,t):(r[o+1]=t,n&&(r[o]=n)),new OrderedMap(r)},remove:function(e){var t,e=this.find(e);return-1==e?this:((t=this.content.slice()).splice(e,2),new OrderedMap(t))},addToStart:function(e,t){return new OrderedMap([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new OrderedMap(n)},addBefore:function(e,t,n){var r=this.remove(t),o=r.content.slice(),r=r.find(e);return o.splice(-1==r?o.length:r,0,t,n),new OrderedMap(o)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=OrderedMap.from(e)).size?new OrderedMap(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=OrderedMap.from(e)).size?new OrderedMap(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=OrderedMap.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}},OrderedMap.from=function(e){if(e instanceof OrderedMap)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new OrderedMap(t)};class Fragment{constructor(t,e){if(this.content=t,this.size=e||0,null==e)for(let e=0;e<t.length;e++)this.size+=t[e].nodeSize}nodesBetween(n,r,o,i=0,a){for(let e=0,t=0;t<r;e++){var s,l=this.content[e],c=t+l.nodeSize;n<c&&!1!==o(l,i+t,a||null,e)&&l.content.size&&(s=t+1,l.nodesBetween(Math.max(0,n-s),Math.min(l.content.size,r-s),o,i+s)),t=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(n,r,o,i){let a="",s=!0;return this.nodesBetween(n,r,(e,t)=>{e.isText?(a+=e.text.slice(Math.max(n,t)-t,r-t),s=!o):e.isLeaf?(i?a+="function"==typeof i?i(e):i:e.type.spec.leafText&&(a+=e.type.spec.leafText(e)),s=!o):!s&&e.isBlock&&(a+=o,s=!0)},0),a}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,r=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(n)&&(r[r.length-1]=t.withText(t.text+n.text),o=1);o<e.content.length;o++)r.push(e.content[o]);return new Fragment(r,this.size+e.size)}cut(o,i=this.size){if(0==o&&i==this.size)return this;let a=[],s=0;if(o<i)for(let n=0,r=0;r<i;n++){let e=this.content[n],t=r+e.nodeSize;o<t&&((r<o||i<t)&&(e=e.isText?e.cut(Math.max(0,o-r),Math.min(e.text.length,i-r)):e.cut(Math.max(0,o-r-1),Math.min(e.content.size,i-r-1))),a.push(e),s+=e.nodeSize),r=t}return new Fragment(a,s)}cutByIndex(e,t){return e==t?Fragment.empty:0==e&&t==this.content.length?this:new Fragment(this.content.slice(e,t))}replaceChild(e,t){var n,r=this.content[e];return r==t?this:(n=this.content.slice(),r=this.size+t.nodeSize-r.nodeSize,n[e]=t,new Fragment(n,r))}addToStart(e){return new Fragment([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Fragment(this.content.concat(e),this.size+e.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){var t=this.content[e];if(t)return t;throw new RangeError("Index "+e+" out of range for "+this)}maybeChild(e){return this.content[e]||null}forEach(n){for(let e=0,t=0;e<this.content.length;e++){var r=this.content[e];n(r,t,e),t+=r.nodeSize}}findDiffStart(e,t=0){return findDiffStart(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return findDiffEnd(this,e,t,n)}findIndex(n,r=-1){if(0==n)return retIndex(0,n);if(n==this.size)return retIndex(this.content.length,n);if(n>this.size||n<0)throw new RangeError(`Position ${n} outside of fragment (${this})`);for(let e=0,t=0;;e++){var o=this.child(e),o=t+o.nodeSize;if(n<=o)return o==n||0<r?retIndex(e+1,o):retIndex(e,t);t=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return Fragment.empty;if(Array.isArray(t))return new Fragment(t.map(e.nodeFromJSON));throw new RangeError("Invalid input for Fragment.fromJSON")}static fromArray(t){if(!t.length)return Fragment.empty;let n,r=0;for(let e=0;e<t.length;e++){var o=t[e];r+=o.nodeSize,e&&o.isText&&t[e-1].sameMarkup(o)?(n=n||t.slice(0,e))[n.length-1]=o.withText(n[n.length-1].text+o.text):n&&n.push(o)}return new Fragment(n||t,r)}static from(e){if(!e)return Fragment.empty;if(e instanceof Fragment)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Fragment([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Fragment.empty=new Fragment([],0);const found={index:0,offset:0};function retIndex(e,t){return found.index=e,found.offset=t,found}function compareDeep(t,n){if(t!==n){if(!t||"object"!=typeof t||!n||"object"!=typeof n)return!1;var e=Array.isArray(t);if(Array.isArray(n)!=e)return!1;if(e){if(t.length!=n.length)return!1;for(let e=0;e<t.length;e++)if(!compareDeep(t[e],n[e]))return!1}else{for(var r in t)if(!(r in n&&compareDeep(t[r],n[r])))return!1;for(var o in n)if(!(o in t))return!1}}return!0}class Mark{constructor(e,t){this.type=e,this.attrs=t}addToSet(t){let n,r=!1;for(let e=0;e<t.length;e++){var o=t[e];if(this.eq(o))return t;if(this.type.excludes(o.type))n=n||t.slice(0,e);else{if(o.type.excludes(this.type))return t;!r&&o.type.rank>this.type.rank&&((n=n||t.slice(0,e)).push(this),r=!0),n&&n.push(o)}}return n=n||t.slice(),r||n.push(this),n}removeFromSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t}isInSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1}eq(e){return this==e||this.type==e.type&&compareDeep(this.attrs,e.attrs)}toJSON(){var e,t={type:this.type.name};for(e in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");e=e.marks[t.type];if(e)return e.create(t.attrs);throw new RangeError(`There is no mark type ${t.type} in this schema`)}static sameSet(t,n){if(t!=n){if(t.length!=n.length)return!1;for(let e=0;e<t.length;e++)if(!t[e].eq(n[e]))return!1}return!0}static setFrom(e){return!e||Array.isArray(e)&&0==e.length?Mark.none:e instanceof Mark?[e]:((e=e.slice()).sort((e,t)=>e.type.rank-t.type.rank),e)}}Mark.none=[];class ReplaceError extends Error{}class Slice{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){e=insertInto(this.content,e+this.openStart,t);return e&&new Slice(e,this.openStart,this.openEnd)}removeBetween(e,t){return new Slice(removeRange(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){var e;return this.content.size?(e={content:this.content.toJSON()},0<this.openStart&&(e.openStart=this.openStart),0<this.openEnd&&(e.openEnd=this.openEnd),e):null}static fromJSON(e,t){if(!t)return Slice.empty;var n=t.openStart||0,r=t.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new Slice(Fragment.fromJSON(e,t.content),n,r)}static maxOpen(t,n=!0){let r=0,o=0;for(let e=t.firstChild;e&&!e.isLeaf&&(n||!e.type.spec.isolating);e=e.firstChild)r++;for(let e=t.lastChild;e&&!e.isLeaf&&(n||!e.type.spec.isolating);e=e.lastChild)o++;return new Slice(t,r,o)}}function removeRange(e,t,n){var{index:r,offset:o}=e.findIndex(t),i=e.maybeChild(r),{index:a,offset:s}=e.findIndex(n);if(o==t||i.isText){if(s==n||e.child(a).isText)return e.cut(0,t).append(e.cut(n));throw new RangeError("Removing non-flat range")}if(r!=a)throw new RangeError("Removing non-flat range");return e.replaceChild(r,i.copy(removeRange(i.content,t-o-1,n-o-1)))}function insertInto(e,t,n,r){var{index:o,offset:i}=e.findIndex(t),a=e.maybeChild(o);return i==t||a.isText?r&&!r.canReplace(o,o,n)?null:e.cut(0,t).append(n).append(e.cut(t)):(r=insertInto(a.content,t-i-1,n))&&e.replaceChild(o,a.copy(r))}function replace(e,t,n){if(n.openStart>e.depth)throw new ReplaceError("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new ReplaceError("Inconsistent open depths");return replaceOuter(e,t,n,0)}function replaceOuter(e,t,n,r){var o,i=e.index(r),a=e.node(r);return i==t.index(r)&&r<e.depth-n.openStart?(o=replaceOuter(e,t,n,r+1),a.copy(a.content.replaceChild(i,o))):n.content.size?n.openStart||n.openEnd||e.depth!=r||t.depth!=r?({start:i,end:o}=prepareSliceForReplace(n,e),close(a,replaceThreeWay(e,i,o,t,r))):close(i=e.parent,(o=i.content).cut(0,e.parentOffset).append(n.content).append(o.cut(t.parentOffset))):close(a,replaceTwoWay(e,t,r))}function checkJoin(e,t){if(!t.type.compatibleContent(e.type))throw new ReplaceError("Cannot join "+t.type.name+" onto "+e.type.name)}function joinable$1(e,t,n){e=e.node(n);return checkJoin(e,t.node(n)),e}function addNode(e,t){var n=t.length-1;0<=n&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function addRange(e,t,n,r){var o=(t||e).node(n);let i=0,a=t?t.index(n):o.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(addNode(e.nodeAfter,r),i++));for(let e=i;e<a;e++)addNode(o.child(e),r);t&&t.depth==n&&t.textOffset&&addNode(t.nodeBefore,r)}function close(e,t){return e.type.checkContent(t),e.copy(t)}function replaceThreeWay(e,t,n,r,o){var i=e.depth>o&&joinable$1(e,t,o+1),a=r.depth>o&&joinable$1(n,r,o+1),s=[];return addRange(null,e,o,s),i&&a&&t.index(o)==n.index(o)?(checkJoin(i,a),addNode(close(i,replaceThreeWay(e,t,n,r,o+1)),s)):(i&&addNode(close(i,replaceTwoWay(e,t,o+1)),s),addRange(t,n,o,s),a&&addNode(close(a,replaceTwoWay(n,r,o+1)),s)),addRange(r,null,o,s),new Fragment(s)}function replaceTwoWay(e,t,n){var r=[];return addRange(null,e,n,r),e.depth>n&&addNode(close(joinable$1(e,t,n+1),replaceTwoWay(e,t,n+1)),r),addRange(t,null,n,r),new Fragment(r)}function prepareSliceForReplace(e,t){var n=t.depth-e.openStart;let r=t.node(n).copy(e.content);for(let e=n-1;0<=e;e--)r=t.node(e).copy(Fragment.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}Slice.empty=new Slice(Fragment.empty,0,0);class ResolvedPos{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return null==e?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[3*this.resolveDepth(e)]}index(e){return this.path[3*this.resolveDepth(e)+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)}start(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e))return e==this.depth+1?this.pos:this.path[3*e-1];throw new RangeError("There is no position before the top-level node")}after(e){if(e=this.resolveDepth(e))return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize;throw new RangeError("There is no position after the top-level node")}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){var e,t,n=this.parent,r=this.index(this.depth);return r==n.childCount?null:(e=this.pos-this.path[this.path.length-1],t=n.child(r),e?n.child(r).cut(e):t)}get nodeBefore(){var e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)}posAtIndex(t,e){e=this.resolveDepth(e);let n=this.path[3*e],r=0==e?0:this.path[3*e-1]+1;for(let e=0;e<t;e++)r+=n.child(e).nodeSize;return r}marks(){var e=this.parent,t=this.index();if(0==e.content.size)return Mark.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),r=e.maybeChild(t),o=(n||(e=n,n=r,r=e),n.marks);for(var i=0;i<o.length;i++)!1!==o[i].type.spec.inclusive||r&&o[i].isInSet(r.marks)||(o=o[i--].removeFromSet(o));return o}marksAcross(e){var t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,r=e.parent.maybeChild(e.index());for(var o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n}sharedDepth(t){for(let e=this.depth;0<e;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let e=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);0<=e;e--)if(t.pos<=this.end(e)&&(!n||n(this.node(e))))return new NodeRange(this,t,e);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let t="";for(let e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset}static resolve(t,e){if(!(0<=e&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");var n=[];let r=0,o=e;for(let e=t;;){var{index:i,offset:a}=e.content.findIndex(o),s=o-a;if(n.push(e,i,r+a),!s)break;if((e=e.child(i)).isText)break;o=s-1,r+=a+1}return new ResolvedPos(e,n,o)}static resolveCached(t,n){for(let e=0;e<resolveCache.length;e++){var r=resolveCache[e];if(r.pos==n&&r.doc==t)return r}var e=resolveCache[resolveCachePos]=ResolvedPos.resolve(t,n);return resolveCachePos=(resolveCachePos+1)%resolveCacheSize,e}}let resolveCache=[],resolveCachePos=0,resolveCacheSize=12;class NodeRange{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const emptyAttrs=Object.create(null);class Node{constructor(e,t,n,r=Mark.none){this.type=e,this.attrs=t,this.marks=r,this.content=n||Fragment.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,r=0){this.content.nodesBetween(e,t,n,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,r){return this.content.textBetween(e,t,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&compareDeep(this.attrs,t||e.defaultAttrs||emptyAttrs)&&Mark.sameSet(this.marks,n||Mark.none)}copy(e=null){return e==this.content?this:new Node(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Node(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){var r;return e==t?Slice.empty:(e=this.resolve(e),r=this.resolve(t),n=n?0:e.sharedDepth(t),t=e.start(n),t=e.node(n).content.cut(e.pos-t,r.pos-t),new Slice(t,e.depth-n,r.depth-n))}replace(e,t,n){return replace(this.resolve(e),this.resolve(t),n)}nodeAt(t){for(let e=this;;){var{index:n,offset:r}=e.content.findIndex(t);if(!(e=e.maybeChild(n)))return null;if(r==t||e.isText)return e;t-=r+1}}childAfter(e){var{index:e,offset:t}=this.content.findIndex(e);return{node:this.content.maybeChild(e),index:e,offset:t}}childBefore(e){var t,n;return 0==e?{node:null,index:0,offset:0}:({index:t,offset:n}=this.content.findIndex(e),n<e?{node:this.content.child(t),index:t,offset:n}:{node:e=this.content.child(t-1),index:t-1,offset:n-e.nodeSize})}resolve(e){return ResolvedPos.resolveCached(this,e)}resolveNoCache(e){return ResolvedPos.resolve(this,e)}rangeHasMark(e,t,n){let r=!1;return e<t&&this.nodesBetween(e,t,e=>!(r=n.isInSet(e.marks)?!0:r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),wrapMarks(this.marks,e)}contentMatchAt(e){e=this.type.contentMatch.matchFragment(this.content,0,e);if(e)return e;throw new Error("Called contentMatchAt on a node with invalid content")}canReplace(e,t,n=Fragment.empty,r=0,o=n.childCount){e=this.contentMatchAt(e).matchFragment(n,r,o),e=e&&e.matchFragment(this.content,t);if(!e||!e.validEnd)return!1;for(let e=r;e<o;e++)if(!this.type.allowsMarks(n.child(e).marks))return!1;return!0}canReplaceWith(e,t,n,r){return!(r&&!this.type.allowsMarks(r)||!(e=(r=this.contentMatchAt(e).matchType(n))&&r.matchFragment(this.content,t)))&&e.validEnd}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let t=Mark.none;for(let e=0;e<this.marks.length;e++)t=this.marks[e].addToSet(t);if(!Mark.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: `+this.marks.map(e=>e.type.name));this.content.forEach(e=>e.check())}toJSON(){var e,t={type:this.type.name};for(e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(e=>e.toJSON())),t}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}var r=Fragment.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,r,n)}}Node.prototype.text=void 0;class TextNode extends Node{constructor(e,t,n,r){if(super(e,t,null,r),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):wrapMarks(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new TextNode(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new TextNode(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return 0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){var e=super.toJSON();return e.text=this.text,e}}function wrapMarks(t,n){for(let e=t.length-1;0<=e;e--)n=t[e].type.name+"("+n+")";return n}class ContentMatch{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){e=new TokenStream(e,t);return null==e.next?ContentMatch.empty:(t=parseExpr(e),e.next&&e.err("Unexpected trailing text"),checkForDeadEnds(t=dfa(nfa(t)),e),t)}matchType(t){for(let e=0;e<this.next.length;e++)if(this.next[e].type==t)return this.next[e].next;return null}matchFragment(t,n=0,r=t.childCount){let o=this;for(let e=n;o&&e<r;e++)o=o.matchType(t.child(e).type);return o}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){var t=this.next[e]["type"];if(!t.isText&&!t.hasRequiredAttrs())return t}return null}compatible(n){for(let t=0;t<this.next.length;t++)for(let e=0;e<n.next.length;e++)if(this.next[t].type==n.next[e].type)return!0;return!1}fillBefore(a,s=!1,l=0){let c=[this];return function t(n,r){var e=n.matchFragment(a,l);if(e&&(!s||e.validEnd))return Fragment.from(r.map(e=>e.createAndFill()));for(let e=0;e<n.next.length;e++){var{type:o,next:i}=n.next[e];if(!o.isText&&!o.hasRequiredAttrs()&&-1==c.indexOf(i)&&(c.push(i),i=t(i,r.concat(o))))return i}return null}(this,[])}findWrapping(t){for(let e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1];var e=this.computeWrapping(t);return this.wrapCache.push(t,e),e}computeWrapping(e){for(var t=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var r=n.shift(),o=r.match;if(o.matchType(e)){var i=[];for(let e=r;e.type;e=e.via)i.push(e.type);return i.reverse()}for(let e=0;e<o.next.length;e++){var{type:a,next:s}=o.next[e];a.isLeaf||a.hasRequiredAttrs()||a.name in t||r.type&&!s.validEnd||(n.push({match:a.contentMatch,type:a,via:r}),t[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let r=[];return function t(n){r.push(n);for(let e=0;e<n.next.length;e++)-1==r.indexOf(n.next[e].next)&&t(n.next[e].next)}(this),r.map((t,e)=>{let n=e+(t.validEnd?"*":" ")+" ";for(let e=0;e<t.next.length;e++)n+=(e?", ":"")+t.next[e].type.name+"->"+r.indexOf(t.next[e].next);return n}).join("\n")}}ContentMatch.empty=new ContentMatch(!0);class TokenStream{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function parseExpr(e){for(var t=[];t.push(parseExprSeq(e)),e.eat("|"););return 1==t.length?t[0]:{type:"choice",exprs:t}}function parseExprSeq(e){for(var t=[];t.push(parseExprSubscript(e)),e.next&&")"!=e.next&&"|"!=e.next;);return 1==t.length?t[0]:{type:"seq",exprs:t}}function parseExprSubscript(e){let t=parseExprAtom(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=parseExprRange(e,t)}return t}function parseNum(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");var t=Number(e.next);return e.pos++,t}function parseExprRange(e,t){let n=parseNum(e),r=n;return e.eat(",")&&(r="}"!=e.next?parseNum(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function resolveName(e,t){var n=e.nodeTypes,r=n[t];if(r)return[r];var o,i=[];for(o in n){var a=n[o];-1<a.groups.indexOf(t)&&i.push(a)}return 0==i.length&&e.err("No node type or group '"+t+"' found"),i}function parseExprAtom(t){var e;return t.eat("(")?(e=parseExpr(t),t.eat(")")||t.err("Missing closing paren"),e):/\W/.test(t.next)?void t.err("Unexpected token '"+t.next+"'"):(e=resolveName(t,t.next).map(e=>(null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e})),t.pos++,1==e.length?e[0]:{type:"choice",exprs:e})}function nfa(e){let r=[[]];return s(function n(r,o){{if("choice"==r.type)return r.exprs.reduce((e,t)=>e.concat(n(t,o)),[]);if("seq"!=r.type){if("star"==r.type){let e=i();return a(o,e),s(n(r.expr,e),e),[a(e)]}if("plus"==r.type){let e=i();return s(n(r.expr,o),e),s(n(r.expr,e),e),[a(e)]}if("opt"==r.type)return[a(o)].concat(n(r.expr,o));if("range"==r.type){let t=o;for(let e=0;e<r.min;e++){let e=i();s(n(r.expr,t),e),t=e}if(-1==r.max)s(n(r.expr,t),t);else for(let e=r.min;e<r.max;e++){let e=i();a(t,e),s(n(r.expr,t),e),t=e}return[a(t)]}if("name"==r.type)return[a(o,void 0,r.value)];throw new Error("Unknown expr type")}for(let t=0;;t++){let e=n(r.exprs[t],o);if(t==r.exprs.length-1)return e;s(e,o=i())}}}(e,0),i()),r;function i(){return r.push([])-1}function a(e,t,n){n={term:n,to:t};return r[e].push(n),n}function s(e,t){e.forEach(e=>e.to=t)}}function cmp(e,t){return t-e}function nullFrom(t,e){let i=[];return function r(e){let o=t[e];if(1==o.length&&!o[0].term)return r(o[0].to);i.push(e);for(let n=0;n<o.length;n++){let{term:e,to:t}=o[n];e||-1!=i.indexOf(t)||r(t)}}(e),i.sort(cmp)}function dfa(i){let a=Object.create(null);return function n(e){let r=[];e.forEach(e=>{i[e].forEach(({term:n,to:e})=>{if(n){let t;for(let e=0;e<r.length;e++)r[e][0]==n&&(t=r[e][1]);nullFrom(i,e).forEach(e=>{t||r.push([n,t=[]]),-1==t.indexOf(e)&&t.push(e)})}})});let o=a[e.join(",")]=new ContentMatch(-1<e.indexOf(i.length-1));for(let t=0;t<r.length;t++){let e=r[t][1].sort(cmp);o.next.push({type:r[t][0],next:a[e.join(",")]||n(e)})}return o}(nullFrom(i,0))}function checkForDeadEnds(t,i){for(let e=0,o=[t];e<o.length;e++){let t=o[e],n=!t.validEnd,r=[];for(let e=0;e<t.next.length;e++){var{type:a,next:s}=t.next[e];r.push(a.name),!n||a.isText||a.hasRequiredAttrs()||(n=!1),-1==o.indexOf(s)&&o.push(s)}n&&i.err("Only non-generatable nodes ("+r.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function defaultAttrs(e){var t,n=Object.create(null);for(t in e){var r=e[t];if(!r.hasDefault)return null;n[t]=r.default}return n}function computeAttrs(t,n){var r,o=Object.create(null);for(r in t){let e=n&&n[r];if(void 0===e){var i=t[r];if(!i.hasDefault)throw new RangeError("No value supplied for attribute "+r);e=i.default}o[r]=e}return o}function initAttrs(e){var t=Object.create(null);if(e)for(var n in e)t[n]=new Attribute(e[n]);return t}class NodeType$1{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=initAttrs(n.attrs),this.defaultAttrs=defaultAttrs(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ContentMatch.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(var e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:computeAttrs(this.attrs,e)}create(e=null,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Node(this,this.computeAttrs(e),Fragment.from(t),Mark.setFrom(n))}createChecked(e=null,t,n){return t=Fragment.from(t),this.checkContent(t),new Node(this,this.computeAttrs(e),t,Mark.setFrom(n))}createAndFill(e=null,t,n){if(e=this.computeAttrs(e),(t=Fragment.from(t)).size){var r=this.contentMatch.fillBefore(t);if(!r)return null;t=r.append(t)}r=this.contentMatch.matchFragment(t),r=r&&r.fillBefore(Fragment.empty,!0);return r?new Node(this,e,t.append(r),Mark.setFrom(n)):null}validContent(t){var e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(let e=0;e<t.childCount;e++)if(!this.allowsMarks(t.child(e).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: `+e.toString().slice(0,50))}allowsMarkType(e){return null==this.markSet||-1<this.markSet.indexOf(e)}allowsMarks(t){if(null!=this.markSet)for(let e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0}allowedMarks(t){if(null==this.markSet)return t;let n;for(let e=0;e<t.length;e++)this.allowsMarkType(t[e].type)?n&&n.push(t[e]):n=n||t.slice(0,e);return n?n.length?n:Mark.none:t}static compile(e,n){let r=Object.create(null);e.forEach((e,t)=>r[e]=new NodeType$1(e,n,t));var t,e=n.spec.topNode||"doc";if(!r[e])throw new RangeError("Schema is missing its top node type ('"+e+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(t in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}}class Attribute{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class MarkType{constructor(e,t,n,r){this.name=e,this.rank=t,this.schema=n,this.spec=r,this.attrs=initAttrs(r.attrs),this.excluded=null;e=defaultAttrs(this.attrs);this.instance=e?new Mark(this,e):null}create(e=null){return!e&&this.instance?this.instance:new Mark(this,computeAttrs(this.attrs,e))}static compile(e,n){let r=Object.create(null),o=0;return e.forEach((e,t)=>r[e]=new MarkType(e,o++,n,t)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(t){for(let e=0;e<t.length;e++)if(t[e].type==this)return t[e]}excludes(e){return-1<this.excluded.indexOf(e)}}class Schema{constructor(e){this.cached=Object.create(null);var t,n=this.spec={};for(t in e)n[t]=e[t];n.nodes=OrderedMap.from(e.nodes),n.marks=OrderedMap.from(e.marks||{}),this.nodes=NodeType$1.compile(this.spec.nodes,this),this.marks=MarkType.compile(this.spec.marks,this);var r,o,i=Object.create(null);for(r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");var a=this.nodes[r],s=a.spec.content||"",l=a.spec.marks;a.contentMatch=i[s]||(i[s]=ContentMatch.parse(s,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.markSet="_"==l?null:l?gatherMarks(this,l.split(" ")):""!=l&&a.inlineContent?null:[]}for(o in this.marks){var c=this.marks[o],u=c.spec.excludes;c.excluded=null==u?[c]:""==u?[]:gatherMarks(this,u.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,r){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof NodeType$1))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,r)}text(e,t){var n=this.nodes.text;return new TextNode(n,n.defaultAttrs,e,Mark.setFrom(t))}mark(e,t){return(e="string"==typeof e?this.marks[e]:e).create(t)}nodeFromJSON(e){return Node.fromJSON(this,e)}markFromJSON(e){return Mark.fromJSON(this,e)}nodeType(e){var t=this.nodes[e];if(t)return t;throw new RangeError("Unknown node type: "+e)}}function gatherMarks(o,i){var a=[];for(let r=0;r<i.length;r++){let e=i[r],t=o.marks[e],n=t;if(t)a.push(t);else for(var s in o.marks){s=o.marks[s];("_"==e||s.spec.group&&-1<s.spec.group.split(" ").indexOf(e))&&a.push(n=s)}if(!n)throw new SyntaxError("Unknown mark type: '"+i[r]+"'")}return a}class DOMParser$1{constructor(t,e){this.schema=t,this.rules=e,this.tags=[],this.styles=[],e.forEach(e=>{e.tag?this.tags.push(e):e.style&&this.styles.push(e)}),this.normalizeLists=!this.tags.some(e=>{return!(!/^(ul|ol)\b/.test(e.tag)||!e.node)&&(e=t.nodes[e.node]).contentMatch.matchType(e)})}parse(e,t={}){var n=new ParseContext(this,t,!1);return n.addAll(e,t.from,t.to),n.finish()}parseSlice(e,t={}){var n=new ParseContext(this,t,!0);return n.addAll(e,t.from,t.to),Slice.maxOpen(n.finish())}matchTag(t,n,r){for(let e=r?this.tags.indexOf(r)+1:0;e<this.tags.length;e++){var o=this.tags[e];if(matches(t,o.tag)&&(void 0===o.namespace||t.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){var i=o.getAttrs(t);if(!1===i)continue;o.attrs=i||void 0}return o}}}matchStyle(t,n,r,o){for(let e=o?this.styles.indexOf(o)+1:0;e<this.styles.length;e++){var i=this.styles[e],a=i.style;if(!(0!=a.indexOf(t)||i.context&&!r.matchesContext(i.context)||a.length>t.length&&(61!=a.charCodeAt(t.length)||a.slice(t.length+1)!=n))){if(i.getAttrs){a=i.getAttrs(n);if(!1===a)continue;i.attrs=a||void 0}return i}}}static schemaRules(e){let o=[];function n(e){let t=null==e.priority?50:e.priority,n=0;for(;n<o.length;n++){var r=o[n];if((null==r.priority?50:r.priority)<t)break}o.splice(n,0,e)}for(let t in e.marks){var r=e.marks[t].spec.parseDOM;r&&r.forEach(e=>{n(e=copy$1(e)),e.mark||e.ignore||e.clearMark||(e.mark=t)})}for(let t in e.nodes){var i=e.nodes[t].spec.parseDOM;i&&i.forEach(e=>{n(e=copy$1(e)),e.node||e.ignore||e.mark||(e.node=t)})}return o}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new DOMParser$1(e,DOMParser$1.schemaRules(e)))}}const blockTags={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ignoreTags={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},listTags={ol:!0,ul:!0},OPT_PRESERVE_WS=1,OPT_PRESERVE_WS_FULL=2,OPT_OPEN_LEFT=4;function wsOptionsFor(e,t,n){return null!=t?(t?OPT_PRESERVE_WS:0)|("full"===t?OPT_PRESERVE_WS_FULL:0):e&&"pre"==e.whitespace?OPT_PRESERVE_WS|OPT_PRESERVE_WS_FULL:n&~OPT_OPEN_LEFT}class NodeContext{constructor(e,t,n,r,o,i,a){this.type=e,this.attrs=t,this.marks=n,this.pendingMarks=r,this.solid=o,this.options=a,this.content=[],this.activeMarks=Mark.none,this.stashMarks=[],this.match=i||(a&OPT_OPEN_LEFT?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];var t,n,r=this.type.contentMatch.fillBefore(Fragment.from(e));if(!r)return(n=(t=this.type.contentMatch).findWrapping(e.type))?(this.match=t,n):null;this.match=this.type.contentMatch.matchFragment(r)}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&OPT_PRESERVE_WS)){let e=this.content[this.content.length-1],t;var n;e&&e.isText&&(t=/[ \t\r\n\u000c]+$/.exec(e.text))&&((n=e).text.length==t[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-t[0].length)))}let t=Fragment.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(Fragment.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}popFromStashMark(t){for(let e=this.stashMarks.length-1;0<=e;e--)if(t.eq(this.stashMarks[e]))return this.stashMarks.splice(e,1)[0]}applyPending(n){for(let e=0,t=this.pendingMarks;e<t.length;e++){var r=t[e];(this.type?this.type.allowsMarkType(r.type):markMayApply(r.type,n))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!blockTags.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class ParseContext{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0;let r=t.topNode,o;var i=wsOptionsFor(null,t.preserveWhitespace,0)|(n?OPT_OPEN_LEFT:0);o=r?new NodeContext(r.type,r.attrs,Mark.none,Mark.none,!0,t.topMatch||r.type.contentMatch,i):n?new NodeContext(null,null,Mark.none,Mark.none,!0,null,i):new NodeContext(e.schema.topNodeType,null,Mark.none,Mark.none,!0,null,i),this.nodes=[o],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){3==e.nodeType?this.addTextNode(e):1==e.nodeType&&this.addElement(e)}withStyleRules(e,t){e=e.getAttribute("style");if(!e)return t();e=this.readStyles(parseStyles(e));if(e){var[n,r]=e,o=this.top;for(let e=0;e<r.length;e++)this.removePendingMark(r[e],o);for(let e=0;e<n.length;e++)this.addPendingMark(n[e]);t();for(let e=0;e<n.length;e++)this.removePendingMark(n[e],o);for(let e=0;e<r.length;e++)this.addPendingMark(r[e])}}addTextNode(e){let t=e.nodeValue;var n,r=this.top;r.options&OPT_PRESERVE_WS_FULL||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)?(r.options&OPT_PRESERVE_WS?t=r.options&OPT_PRESERVE_WS_FULL?t.replace(/\r\n?/g,"\n"):t.replace(/\r?\n|\r/g," "):(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1&&(r=r.content[r.content.length-1],n=e.previousSibling,!r||n&&"BR"==n.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(t=t.slice(1))),t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)):this.findInside(e)}addElement(r,e){let o=r.nodeName.toLowerCase(),t,i=(listTags.hasOwnProperty(o)&&this.parser.normalizeLists&&normalizeList(r),this.options.ruleFromNode&&this.options.ruleFromNode(r)||(t=this.parser.matchTag(r,this,e)));if(i?i.ignore:ignoreTags.hasOwnProperty(o))this.findInside(r),this.ignoreFallback(r);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(r=i.skip);let e,t=this.top,n=this.needsBlock;if(blockTags.hasOwnProperty(o))t.content.length&&t.content[0].isInline&&this.open&&(this.open--,t=this.top),e=!0,t.type||(this.needsBlock=!0);else if(!r.firstChild)return void this.leafFallback(r);i&&i.skip?this.addAll(r):this.withStyleRules(r,()=>this.addAll(r)),e&&this.sync(t),this.needsBlock=n}else this.withStyleRules(r,()=>{this.addElementByRule(r,i,!1===i.consuming?t:void 0)})}leafFallback(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))}ignoreFallback(e){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))}readStyles(r){let o=Mark.none,i=Mark.none;for(let n=0;n<r.length;n+=2)for(let e=void 0;;){let t=this.parser.matchStyle(r[n],r[n+1],this,e);if(!t)break;if(t.ignore)return null;if(t.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(e=>{t.clearMark(e)&&(i=e.addToSet(i))}):o=this.parser.schema.marks[t.mark].create(t.attrs).addToSet(o),!1!==t.consuming)break;e=t}return[o,i]}addElementByRule(t,n,e){let r,o,i;n.node?(o=this.parser.schema.nodes[n.node]).isLeaf?this.insertNode(o.create(n.attrs))||this.leafFallback(t):r=this.enter(o,n.attrs||null,n.preserveWhitespace):(a=this.parser.schema.marks[n.mark],i=a.create(n.attrs),this.addPendingMark(i));var a=this.top;if(o&&o.isLeaf)this.findInside(t);else if(e)this.addElement(t,e);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(e=>this.insertNode(e));else{let e=t;"string"==typeof n.contentElement?e=t.querySelector(n.contentElement):"function"==typeof n.contentElement?e=n.contentElement(t):n.contentElement&&(e=n.contentElement),this.findAround(t,e,!0),this.addAll(e)}r&&this.sync(a)&&this.open--,i&&this.removePendingMark(i,a)}addAll(n,r,o){let i=r||0;for(let e=r?n.childNodes[r]:n.firstChild,t=null==o?null:n.childNodes[o];e!=t;e=e.nextSibling,++i)this.findAtPoint(n,i),this.addDOM(e);this.findAtPoint(n,i)}findPlace(t){let n,r;for(let e=this.open;0<=e;e--){var o=this.nodes[e],i=o.findWrapping(t);if(i&&(!n||n.length>i.length)&&(n=i,r=o,!i.length))break;if(o.solid)break}if(!n)return!1;this.sync(r);for(let e=0;e<n.length;e++)this.enterInner(n[e],null,!1);return!0}insertNode(n){var e;if(n.isInline&&this.needsBlock&&!this.top.type&&(e=this.textblockFromContext())&&this.enterInner(e),this.findPlace(n)){this.closeExtra();var r=this.top;r.applyPending(n.type),r.match&&(r.match=r.match.matchType(n.type));let t=r.activeMarks;for(let e=0;e<n.marks.length;e++)r.type&&!r.type.allowsMarkType(n.marks[e].type)||(t=n.marks[e].addToSet(t));return r.content.push(n.mark(t)),!0}return!1}enter(e,t,n){var r=this.findPlace(e.create(t));return r&&this.enterInner(e,t,!0,n),r}enterInner(e,t=null,n=!1,r){this.closeExtra();var o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e);let i=wsOptionsFor(e,r,o.options);o.options&OPT_OPEN_LEFT&&0==o.content.length&&(i|=OPT_OPEN_LEFT),this.nodes.push(new NodeContext(e,t,o.activeMarks,o.pendingMarks,n,null,i)),this.open++}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let e=this.open;0<=e;e--)if(this.nodes[e]==t)return this.open=e,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let e=this.open;0<=e;e--){var n=this.nodes[e].content;for(let e=n.length-1;0<=e;e--)t+=n[e].nodeSize;e&&t++}return t}findAtPoint(t,n){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].node==t&&this.find[e].offset==n&&(this.find[e].pos=this.currentPos)}findInside(t){if(this.find)for(let e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&n.compareDocumentPosition(this.find[e].node)&(r?2:4)&&(this.find[e].pos=this.currentPos)}findInText(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))}matchesContext(e){if(-1<e.indexOf("|"))return e.split(/\s*\|\s*/).some(this.matchesContext,this);let o=e.split("/"),i=this.options.context,a=!(this.isOpen||i&&i.parent.type!=this.nodes[0].type),s=-(i?i.depth+1:0)+(a?0:1),l=(e,t)=>{for(;0<=e;e--){var n=o[e];if(""==n){if(e!=o.length-1&&0!=e){for(;t>=s;t--)if(l(e-1,t))return!0;return!1}}else{var r=0<t||0==t&&a?this.nodes[t].type:i&&t>=s?i.node(t-s).type:null;if(!r||r.name!=n&&-1==r.groups.indexOf(n))return!1;t--}}return!0};return l(o.length-1,this.open)}textblockFromContext(){var e,t=this.options.context;if(t)for(let e=t.depth;0<=e;e--){var n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(e in this.parser.schema.nodes){var r=this.parser.schema.nodes[e];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){var t=findSameMarkInSet(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(t,n){for(let e=this.open;0<=e;e--){var r,o=this.nodes[e];if(-1<o.pendingMarks.lastIndexOf(t)?o.pendingMarks=t.removeFromSet(o.pendingMarks):(o.activeMarks=t.removeFromSet(o.activeMarks),(r=o.popFromStashMark(t))&&o.type&&o.type.allowsMarkType(r.type)&&(o.activeMarks=r.addToSet(o.activeMarks))),o==n)break}}}function normalizeList(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){var r=1==e.nodeType?e.nodeName.toLowerCase():null;r&&listTags.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):"li"==r?t=e:r&&(t=null)}}function matches(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function parseStyles(e){for(var t,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];t=n.exec(e);)r.push(t[1],t[2].trim());return r}function copy$1(e){var t,n={};for(t in e)n[t]=e[t];return n}function markMayApply(e,a){var t,n=a.schema.nodes;for(t in n){var r=n[t];if(r.allowsMarkType(e)){let o=[],i=t=>{o.push(t);for(let e=0;e<t.edgeCount;e++){var{type:n,next:r}=t.edge(e);if(n==a)return!0;if(o.indexOf(r)<0&&i(r))return!0}};if(i(r.contentMatch))return!0}}}function findSameMarkInSet(t,n){for(let e=0;e<n.length;e++)if(t.eq(n[e]))return n[e]}class DOMSerializer{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,a={},t){let s=t=t||doc$1(a).createDocumentFragment(),l=[];return e.forEach(n=>{if(l.length||n.marks.length){let e=0,t=0;for(;e<l.length&&t<n.marks.length;){var r=n.marks[t];if(this.marks[r.type.name]){if(!r.eq(l[e][0])||!1===r.type.spec.spanning)break;e++}t++}for(;e<l.length;)s=l.pop()[1];for(;t<n.marks.length;){var o=n.marks[t++],i=this.serializeMark(o,n.isInline,a);i&&(l.push([o,s]),s.appendChild(i.dom),s=i.contentDOM||i.dom)}}s.appendChild(this.serializeNodeInner(n,a))}),t}serializeNodeInner(e,t){var{dom:n,contentDOM:r}=DOMSerializer.renderSpec(doc$1(t),this.nodes[e.type.name](e));if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,r)}return n}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let e=t.marks.length-1;0<=e;e--){var o=this.serializeMark(t.marks[e],t.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,t,n={}){var r=this.marks[e.type.name];return r&&DOMSerializer.renderSpec(doc$1(n),r(e,t))}static renderSpec(t,n,r=null){if("string"==typeof n)return{dom:t.createTextNode(n)};if(null!=n.nodeType)return{dom:n};if(n.dom&&null!=n.dom.nodeType)return n;let e=n[0],o=e.indexOf(" ");0<o&&(r=e.slice(0,o),e=e.slice(o+1));let i;var a,s=r?t.createElementNS(r,e):t.createElement(e);let l=n[1],c=1;if(l&&"object"==typeof l&&null==l.nodeType&&!Array.isArray(l))for(var u in c=2,l)null!=l[u]&&(0<(a=u.indexOf(" "))?s.setAttributeNS(u.slice(0,a),u.slice(a+1),l[u]):s.setAttribute(u,l[u]));for(let e=c;e<n.length;e++){var d=n[e];if(0===d){if(e<n.length-1||e>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}var{dom:d,contentDOM:p}=DOMSerializer.renderSpec(t,d,r);if(s.appendChild(d),p){if(i)throw new RangeError("Multiple content holes");i=p}}return{dom:s,contentDOM:i}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new DOMSerializer(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){e=gatherToDOM(e.nodes);return e.text||(e.text=e=>e.text),e}static marksFromSchema(e){return gatherToDOM(e.marks)}}function gatherToDOM(e){var t,n={};for(t in e){var r=e[t].spec.toDOM;r&&(n[t]=r)}return n}function doc$1(e){return e.document||window.document}const lower16=65535,factor16=Math.pow(2,16);function makeRecover(e,t){return e+t*factor16}function recoverIndex(e){return e&lower16}function recoverOffset(e){return(e-(e&lower16))/factor16}const DEL_BEFORE=1,DEL_AFTER=2,DEL_ACROSS=4,DEL_SIDE=8;class MapResult{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return 0<(this.delInfo&DEL_SIDE)}get deletedBefore(){return 0<(this.delInfo&(DEL_BEFORE|DEL_ACROSS))}get deletedAfter(){return 0<(this.delInfo&(DEL_AFTER|DEL_ACROSS))}get deletedAcross(){return 0<(this.delInfo&DEL_ACROSS)}}class StepMap{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&StepMap.empty)return StepMap.empty}recover(e){let t=0,n=recoverIndex(e);if(!this.inverted)for(let e=0;e<n;e++)t+=this.ranges[3*e+2]-this.ranges[3*e+1];return this.ranges[3*n]+t+recoverOffset(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(n,r,o){let i=0,e=this.inverted?2:1,a=this.inverted?1:2;for(let t=0;t<this.ranges.length;t+=3){var s=this.ranges[t]-(this.inverted?i:0);if(n<s)break;var l=this.ranges[t+e],c=this.ranges[t+a],u=s+l;if(n<=u){var d=s+i+((l?n==s?-1:n==u?1:r:r)<0?0:c);if(o)return d;var p=n==(r<0?s:u)?null:makeRecover(t/3,n-s);let e=n==s?DEL_AFTER:n==u?DEL_BEFORE:DEL_ACROSS;return(r<0?n!=s:n!=u)&&(e|=DEL_SIDE),new MapResult(d,e,p)}i+=c-l}return o?n+i:new MapResult(n+i,0,null)}touches(t,e){let n=0,r=recoverIndex(e);var o=this.inverted?2:1,i=this.inverted?1:2;for(let e=0;e<this.ranges.length;e+=3){var a=this.ranges[e]-(this.inverted?n:0);if(t<a)break;var s=this.ranges[e+o];if(t<=a+s&&e==3*r)return!0;n+=this.ranges[e+i]-s}return!1}forEach(n){var r=this.inverted?2:1,o=this.inverted?1:2;for(let e=0,t=0;e<this.ranges.length;e+=3){var i=this.ranges[e],a=i-(this.inverted?t:0),i=i+(this.inverted?0:t),s=this.ranges[e+r],l=this.ranges[e+o];n(a,a+s,i,i+l),t+=l-s}}invert(){return new StepMap(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return 0==e?StepMap.empty:new StepMap(e<0?[0,-e,0]:[0,0,e])}}StepMap.empty=new StepMap([]);class Mapping{constructor(e=[],t,n=0,r=e.length){this.maps=e,this.mirror=t,this.from=n,this.to=r}slice(e=0,t=this.maps.length){return new Mapping(this.maps,this.mirror,e,t)}copy(){return new Mapping(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)}appendMapping(n){for(let e=0,t=this.maps.length;e<n.maps.length;e++){var r=n.getMirror(e);this.appendMap(n.maps[e],null!=r&&r<e?t+r:void 0)}}getMirror(t){if(this.mirror)for(let e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(n){for(let e=n.maps.length-1,t=this.maps.length+n.maps.length;0<=e;e--){var r=n.getMirror(e);this.appendMap(n.maps[e].invert(),null!=r&&r>e?t-r-1:void 0)}}invert(){var e=new Mapping;return e.appendMappingInverted(this),e}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let e=this.from;e<this.to;e++)t=this.maps[e].map(t,n);return t}mapResult(e,t=1){return this._map(e,t,!1)}_map(t,n,e){let r=0;for(let e=this.from;e<this.to;e++){var o=this.maps[e].mapResult(t,n);if(null!=o.recover){var i=this.getMirror(e);if(null!=i&&i>e&&i<this.to){e=i,t=this.maps[i].recover(o.recover);continue}}r|=o.delInfo,t=o.pos}return e?t:new MapResult(t,r,null)}}const stepsByID=Object.create(null);class Step{getMap(){return StepMap.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=stepsByID[t.stepType];if(n)return n.fromJSON(e,t);throw new RangeError(`No step type ${t.stepType} defined`)}static jsonID(e,t){if(e in stepsByID)throw new RangeError("Duplicate use of step JSON ID "+e);return(stepsByID[e]=t).prototype.jsonID=e,t}}class StepResult{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new StepResult(e,null)}static fail(e){return new StepResult(null,e)}static fromReplace(e,t,n,r){try{return StepResult.ok(e.replace(t,n,r))}catch(e){if(e instanceof ReplaceError)return StepResult.fail(e.message);throw e}}}function mapFragment(n,r,o){var i=[];for(let t=0;t<n.childCount;t++){let e=n.child(t);(e=e.content.size?e.copy(mapFragment(e.content,r,e)):e).isInline&&(e=r(e,o,t)),i.push(e)}return Fragment.fromArray(i)}class AddMarkStep extends Step{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){var t=e.slice(this.from,this.to),n=e.resolve(this.from),n=n.node(n.sharedDepth(this.to)),n=new Slice(mapFragment(t.content,(e,t)=>e.isAtom&&t.type.allowsMarkType(this.mark.type)?e.mark(this.mark.addToSet(e.marks)):e,n),t.openStart,t.openEnd);return StepResult.fromReplace(e,this.from,this.to,n)}invert(){return new RemoveMarkStep(this.from,this.to,this.mark)}map(e){var t=e.mapResult(this.from,1),e=e.mapResult(this.to,-1);return t.deleted&&e.deleted||t.pos>=e.pos?null:new AddMarkStep(t.pos,e.pos,this.mark)}merge(e){return e instanceof AddMarkStep&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new AddMarkStep(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new AddMarkStep(t.from,t.to,e.markFromJSON(t.mark))}}Step.jsonID("addMark",AddMarkStep);class RemoveMarkStep extends Step{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){var t=e.slice(this.from,this.to),t=new Slice(mapFragment(t.content,e=>e.mark(this.mark.removeFromSet(e.marks)),e),t.openStart,t.openEnd);return StepResult.fromReplace(e,this.from,this.to,t)}invert(){return new AddMarkStep(this.from,this.to,this.mark)}map(e){var t=e.mapResult(this.from,1),e=e.mapResult(this.to,-1);return t.deleted&&e.deleted||t.pos>=e.pos?null:new RemoveMarkStep(t.pos,e.pos,this.mark)}merge(e){return e instanceof RemoveMarkStep&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new RemoveMarkStep(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new RemoveMarkStep(t.from,t.to,e.markFromJSON(t.mark))}}Step.jsonID("removeMark",RemoveMarkStep);class AddNodeMarkStep extends Step{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){var t,n=e.nodeAt(this.pos);return n?(t=n.type.create(n.attrs,null,this.mark.addToSet(n.marks)),StepResult.fromReplace(e,this.pos,this.pos+1,new Slice(Fragment.from(t),0,n.isLeaf?0:1))):StepResult.fail("No node at mark step's position")}invert(e){var t=e.nodeAt(this.pos);if(t){var n=this.mark.addToSet(t.marks);if(n.length==t.marks.length){for(let e=0;e<t.marks.length;e++)if(!t.marks[e].isInSet(n))return new AddNodeMarkStep(this.pos,t.marks[e]);return new AddNodeMarkStep(this.pos,this.mark)}}return new RemoveNodeMarkStep(this.pos,this.mark)}map(e){e=e.mapResult(this.pos,1);return e.deletedAfter?null:new AddNodeMarkStep(e.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new AddNodeMarkStep(t.pos,e.markFromJSON(t.mark))}}Step.jsonID("addNodeMark",AddNodeMarkStep);class RemoveNodeMarkStep extends Step{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){var t,n=e.nodeAt(this.pos);return n?(t=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks)),StepResult.fromReplace(e,this.pos,this.pos+1,new Slice(Fragment.from(t),0,n.isLeaf?0:1))):StepResult.fail("No node at mark step's position")}invert(e){e=e.nodeAt(this.pos);return e&&this.mark.isInSet(e.marks)?new AddNodeMarkStep(this.pos,this.mark):this}map(e){e=e.mapResult(this.pos,1);return e.deletedAfter?null:new RemoveNodeMarkStep(e.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new RemoveNodeMarkStep(t.pos,e.markFromJSON(t.mark))}}Step.jsonID("removeNodeMark",RemoveNodeMarkStep);class ReplaceStep extends Step{constructor(e,t,n,r=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=r}apply(e){return this.structure&&contentBetween(e,this.from,this.to)?StepResult.fail("Structure replace would overwrite content"):StepResult.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new StepMap([this.from,this.to-this.from,this.slice.size])}invert(e){return new ReplaceStep(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){var t=e.mapResult(this.from,1),e=e.mapResult(this.to,-1);return t.deletedAcross&&e.deletedAcross?null:new ReplaceStep(t.pos,Math.max(t.pos,e.pos),this.slice)}merge(e){var t;return e instanceof ReplaceStep&&!e.structure&&!this.structure?this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart?e.to!=this.from||this.slice.openStart||e.slice.openEnd?null:(t=this.slice.size+e.slice.size==0?Slice.empty:new Slice(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd),new ReplaceStep(e.from,this.to,t,this.structure)):(t=this.slice.size+e.slice.size==0?Slice.empty:new Slice(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd),new ReplaceStep(this.from,this.to+(e.to-e.from),t,this.structure)):null}toJSON(){var e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ReplaceStep(t.from,t.to,Slice.fromJSON(e,t.slice),!!t.structure)}}Step.jsonID("replace",ReplaceStep);class ReplaceAroundStep extends Step{constructor(e,t,n,r,o,i,a=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=r,this.slice=o,this.insert=i,this.structure=a}apply(e){var t;return this.structure&&(contentBetween(e,this.from,this.gapFrom)||contentBetween(e,this.gapTo,this.to))?StepResult.fail("Structure gap-replace would overwrite content"):(t=e.slice(this.gapFrom,this.gapTo)).openStart||t.openEnd?StepResult.fail("Gap is not a flat range"):(t=this.slice.insertAt(this.insert,t.content))?StepResult.fromReplace(e,this.from,this.to,t):StepResult.fail("Content does not fit in gap")}getMap(){return new StepMap([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){var t=this.gapTo-this.gapFrom;return new ReplaceAroundStep(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){var t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),r=e.map(this.gapFrom,-1),e=e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||r<t.pos||e>n.pos?null:new ReplaceAroundStep(t.pos,n.pos,r,e,this.slice,this.insert,this.structure)}toJSON(){var e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to||"number"!=typeof t.gapFrom||"number"!=typeof t.gapTo||"number"!=typeof t.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ReplaceAroundStep(t.from,t.to,t.gapFrom,t.gapTo,Slice.fromJSON(e,t.slice),t.insert,!!t.structure)}}function contentBetween(e,t,n){let r=e.resolve(t),o=n-t,i=r.depth;for(;0<o&&0<i&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(0<o){let e=r.node(i).maybeChild(r.indexAfter(i));for(;0<o;){if(!e||e.isLeaf)return!0;e=e.firstChild,o--}}return!1}function addMark(t,s,l,c){let u=[],d=[],p,f;t.doc.nodesBetween(s,l,(e,t,n)=>{if(e.isInline){var r=e.marks;if(!c.isInSet(r)&&n.type.allowsMarkType(c.type)){var o=Math.max(t,s),i=Math.min(t+e.nodeSize,l),a=c.addToSet(r);for(let e=0;e<r.length;e++)r[e].isInSet(a)||(p&&p.to==o&&p.mark.eq(r[e])?p.to=i:u.push(p=new RemoveMarkStep(o,i,r[e])));f&&f.to==o?f.to=i:d.push(f=new AddMarkStep(o,i,c))}}}),u.forEach(e=>t.step(e)),d.forEach(e=>t.step(e))}function removeMark(t,s,e,l){let c=[],u=0;t.doc.nodesBetween(s,e,(n,o)=>{if(n.isInline){u++;let r=null;if(l instanceof MarkType){let e=n.marks,t;for(;t=l.isInSet(e);)(r=r||[]).push(t),e=t.removeFromSet(e)}else l?l.isInSet(n.marks)&&(r=[l]):r=n.marks;if(r&&r.length){var i=Math.min(o+n.nodeSize,e);for(let e=0;e<r.length;e++){let t=r[e],n;for(let e=0;e<c.length;e++){var a=c[e];a.step==u-1&&t.eq(c[e].style)&&(n=a)}n?(n.to=i,n.step=u):c.push({style:t,from:Math.max(o,s),to:i,step:u})}}}}),c.forEach(e=>t.step(new RemoveMarkStep(e.from,e.to,e.style)))}function clearIncompatible(t,e,r,n=r.contentMatch){var o=t.doc.nodeAt(e);let i=[],a=e+1;for(let e=0;e<o.childCount;e++){var s=o.child(e),l=a+s.nodeSize,c=n.matchType(s.type);if(c){n=c;for(let e=0;e<s.marks.length;e++)r.allowsMarkType(s.marks[e].type)||t.step(new RemoveMarkStep(a,l,s.marks[e]));if(s.isText&&!r.spec.code){let e,t=/\r?\n|\r/g,n;for(;e=t.exec(s.text);)n=n||new Slice(Fragment.from(r.schema.text(" ",r.allowedMarks(s.marks))),0,0),i.push(new ReplaceStep(a+e.index,a+e.index+e[0].length,n))}}else i.push(new ReplaceStep(a,l,Slice.empty));a=l}n.validEnd||(e=n.fillBefore(Fragment.empty,!0),t.replace(a,a,new Slice(e,0,0)));for(let e=i.length-1;0<=e;e--)t.step(i[e])}function canCut(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function liftTarget(t){var n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let e=t.depth;;--e){var r=t.$from.node(e),o=t.$from.index(e),i=t.$to.indexAfter(e);if(e<t.depth&&r.canReplace(o,i,n))return e;if(0==e||r.type.spec.isolating||!canCut(r,o,i))break}return null}function lift$1(e,n,r){var{$from:o,$to:i,depth:n}=n,t=o.before(n+1),a=i.after(n+1);let s=t,l=a,c=Fragment.empty,u=0;for(let e=n,t=!1;e>r;e--)t||0<o.index(e)?(t=!0,c=Fragment.from(o.node(e).copy(c)),u++):s--;let d=Fragment.empty,p=0;for(let e=n,t=!1;e>r;e--)t||i.after(e+1)<i.end(e)?(t=!0,d=Fragment.from(i.node(e).copy(d)),p++):l++;e.step(new ReplaceAroundStep(s,l,t,a,new Slice(c.append(d),u,p),c.size-u,!0))}function findWrapping(e,t,n=null,r=e){var o=findWrappingOutside(e,t),r=o&&findWrappingInside(r,t);return r?o.map(withAttrs).concat({type:t,attrs:n}).concat(r.map(withAttrs)):null}function withAttrs(e){return{type:e,attrs:null}}function findWrappingOutside(e,t){var{parent:e,startIndex:n,endIndex:r}=e,o=e.contentMatchAt(n).findWrapping(t);return o&&(t=o.length?o[0]:t,e.canReplaceWith(n,r,t))?o:null}function findWrappingInside(t,e){var{parent:n,startIndex:t,endIndex:r}=t,o=n.child(t),o=e.contentMatch.findWrapping(o.type);if(!o)return null;let i=(o.length?o[o.length-1]:e).contentMatch;for(let e=t;i&&e<r;e++)i=i.matchType(n.child(e).type);return i&&i.validEnd?o:null}function wrap(e,t,n){let r=Fragment.empty;for(let e=n.length-1;0<=e;e--){if(r.size){var o=n[e].type.contentMatch.matchFragment(r);if(!o||!o.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Fragment.from(n[e].type.create(n[e].attrs,r))}var i=t.start,t=t.end;e.step(new ReplaceAroundStep(i,t,i,t,new Slice(r,0,0),n.length,!0))}function setBlockType$1(o,e,t,i,a){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=o.steps.length;o.doc.nodesBetween(e,t,(e,t)=>{var n,r;if(e.isTextblock&&!e.hasMarkup(i,a)&&canChangeType(o.doc,o.mapping.slice(s).map(t),i))return o.clearIncompatible(o.mapping.slice(s).map(t,1),i),n=(r=o.mapping.slice(s)).map(t,1),r=r.map(t+e.nodeSize,1),o.step(new ReplaceAroundStep(n,r,n+1,r-1,new Slice(Fragment.from(i.create(a,null,e.marks)),0,0),1,!0)),!1})}function canChangeType(e,t,n){e=e.resolve(t),t=e.index();return e.parent.canReplaceWith(t,t+1,n)}function setNodeMarkup(e,t,n,r,o){var i=e.doc.nodeAt(t);if(!i)throw new RangeError("No node at given position");r=(n=n||i.type).create(r,null,o||i.marks);if(i.isLeaf)return e.replaceWith(t,t+i.nodeSize,r);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new ReplaceAroundStep(t,t+i.nodeSize,t+1,t+i.nodeSize-1,new Slice(Fragment.from(r),0,0),1,!0))}function canSplit(e,t,r=1,o){var i=e.resolve(t),a=i.depth-r,e=o&&o[o.length-1]||i.parent;if(a<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!e.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let t=i.depth-1,n=r-2;t>a;t--,n--){var s=i.node(t),l=i.index(t);if(s.type.spec.isolating)return!1;let e=s.content.cutByIndex(l,s.childCount);var c=o&&o[n+1],c=(c&&(e=e.replaceChild(0,c.type.create(c.attrs))),o&&o[n]||s);if(!s.canReplace(l+1,s.childCount)||!c.type.validContent(e))return!1}t=i.indexAfter(a),e=o&&o[0];return i.node(a).canReplaceWith(t,t,(e||i.node(1+a)).type)}function split(e,t,r=1,o){let i=e.doc.resolve(t),a=Fragment.empty,s=Fragment.empty;for(let e=i.depth,t=i.depth-r,n=r-1;e>t;e--,n--){a=Fragment.from(i.node(e).copy(a));var l=o&&o[n];s=Fragment.from(l?l.type.create(l.attrs,s):i.node(e).copy(s))}e.step(new ReplaceStep(t,t,new Slice(a.append(s),r,r),!0))}function canJoin(e,t){e=e.resolve(t),t=e.index();return joinable(e.nodeBefore,e.nodeAfter)&&e.parent.canReplace(t,t+1)}function joinable(e,t){return!(!e||!t||e.isLeaf||!e.canAppend(t))}function joinPoint(e,o,i=-1){var a=e.resolve(o);for(let r=a.depth;;r--){let e,t,n=a.index(r);if(t=r==a.depth?(e=a.nodeBefore,a.nodeAfter):0<i?(e=a.node(r+1),n++,a.node(r).maybeChild(n)):(e=a.node(r).maybeChild(n-1),a.node(r+1)),e&&!e.isTextblock&&joinable(e,t)&&a.node(r).canReplace(n,n+1))return o;if(0==r)break;o=i<0?a.before(r):a.after(r)}}function join(e,t,n){t=new ReplaceStep(t-n,t+n,Slice.empty,!0);e.step(t)}function insertPoint(e,t,n){var r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(let e=r.depth-1;0<=e;e--){var o=r.index(e);if(r.node(e).canReplaceWith(o,o,n))return r.before(e+1);if(0<o)return null}if(r.parentOffset==r.parent.content.size)for(let e=r.depth-1;0<=e;e--){var i=r.indexAfter(e);if(r.node(e).canReplaceWith(i,i,n))return r.after(e+1);if(i<r.node(e).childCount)return null}return null}function dropPoint(e,t,n){var o=e.resolve(t);if(!n.content.size)return t;let i=n.content;for(let e=0;e<n.openStart;e++)i=i.firstChild.content;for(let r=1;r<=(0==n.openStart&&n.size?2:1);r++)for(let n=o.depth;0<=n;n--){var a,s=n==o.depth?0:o.pos<=(o.start(n+1)+o.end(n+1))/2?-1:1,l=o.index(n)+(0<s?1:0);let e=o.node(n),t=!1;if(t=1==r?e.canReplace(l,l,i):(a=e.contentMatchAt(l).findWrapping(i.firstChild.type))&&e.canReplaceWith(l,l,a[0]))return 0==s?o.pos:s<0?o.before(n+1):o.after(n+1)}return null}function replaceStep(e,t,n=t,r=Slice.empty){var o;return t!=n||r.size?fitsTrivially(o=e.resolve(t),e=e.resolve(n),r)?new ReplaceStep(t,n,r):new Fitter(o,e,r).fit():null}function fitsTrivially(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}Step.jsonID("replaceAround",ReplaceAroundStep);class Fitter{constructor(t,e,n){this.$from=t,this.$to=e,this.unplaced=n,this.frontier=[],this.placed=Fragment.empty;for(let e=0;e<=t.depth;e++){var r=t.node(e);this.frontier.push({type:r.type,match:r.contentMatchAt(t.indexAfter(e))})}for(let e=t.depth;0<e;e--)this.placed=Fragment.from(t.node(e).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){var e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}var t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(t<0?this.$to:r.doc.resolve(t));if(!o)return null;let i=this.placed,a=r.depth,s=o.depth;for(;a&&s&&1==i.childCount;)i=i.firstChild.content,a--,s--;var l=new Slice(i,a,s);return-1<t?new ReplaceAroundStep(r.pos,t,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new ReplaceStep(r.pos,o.pos,l):null}findFittable(){let r=this.unplaced.openStart;for(let e=this.unplaced.content,t=0,n=this.unplaced.openEnd;t<r;t++){var o=e.firstChild;if(1<e.childCount&&(n=0),o.type.spec.isolating&&n<=t){r=t;break}e=o.content}for(let s=1;s<=2;s++)for(let a=1==s?r:this.unplaced.openStart;0<=a;a--){let e,i=null;var l=(e=(a?i=contentAt(this.unplaced.content,a-1).firstChild:this.unplaced).content).firstChild;for(let o=this.depth;0<=o;o--){let{type:e,match:t}=this.frontier[o],n,r=null;if(1==s&&(l?t.matchType(l.type)||(r=t.fillBefore(Fragment.from(l),!1)):i&&e.compatibleContent(i.type)))return{sliceDepth:a,frontierDepth:o,parent:i,inject:r};if(2==s&&l&&(n=t.findWrapping(l.type)))return{sliceDepth:a,frontierDepth:o,parent:i,wrap:n};if(i&&t.matchType(i.type))break}}}openMore(){var{content:e,openStart:t,openEnd:n}=this.unplaced,r=contentAt(e,t);return!(!r.childCount||r.firstChild.isLeaf||(this.unplaced=new Slice(e,t+1,Math.max(n,r.size+t>=e.size-n?t+1:0)),0))}dropNode(){var{content:e,openStart:t,openEnd:n}=this.unplaced,r=contentAt(e,t);r.childCount<=1&&0<t?(r=e.size-t<=t+r.size,this.unplaced=new Slice(dropFromFragment(e,t-1,1),t-1,r?t-1:n)):this.unplaced=new Slice(dropFromFragment(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:r,wrap:o}){for(;this.depth>t;)this.closeFrontierNode();if(o)for(let e=0;e<o.length;e++)this.openFrontierNode(o[e]);var i=this.unplaced,a=(n||i).content,s=i.openStart-e;let l=0,c=[],{match:u,type:d}=this.frontier[t];if(r){for(let e=0;e<r.childCount;e++)c.push(r.child(e));u=u.matchFragment(r)}let p=a.size+e-(i.content.size-i.openEnd);for(;l<a.childCount;){var f=a.child(l),h=u.matchType(f.type);if(!h)break;(1<++l||0==s||f.content.size)&&(u=h,c.push(closeNodeStart(f.mark(d.allowedMarks(f.marks)),1==l?s:0,l==a.childCount?p:-1)))}var m=l==a.childCount;m||(p=-1),this.placed=addToFragment(this.placed,t,Fragment.from(c)),this.frontier[t].match=u,m&&p<0&&n&&n.type==this.frontier[this.depth].type&&1<this.frontier.length&&this.closeFrontierNode();for(let e=0,t=a;e<p;e++){var g=t.lastChild;this.frontier.push({type:g.type,match:g.contentMatchAt(g.childCount)}),t=g.content}this.unplaced=m?0==e?Slice.empty:new Slice(dropFromFragment(i.content,e-1,1),e-1,p<0?i.openEnd:e-1):new Slice(dropFromFragment(i.content,e,l),i.openStart,i.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!contentAfterFits(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let n=this.$to["depth"],r=this.$to.after(n);for(;1<n&&r==this.$to.end(--n);)++r;return r}findCloseLevel(n){e:for(let t=Math.min(this.depth,n.depth);0<=t;t--){var{match:e,type:r}=this.frontier[t],o=t<n.depth&&n.end(t+1)==n.pos+(n.depth-(t+1)),r=contentAfterFits(n,t,r,e,o);if(r){for(let e=t-1;0<=e;e--){var{match:i,type:a}=this.frontier[e],a=contentAfterFits(n,e,a,i,!0);if(!a||a.childCount)continue e}return{depth:t,fit:r,move:o?n.doc.resolve(n.after(t+1)):n}}}}close(t){var n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=addToFragment(this.placed,n.depth,n.fit)),t=n.move;for(let e=n.depth+1;e<=t.depth;e++){var r=t.node(e),o=r.type.contentMatch.fillBefore(r.content,!0,t.index(e));this.openFrontierNode(r.type,r.attrs,o)}return t}openFrontierNode(e,t=null,n){var r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=addToFragment(this.placed,this.depth,Fragment.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){var e=this.frontier.pop().match.fillBefore(Fragment.empty,!0);e.childCount&&(this.placed=addToFragment(this.placed,this.frontier.length,e))}}function dropFromFragment(e,t,n){return 0==t?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(dropFromFragment(e.firstChild.content,t-1,n)))}function addToFragment(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(addToFragment(e.lastChild.content,t-1,n)))}function contentAt(t,n){for(let e=0;e<n;e++)t=t.firstChild.content;return t}function closeNodeStart(e,t,n){if(t<=0)return e;let r=e.content;return 1<t&&(r=r.replaceChild(0,closeNodeStart(r.firstChild,t-1,1==r.childCount?n-1:0))),0<t&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0)&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(Fragment.empty,!0))),e.copy(r)}function contentAfterFits(e,t,n,r,o){var i=e.node(t),o=o?e.indexAfter(t):e.index(t);return(o!=i.childCount||n.compatibleContent(i.type))&&(e=r.fillBefore(i.content,!0,o))&&!invalidMarks(n,i.content,o)?e:null}function invalidMarks(t,n,r){for(let e=r;e<n.childCount;e++)if(!t.allowsMarks(n.child(e).marks))return!0;return!1}function definesContent(e){return e.spec.defining||e.spec.definingForContent}function replaceRange(r,t,o,i){if(!i.size)return r.deleteRange(t,o);var a=r.doc.resolve(t),s=r.doc.resolve(o);if(fitsTrivially(a,s,i))return r.step(new ReplaceStep(t,o,i));var l=coveredDepths(a,r.doc.resolve(o));0==l[l.length-1]&&l.pop();let n=-(a.depth+1);l.unshift(n);for(let e=a.depth,t=a.pos-1;0<e;e--,t--){var c=a.node(e).type.spec;if(c.defining||c.definingAsContext||c.isolating)break;-1<l.indexOf(e)?n=e:a.before(e)==t&&l.splice(1,0,-e)}var u=l.indexOf(n);let d=[],p=i.openStart;for(let e=i.content,t=0;;t++){var f=e.firstChild;if(d.push(f),t==i.openStart)break;e=f.content}for(let e=p-1;0<=e;e--){var h=d[e],m=definesContent(h.type);if(m&&!h.sameMarkup(a.node(Math.abs(n)-1)))p=e;else if(m||!h.type.isTextblock)break}for(let e=i.openStart;0<=e;e--){var g=(e+p+1)%(i.openStart+1),v=d[g];if(v)for(let n=0;n<l.length;n++){let e=l[(n+u)%l.length],t=!0;e<0&&(t=!1,e=-e);var y=a.node(e-1),b=a.index(e-1);if(y.canReplaceWith(b,b,v.type,v.marks))return r.replace(a.before(e),t?s.after(e):o,new Slice(closeFragment(i.content,0,i.openStart,g),g,i.openEnd))}}var w=r.steps.length;for(let e=l.length-1;0<=e&&(r.replace(t,o,i),!(r.steps.length>w));e--){var x=l[e];x<0||(t=a.before(x),o=s.after(x))}}function closeFragment(e,t,n,r,o){var i;return t<n&&(i=e.firstChild,e=e.replaceChild(0,i.copy(closeFragment(i.content,t+1,n,r,i)))),e=r<t?(i=(n=o.contentMatchAt(0)).fillBefore(e).append(e)).append(n.matchFragment(i).fillBefore(Fragment.empty,!0)):e}function replaceRangeWith(e,t,n,r){var o;!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size&&null!=(o=insertPoint(e.doc,t,r.type))&&(t=n=o),e.replaceRange(t,n,new Slice(Fragment.from(r),0,0))}function deleteRange(t,n,r){var o=t.doc.resolve(n),i=t.doc.resolve(r),a=coveredDepths(o,i);for(let e=0;e<a.length;e++){var s=a[e],l=e==a.length-1;if(l&&0==s||o.node(s).type.contentMatch.validEnd)return t.delete(o.start(s),i.end(s));if(0<s&&(l||o.node(s-1).canReplace(o.index(s-1),i.indexAfter(s-1))))return t.delete(o.before(s),i.after(s))}for(let e=1;e<=o.depth&&e<=i.depth;e++)if(n-o.start(e)==o.depth-e&&r>o.end(e)&&i.end(e)-r!=i.depth-e)return t.delete(o.before(e),r);t.delete(n,r)}function coveredDepths(t,n){var r=[];for(let e=Math.min(t.depth,n.depth);0<=e;e--){var o=t.start(e);if(o<t.pos-(t.depth-e)||n.end(e)>n.pos+(n.depth-e)||t.node(e).type.spec.isolating||n.node(e).type.spec.isolating)break;(o==n.start(e)||e==t.depth&&e==n.depth&&t.parent.inlineContent&&n.parent.inlineContent&&e&&n.start(e-1)==o-1)&&r.push(e)}return r}class AttrStep extends Step{constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}apply(e){var t=e.nodeAt(this.pos);if(!t)return StepResult.fail("No node at attribute step's position");var n,r=Object.create(null);for(n in t.attrs)r[n]=t.attrs[n];r[this.attr]=this.value;var o=t.type.create(r,null,t.marks);return StepResult.fromReplace(e,this.pos,this.pos+1,new Slice(Fragment.from(o),0,t.isLeaf?0:1))}getMap(){return StepMap.empty}invert(e){return new AttrStep(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){e=e.mapResult(this.pos,1);return e.deletedAfter?null:new AttrStep(e.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if("number"!=typeof t.pos||"string"!=typeof t.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new AttrStep(t.pos,t.attr,t.value)}}Step.jsonID("attr",AttrStep);let TransformError=class extends Error{};(TransformError=function e(t){t=Error.call(this,t);return t.__proto__=e.prototype,t}).prototype=Object.create(Error.prototype),(TransformError.prototype.constructor=TransformError).prototype.name="TransformError";class Transform{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Mapping}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){e=this.maybeStep(e);if(e.failed)throw new TransformError(e.failed);return this}maybeStep(e){var t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return 0<this.steps.length}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=Slice.empty){t=replaceStep(this.doc,e,t,n);return t&&this.step(t),this}replaceWith(e,t,n){return this.replace(e,t,new Slice(Fragment.from(n),0,0))}delete(e,t){return this.replace(e,t,Slice.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return replaceRange(this,e,t,n),this}replaceRangeWith(e,t,n){return replaceRangeWith(this,e,t,n),this}deleteRange(e,t){return deleteRange(this,e,t),this}lift(e,t){return lift$1(this,e,t),this}join(e,t=1){return join(this,e,t),this}wrap(e,t){return wrap(this,e,t),this}setBlockType(e,t=e,n,r=null){return setBlockType$1(this,e,t,n,r),this}setNodeMarkup(e,t,n=null,r){return setNodeMarkup(this,e,t,n,r),this}setNodeAttribute(e,t,n){return this.step(new AttrStep(e,t,n)),this}addNodeMark(e,t){return this.step(new AddNodeMarkStep(e,t)),this}removeNodeMark(e,t){if(!(t instanceof Mark)){var n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(!(t=t.isInSet(n.marks)))return this}return this.step(new RemoveNodeMarkStep(e,t)),this}split(e,t=1,n){return split(this,e,t,n),this}addMark(e,t,n){return addMark(this,e,t,n),this}removeMark(e,t,n){return removeMark(this,e,t,n),this}clearIncompatible(e,t,n){return clearIncompatible(this,e,t,n),this}}const classesById=Object.create(null);class Selection{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new SelectionRange(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){var t=this.ranges;for(let e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=Slice.empty){let r=n.content.lastChild,o=null;for(let e=0;e<n.openEnd;e++)r=(o=r).lastChild;var i=t.steps.length,a=this.ranges;for(let e=0;e<a.length;e++){var{$from:s,$to:l}=a[e],c=t.mapping.slice(i);t.replaceRange(c.map(s.pos),c.map(l.pos),e?Slice.empty:n),0==e&&selectionToInsertionEnd(t,i,(r?r.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(t,n){var r=t.steps.length,o=this.ranges;for(let e=0;e<o.length;e++){var{$from:i,$to:a}=o[e],s=t.mapping.slice(r),i=s.map(i.pos),s=s.map(a.pos);e?t.deleteRange(i,s):(t.replaceRangeWith(i,s,n),selectionToInsertionEnd(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){var e=t.parent.inlineContent?new TextSelection(t):findSelectionIn(t.node(0),t.parent,t.pos,t.index(),n,r);if(e)return e;for(let e=t.depth-1;0<=e;e--){var o=n<0?findSelectionIn(t.node(0),t.node(e),t.before(e+1),t.index(e),n,r):findSelectionIn(t.node(0),t.node(e),t.after(e+1),t.index(e)+1,n,r);if(o)return o}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new AllSelection(e.node(0))}static atStart(e){return findSelectionIn(e,e,0,0,1)||new AllSelection(e)}static atEnd(e){return findSelectionIn(e,e,e.content.size,e.childCount,-1)||new AllSelection(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=classesById[t.type];if(n)return n.fromJSON(e,t);throw new RangeError(`No selection type ${t.type} defined`)}static jsonID(e,t){if(e in classesById)throw new RangeError("Duplicate use of selection JSON ID "+e);return(classesById[e]=t).prototype.jsonID=e,t}getBookmark(){return TextSelection.between(this.$anchor,this.$head).getBookmark()}}Selection.prototype.visible=!0;class SelectionRange{constructor(e,t){this.$from=e,this.$to=t}}let warnedAboutTextSelection=!1;function checkTextSelection(e){warnedAboutTextSelection||e.parent.inlineContent||(warnedAboutTextSelection=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class TextSelection extends Selection{constructor(e,t=e){checkTextSelection(e),checkTextSelection(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){var n=e.resolve(t.map(this.head));return n.parent.inlineContent?(e=e.resolve(t.map(this.anchor)),new TextSelection(e.parent.inlineContent?e:n,n)):Selection.near(n)}replace(e,t=Slice.empty){super.replace(e,t),t==Slice.empty&&(t=this.$from.marksAcross(this.$to))&&e.ensureMarks(t)}eq(e){return e instanceof TextSelection&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new TextBookmark(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if("number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new TextSelection(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){var r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))}static between(e,t,n){var r=e.pos-t.pos;if(n&&!r||(n=0<=r?1:-1),!t.parent.inlineContent){var o=Selection.findFrom(t,n,!0)||Selection.findFrom(t,-n,!0);if(!o)return Selection.near(t,n);t=o.$head}return e.parent.inlineContent||0!=r&&(e=(Selection.findFrom(e,-n,!0)||Selection.findFrom(e,n,!0)).$anchor).pos<t.pos==r<0||(e=t),new TextSelection(e,t)}}Selection.jsonID("text",TextSelection);class TextBookmark{constructor(e,t){this.anchor=e,this.head=t}map(e){return new TextBookmark(e.map(this.anchor),e.map(this.head))}resolve(e){return TextSelection.between(e.resolve(this.anchor),e.resolve(this.head))}}class NodeSelection extends Selection{constructor(e){var t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){var{deleted:t,pos:n}=t.mapResult(this.anchor),e=e.resolve(n);return t?Selection.near(e):new NodeSelection(e)}content(){return new Slice(Fragment.from(this.node),0,0)}eq(e){return e instanceof NodeSelection&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new NodeBookmark(this.anchor)}static fromJSON(e,t){if("number"!=typeof t.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new NodeSelection(e.resolve(t.anchor))}static create(e,t){return new NodeSelection(e.resolve(t))}static isSelectable(e){return!e.isText&&!1!==e.type.spec.selectable}}NodeSelection.prototype.visible=!1,Selection.jsonID("node",NodeSelection);class NodeBookmark{constructor(e){this.anchor=e}map(e){var{deleted:e,pos:t}=e.mapResult(this.anchor);return e?new TextBookmark(t,t):new NodeBookmark(t)}resolve(e){var e=e.resolve(this.anchor),t=e.nodeAfter;return t&&NodeSelection.isSelectable(t)?new NodeSelection(e):Selection.near(e)}}class AllSelection extends Selection{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=Slice.empty){var n;t==Slice.empty?(e.delete(0,e.doc.content.size),(n=Selection.atStart(e.doc)).eq(e.selection)||e.setSelection(n)):super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new AllSelection(e)}map(e){return new AllSelection(e)}eq(e){return e instanceof AllSelection}getBookmark(){return AllBookmark}}Selection.jsonID("all",AllSelection);const AllBookmark={map(){return this},resolve(e){return new AllSelection(e)}};function findSelectionIn(t,n,r,o,i,a=!1){if(n.inlineContent)return TextSelection.create(t,r);for(let e=o-(0<i?0:1);0<i?e<n.childCount:0<=e;e+=i){var s=n.child(e);if(s.isAtom){if(!a&&NodeSelection.isSelectable(s))return NodeSelection.create(t,r-(i<0?s.nodeSize:0))}else{var l=findSelectionIn(t,s,r+i,i<0?s.childCount:0,i,a);if(l)return l}r+=s.nodeSize*i}return null}function selectionToInsertionEnd(t,e,n){var r=t.steps.length-1;if(!(r<e)){e=t.steps[r];if(e instanceof ReplaceStep||e instanceof ReplaceAroundStep){let e=t.mapping.maps[r],o;e.forEach((e,t,n,r)=>{null==o&&(o=r)}),t.setSelection(Selection.near(t.doc.resolve(o),n))}}}const UPDATED_SEL=1,UPDATED_MARKS=2,UPDATED_SCROLL=4;class Transaction extends Transform{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|UPDATED_SEL)&~UPDATED_MARKS,this.storedMarks=null,this}get selectionSet(){return 0<(this.updated&UPDATED_SEL)}setStoredMarks(e){return this.storedMarks=e,this.updated|=UPDATED_MARKS,this}ensureMarks(e){return Mark.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return 0<(this.updated&UPDATED_MARKS)}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~UPDATED_MARKS,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){var n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Mark.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){var o,i=this.doc.type.schema;if(null==n)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();{if(r=null==(r=null==r?n:r)?n:r,!t)return this.deleteRange(n,r);let e=this.storedMarks;return e||(o=this.doc.resolve(n),e=r==n?o.marks():o.marksAcross(this.doc.resolve(r))),this.replaceRangeWith(n,r,i.text(t,e)),this.selection.empty||this.setSelection(Selection.near(this.selection.$to)),this}}setMeta(e,t){return this.meta["string"==typeof e?e:e.key]=t,this}getMeta(e){return this.meta["string"==typeof e?e:e.key]}get isGeneric(){for(var e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=UPDATED_SCROLL,this}get scrolledIntoView(){return 0<(this.updated&UPDATED_SCROLL)}}function bind(e,t){return t&&e?e.bind(t):e}class FieldDesc{constructor(e,t,n){this.name=e,this.init=bind(t.init,n),this.apply=bind(t.apply,n)}}const baseFields=[new FieldDesc("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new FieldDesc("selection",{init(e,t){return e.selection||Selection.atStart(t.doc)},apply(e){return e.selection}}),new FieldDesc("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new FieldDesc("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class Configuration{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=baseFields.slice(),t&&t.forEach(e=>{if(this.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");this.plugins.push(e),(this.pluginsByKey[e.key]=e).spec.state&&this.fields.push(new FieldDesc(e.key,e.spec.state,e))})}}class EditorState{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(t,n=-1){for(let e=0;e<this.config.plugins.length;e++)if(e!=n){var r=this.config.plugins[e];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,t,this))return!1}return!0}applyTransaction(n){if(!this.filterTransaction(n))return{state:this,transactions:[]};let r=[n],o=this.applyInner(n),i=null;for(;;){let e=!1;for(let t=0;t<this.config.plugins.length;t++){var a=this.config.plugins[t];if(a.spec.appendTransaction){var s=i?i[t].n:0,l=i?i[t].state:this,a=s<r.length&&a.spec.appendTransaction.call(a,s?r.slice(s):r,l,o);if(a&&o.filterTransaction(a,t)){if(a.setMeta("appendedTransaction",n),!i){i=[];for(let e=0;e<this.config.plugins.length;e++)i.push(e<t?{state:o,n:r.length}:{state:this,n:0})}r.push(a),o=o.applyInner(a),e=!0}i&&(i[t]={state:o,n:r.length})}}if(!e)return{state:o,transactions:r}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");var n=new EditorState(this.config),r=this.config.fields;for(let e=0;e<r.length;e++){var o=r[e];n[o.name]=o.apply(t,this[o.name],this,n)}return n}get tr(){return new Transaction(this)}static create(t){var n=new Configuration((t.doc?t.doc.type:t).schema,t.plugins),r=new EditorState(n);for(let e=0;e<n.fields.length;e++)r[n.fields[e].name]=n.fields[e].init(t,r);return r}reconfigure(t){var e=new Configuration(this.schema,t.plugins),n=e.fields,r=new EditorState(e);for(let e=0;e<n.length;e++){var o=n[e].name;r[o]=this.hasOwnProperty(o)?this[o]:n[e].init(t,r)}return r}toJSON(e){var t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(e=>e.toJSON())),e&&"object"==typeof e)for(var n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var r=e[n],o=r.spec.state;o&&o.toJSON&&(t[n]=o.toJSON.call(r,this[r.key]))}return t}static fromJSON(o,i,a){if(!i)throw new RangeError("Invalid input for EditorState.fromJSON");if(!o.schema)throw new RangeError("Required config field 'schema' missing");var e=new Configuration(o.schema,o.plugins);let s=new EditorState(e);return e.fields.forEach(e=>{if("doc"==e.name)s.doc=Node.fromJSON(o.schema,i.doc);else if("selection"==e.name)s.selection=Selection.fromJSON(s.doc,i.selection);else if("storedMarks"==e.name)i.storedMarks&&(s.storedMarks=i.storedMarks.map(o.schema.markFromJSON));else{if(a)for(var t in a){var n=a[t],r=n.spec.state;if(n.key==e.name&&r&&r.fromJSON&&Object.prototype.hasOwnProperty.call(i,t))return void(s[e.name]=r.fromJSON.call(n,o,i[t],s))}s[e.name]=e.init(o,s)}}),s}}function bindProps(t,n,r){for(var o in t){let e=t[o];e instanceof Function?e=e.bind(n):"handleDOMEvents"==o&&(e=bindProps(e,n,{})),r[o]=e}return r}class Plugin{constructor(e){this.spec=e,this.props={},e.props&&bindProps(e.props,this,this.props),this.key=e.key?e.key.key:createKey("plugin")}getState(e){return e[this.key]}}const keys=Object.create(null);function createKey(e){return e in keys?e+"$"+ ++keys[e]:(keys[e]=0,e+"$")}class PluginKey{constructor(e="key"){this.key=createKey(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}class InputRule{constructor(e,t){this.match=e,this.match=e,this.handler="string"==typeof t?stringHandler(t):t}}function stringHandler(s){return function(e,t,n,r){let o=s;var i,a;return t[1]&&(i=t[0].lastIndexOf(t[1]),o+=t[0].slice(i+t[1].length),0<(a=(n+=i)-r))&&(o=t[0].slice(i-a,i)+o,n=r),e.tr.insertText(o,n,r)}}const MAX_MATCH=500;function inputRules({rules:o}){let i=new Plugin({state:{init(){return null},apply(e,t){var n=e.getMeta(this);return n||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput(e,t,n,r){return run(e,t,n,r,o,i)},handleDOMEvents:{compositionend:t=>{setTimeout(()=>{var e=t.state.selection["$cursor"];e&&run(t,e.pos,e.pos,"",o,i)})}}},isInputRules:!0});return i}function run(t,n,r,o,i,a){if(!t.composing){var s=t.state,e=s.doc.resolve(n);if(!e.parent.type.spec.code){var l=e.parent.textBetween(Math.max(0,e.parentOffset-MAX_MATCH),e.parentOffset,null,"")+o;for(let e=0;e<i.length;e++){var c=i[e].match.exec(l),c=c&&i[e].handler(s,c,n-(c[0].length-o.length),r);if(c)return t.dispatch(c.setMeta(a,{transform:c,from:n,to:r,text:o})),!0}}}return!1}const undoInputRule=(r,o)=>{var i=r.plugins;for(let n=0;n<i.length;n++){let e=i[n],t;if(e.spec.isInputRules&&(t=e.getState(r))){if(o){var a,s=r.tr,l=t.transform;for(let e=l.steps.length-1;0<=e;e--)s.step(l.steps[e].invert(l.docs[e]));t.text?(a=s.doc.resolve(t.from).marks(),s.replaceWith(t.from,t.to,r.schema.text(t.text,a))):s.delete(t.from,t.to),o(s)}return!0}}return!1},emDash=new InputRule(/--$/,""),ellipsis=new InputRule(/\.\.\.$/,""),openDoubleQuote=new InputRule(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,""),closeDoubleQuote=new InputRule(/"$/,""),openSingleQuote=new InputRule(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,""),closeSingleQuote=new InputRule(/'$/,""),smartQuotes=[openDoubleQuote,closeDoubleQuote,openSingleQuote,closeSingleQuote];function wrappingInputRule(e,i,a=null,s){return new InputRule(e,(e,t,n,r)=>{var o=a instanceof Function?a(t):a,e=e.tr.delete(n,r),r=e.doc.resolve(n).blockRange(),o=r&&findWrapping(r,i,o);if(!o)return null;e.wrap(r,o);r=e.doc.resolve(n-1).nodeBefore;return r&&r.type==i&&canJoin(e.doc,n-1)&&(!s||s(t,r))&&e.join(n-1),e})}function textblockTypeInputRule(e,i,a=null){return new InputRule(e,(e,t,n,r)=>{var o=e.doc.resolve(n),t=a instanceof Function?a(t):a;return o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),i)?e.tr.delete(n,r).setBlockType(n,n,i,t):null})}function blockQuoteRule(e){return wrappingInputRule(/^\s*>\s$/,e)}function orderedListRule(e){return wrappingInputRule(/^(\d+)\.\s$/,e,e=>({order:+e[1]}),(e,t)=>t.childCount+t.attrs.order==+e[1])}function bulletListRule(e){return wrappingInputRule(/^\s*([-+*])\s$/,e)}function codeBlockRule(e){return textblockTypeInputRule(/^```$/,e)}function headingRule(e,t){return textblockTypeInputRule(new RegExp("^(#{1,"+t+"})\\s$"),e,e=>({level:e[1].length}))}function buildInputRules(e){var t,n=smartQuotes.concat(ellipsis,emDash);return(t=e.nodes.blockquote)&&n.push(blockQuoteRule(t)),(t=e.nodes.ordered_list)&&n.push(orderedListRule(t)),(t=e.nodes.bullet_list)&&n.push(bulletListRule(t)),(t=e.nodes.code_block)&&n.push(codeBlockRule(t)),(t=e.nodes.heading)&&n.push(headingRule(t,6)),inputRules({rules:n})}const deleteSelection=(e,t)=>!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function atBlockStart(e,t){var n=e.selection["$cursor"];return!n||(t?!t.endOfTextblock("backward",e):0<n.parentOffset)?null:n}const joinBackward=(e,t,n)=>{n=atBlockStart(e,n);if(!n)return!1;var r=findCutBefore(n);if(!r)return null!=(i=(o=n.blockRange())&&liftTarget(o))&&(t&&t(e.tr.lift(o,i).scrollIntoView()),!0);var o=r.nodeBefore;if(!o.type.spec.isolating&&deleteBarrier(e,r,t))return!0;if(0==n.parent.content.size&&(textblockAt(o,"end")||NodeSelection.isSelectable(o))){var i=replaceStep(e.doc,n.before(),n.after(),Slice.empty);if(i&&i.slice.size<i.to-i.from)return t&&((i=e.tr.step(i)).setSelection(textblockAt(o,"end")?Selection.findFrom(i.doc.resolve(i.mapping.map(r.pos,-1)),-1):NodeSelection.create(i.doc,r.pos-o.nodeSize)),t(i.scrollIntoView())),!0}return!(!o.isAtom||r.depth!=n.depth-1||(t&&t(e.tr.delete(r.pos-o.nodeSize,r.pos).scrollIntoView()),0))};function textblockAt(t,n,r=!1){for(let e=t;e;e="start"==n?e.firstChild:e.lastChild){if(e.isTextblock)return!0;if(r&&1!=e.childCount)return!1}return!1}const selectNodeBackward=(e,t,n)=>{let{$head:r,empty:o}=e.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):0<r.parentOffset)return!1;i=findCutBefore(r)}n=i&&i.nodeBefore;return!(!n||!NodeSelection.isSelectable(n)||(t&&t(e.tr.setSelection(NodeSelection.create(e.doc,i.pos-n.nodeSize)).scrollIntoView()),0))};function findCutBefore(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;0<=e;e--){if(0<t.index(e))return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function atBlockEnd(e,t){var n=e.selection["$cursor"];return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const joinForward=(e,t,n)=>{n=atBlockEnd(e,n);if(!n)return!1;var r=findCutAfter(n);if(!r)return!1;var o=r.nodeAfter;if(deleteBarrier(e,r,t))return!0;if(0==n.parent.content.size&&(textblockAt(o,"start")||NodeSelection.isSelectable(o))){var i=replaceStep(e.doc,n.before(),n.after(),Slice.empty);if(i&&i.slice.size<i.to-i.from)return t&&((i=e.tr.step(i)).setSelection(textblockAt(o,"start")?Selection.findFrom(i.doc.resolve(i.mapping.map(r.pos)),1):NodeSelection.create(i.doc,i.mapping.map(r.pos))),t(i.scrollIntoView())),!0}return!(!o.isAtom||r.depth!=n.depth-1||(t&&t(e.tr.delete(r.pos,r.pos+o.nodeSize).scrollIntoView()),0))},selectNodeForward=(e,t,n)=>{let{$head:r,empty:o}=e.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;i=findCutAfter(r)}n=i&&i.nodeAfter;return!(!n||!NodeSelection.isSelectable(n)||(t&&t(e.tr.setSelection(NodeSelection.create(e.doc,i.pos)).scrollIntoView()),0))};function findCutAfter(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;0<=e;e--){var n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const joinUp=(e,t)=>{let n=e.selection,r=n instanceof NodeSelection,o;if(r){if(n.node.isTextblock||!canJoin(e.doc,n.from))return!1;o=n.from}else if(null==(o=joinPoint(e.doc,n.from,-1)))return!1;var i;return t&&(i=e.tr.join(o),r&&i.setSelection(NodeSelection.create(i.doc,o-e.doc.resolve(o).nodeBefore.nodeSize)),t(i.scrollIntoView())),!0},joinDown=(e,t)=>{let n=e.selection,r;if(n instanceof NodeSelection){if(n.node.isTextblock||!canJoin(e.doc,n.to))return!1;r=n.to}else if(null==(r=joinPoint(e.doc,n.to,1)))return!1;return t&&t(e.tr.join(r).scrollIntoView()),!0},lift=(e,t)=>{var{$from:n,$to:r}=e.selection,n=n.blockRange(r),r=n&&liftTarget(n);return null!=r&&(t&&t(e.tr.lift(n,r).scrollIntoView()),!0)},newlineInCode=(e,t)=>{var{$head:n,$anchor:r}=e.selection;return!(!n.parent.type.spec.code||!n.sameParent(r)||(t&&t(e.tr.insertText("\n").scrollIntoView()),0))};function defaultBlockAt$1(t){for(let e=0;e<t.edgeCount;e++){var n=t.edge(e)["type"];if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const exitCode=(e,t)=>{var n,r,{$head:o,$anchor:i}=e.selection;return!(!o.parent.type.spec.code||!o.sameParent(i)||(i=o.node(-1),r=o.indexAfter(-1),!(n=defaultBlockAt$1(i.contentMatchAt(r))))||!i.canReplaceWith(r,r,n)||(t&&(i=o.after(),(r=e.tr.replaceWith(i,i,n.createAndFill())).setSelection(Selection.near(r.doc.resolve(i),1)),t(r.scrollIntoView())),0))},createParagraphNear=(e,t)=>{var n=e.selection,{$from:r,$to:o}=n;return!(n instanceof AllSelection||r.parent.inlineContent||o.parent.inlineContent||!(n=defaultBlockAt$1(o.parent.contentMatchAt(o.indexAfter())))||!n.isTextblock||(t&&(r=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,(o=e.tr.insert(r,n.createAndFill())).setSelection(TextSelection.create(o.doc,r+1)),t(o.scrollIntoView())),0))},liftEmptyBlock=(e,t)=>{var n=e.selection["$cursor"];if(!n||n.parent.content.size)return!1;if(1<n.depth&&n.after()!=n.end(-1)){var r=n.before();if(canSplit(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}r=n.blockRange(),n=r&&liftTarget(r);return null!=n&&(t&&t(e.tr.lift(r,n).scrollIntoView()),!0)};function splitBlockAs$1(l){return(n,r)=>{var{$from:o,$to:i}=n.selection;if(n.selection instanceof NodeSelection&&n.selection.node.isBlock)return!(!o.parentOffset||!canSplit(n.doc,o.pos)||(r&&r(n.tr.split(o.pos).scrollIntoView()),0));if(!o.parent.isBlock)return!1;if(r){var a=i.parentOffset==i.parent.content.size,s=n.tr,n=((n.selection instanceof TextSelection||n.selection instanceof AllSelection)&&s.deleteSelection(),0==o.depth?null:defaultBlockAt$1(o.node(-1).contentMatchAt(o.indexAfter(-1)))),i=l&&l(i.parent,a);let e=i?[i]:a&&n?[{type:n}]:void 0,t=canSplit(s.doc,s.mapping.map(o.pos),1,e);e||t||!canSplit(s.doc,s.mapping.map(o.pos),1,n?[{type:n}]:void 0)||(n&&(e=[{type:n}]),t=!0),t&&(s.split(s.mapping.map(o.pos),1,e),a||o.parentOffset||o.parent.type==n||(i=s.mapping.map(o.before()),a=s.doc.resolve(i),n&&o.node(-1).canReplaceWith(a.index(),a.index()+1,n)&&s.setNodeMarkup(s.mapping.map(o.before()),n))),r(s.scrollIntoView())}return!0}}const splitBlock=splitBlockAs$1(),selectParentNode=(e,t)=>{var{$from:n,to:r}=e.selection,r=n.sharedDepth(r);return 0!=r&&(n=n.before(r),t&&t(e.tr.setSelection(NodeSelection.create(e.doc,n))),!0)},selectAll$1=(e,t)=>(t&&t(e.tr.setSelection(new AllSelection(e.doc))),!0);function joinMaybeClear(e,t,n){var r=t.nodeBefore,o=t.nodeAfter,i=t.index();if(!r||!o||!r.type.compatibleContent(o.type))return!1;if(!r.content.size&&t.parent.canReplace(i-1,i))n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView());else{if(!t.parent.canReplace(i,i+1)||!o.isTextblock&&!canJoin(e.doc,t.pos))return!1;n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView())}return!0}function deleteBarrier(o,i,a){let s=i.nodeBefore,l=i.nodeAfter,n,e;if(!s.type.spec.isolating&&!l.type.spec.isolating){if(joinMaybeClear(o,i,a))return!0;var t=i.parent.canReplace(i.index(),i.index()+1);if(t&&(n=(e=s.contentMatchAt(s.childCount)).findWrapping(l.type))&&e.matchType(n[0]||l.type).validEnd){if(a){let e=i.pos+l.nodeSize,t=Fragment.empty;for(let e=n.length-1;0<=e;e--)t=Fragment.from(n[e].create(null,t));t=Fragment.from(s.copy(t));var r=o.tr.step(new ReplaceAroundStep(i.pos-1,e,i.pos,e,new Slice(t,1,0),n.length,!0)),c=e+2*n.length;canJoin(r.doc,c)&&r.join(c),a(r.scrollIntoView())}return!0}c=Selection.findFrom(i,1),r=c&&c.$from.blockRange(c.$to),c=r&&liftTarget(r);if(null!=c&&c>=i.depth)return a&&a(o.tr.lift(r,c).scrollIntoView()),!0;if(t&&textblockAt(l,"start",!0)&&textblockAt(s,"end")){let e=s,n=[];for(;n.push(e),!e.isTextblock;)e=e.lastChild;let t=l,r=1;for(;!t.isTextblock;t=t.firstChild)r++;if(e.canReplace(e.childCount,e.childCount,t.content)){if(a){let t=Fragment.empty;for(let e=n.length-1;0<=e;e--)t=Fragment.from(n[e].copy(t));a(o.tr.step(new ReplaceAroundStep(i.pos-n.length,i.pos+l.nodeSize,i.pos+r,i.pos+l.nodeSize-r,new Slice(t,n.length,0),0,!0)).scrollIntoView())}return!0}}}return!1}function selectTextblockSide(i){return function(e,t){var n=e.selection,r=i<0?n.$from:n.$to;let o=r.depth;for(;r.node(o).isInline;){if(!o)return!1;o--}return!!r.node(o).isTextblock&&(t&&t(e.tr.setSelection(TextSelection.create(e.doc,i<0?r.start(o):r.end(o)))),!0)}}const selectTextblockStart=selectTextblockSide(-1),selectTextblockEnd=selectTextblockSide(1);function setBlockType(l,c=null){return function(n,e){let r=!1;for(let e=0;e<n.selection.ranges.length&&!r;e++){var{$from:{pos:t},$to:{pos:o}}=n.selection.ranges[e];n.doc.nodesBetween(t,o,(e,t)=>{if(r)return!1;e.isTextblock&&!e.hasMarkup(l,c)&&(r=e.type==l||(t=(e=n.doc.resolve(t)).index(),e.parent.canReplaceWith(t,t+1,l)))})}if(!r)return!1;if(e){var i=n.tr;for(let e=0;e<n.selection.ranges.length;e++){var{$from:{pos:a},$to:{pos:s}}=n.selection.ranges[e];i.setBlockType(a,s,l,c)}e(i.scrollIntoView())}return!0}}function chainCommands(...o){return function(t,n,r){for(let e=0;e<o.length;e++)if(o[e](t,n,r))return!0;return!1}}let backspace=chainCommands(deleteSelection,joinBackward,selectNodeBackward),del=chainCommands(deleteSelection,joinForward,selectNodeForward);const pcBaseKeymap={Enter:chainCommands(newlineInCode,createParagraphNear,liftEmptyBlock,splitBlock),"Mod-Enter":exitCode,Backspace:backspace,"Mod-Backspace":backspace,"Shift-Backspace":backspace,Delete:del,"Mod-Delete":del,"Mod-a":selectAll$1},macBaseKeymap={"Ctrl-h":pcBaseKeymap.Backspace,"Alt-Backspace":pcBaseKeymap["Mod-Backspace"],"Ctrl-d":pcBaseKeymap.Delete,"Ctrl-Alt-Backspace":pcBaseKeymap["Mod-Delete"],"Alt-Delete":pcBaseKeymap["Mod-Delete"],"Alt-d":pcBaseKeymap["Mod-Delete"],"Ctrl-a":selectTextblockStart,"Ctrl-e":selectTextblockEnd};for(let e in pcBaseKeymap)macBaseKeymap[e]=pcBaseKeymap[e];const mac$3="undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!("undefined"==typeof os||!os.platform)&&"darwin"==os.platform(),baseKeymap=mac$3?macBaseKeymap:pcBaseKeymap;for(var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mac$2="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),ie$1="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),i=0;i<10;i++)base[48+i]=base[96+i]=String(i);for(i=1;i<=24;i++)base[i+111]="F"+i;for(var code,i=65;i<=90;i++)base[i]=String.fromCharCode(i+32),shift[i]=String.fromCharCode(i);for(code in base)shift.hasOwnProperty(code)||(shift[code]=base[code]);function keyName(e){e=!(mac$2&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||ie$1&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?shift:base)[e.keyCode]||e.key||"Unidentified";return e="Down"==(e="Right"==(e="Up"==(e="Left"==(e="Del"==(e="Esc"==e?"Escape":e)?"Delete":e)?"ArrowLeft":e)?"ArrowUp":e)?"ArrowRight":e)?"ArrowDown":e}const mac$1="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function normalizeKeyName(e){let t=e.split(/-(?!$)/),n=t[t.length-1];"Space"==n&&(n=" ");let r,o,i,a;for(let e=0;e<t.length-1;e++){var s=t[e];if(/^(cmd|meta|m)$/i.test(s))a=!0;else if(/^a(lt)?$/i.test(s))r=!0;else if(/^(c|ctrl|control)$/i.test(s))o=!0;else if(/^s(hift)?$/i.test(s))i=!0;else{if(!/^mod$/i.test(s))throw new Error("Unrecognized modifier name: "+s);mac$1?a=!0:o=!0}}return r&&(n="Alt-"+n),o&&(n="Ctrl-"+n),a&&(n="Meta-"+n),n=i?"Shift-"+n:n}function normalize$1(e){var t,n=Object.create(null);for(t in e)n[normalizeKeyName(t)]=e[t];return n}function modifiers(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),e=n&&t.shiftKey?"Shift-"+e:e}function keydownHandler$1(e){let a=normalize$1(e);return function(e,t){let n=keyName(t),r,o=a[modifiers(n,t)];if(o&&o(e.state,e.dispatch,e))return!0;if(1==n.length&&" "!=n){if(t.shiftKey){var i=a[modifiers(n,t,!1)];if(i&&i(e.state,e.dispatch,e))return!0}if((t.shiftKey||t.altKey||t.metaKey||127<n.charCodeAt(0))&&(r=base[t.keyCode])&&r!=n){i=a[modifiers(r,t)];if(i&&i(e.state,e.dispatch,e))return!0}}return!1}}const domIndex=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},parentNode=function(e){e=e.assignedSlot||e.parentNode;return e&&11==e.nodeType?e.host:e};let reusedRange=null;const textRange=function(e,t,n){var r=reusedRange=reusedRange||document.createRange();return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},isEquivalentPosition=function(e,t,n,r){return n&&(scanFor(e,t,n,r,-1)||scanFor(e,t,n,r,1))},atomElements=/^(img|br|input|textarea|hr)$/i;function scanFor(e,t,n,r,o){for(;;){if(e==n&&t==r)return!0;if(t==(o<0?0:nodeSize(e))){var i=e.parentNode;if(!i||1!=i.nodeType||hasBlockDesc(e)||atomElements.test(e.nodeName)||"false"==e.contentEditable)return!1;t=domIndex(e)+(o<0?0:1),e=i}else{if(1!=e.nodeType)return!1;if("false"==(e=e.childNodes[t+(o<0?-1:0)]).contentEditable)return!1;t=o<0?nodeSize(e):0}}}function nodeSize(e){return(3==e.nodeType?e.nodeValue:e.childNodes).length}function isOnEdge(n,r,o){for(let e=0==r,t=r==nodeSize(n);e||t;){if(n==o)return!0;var i=domIndex(n);if(!(n=n.parentNode))return!1;e=e&&0==i,t=t&&i==nodeSize(n)}}function hasBlockDesc(t){let n;for(let e=t;e&&!(n=e.pmViewDesc);e=e.parentNode);return n&&n.node&&n.node.isBlock&&(n.dom==t||n.contentDOM==t)}const selectionCollapsed=function(e){return e.focusNode&&isEquivalentPosition(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function keyEvent(e,t){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function deepActiveElement(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function caretFromPoint(e,t,n){if(e.caretPositionFromPoint)try{var r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch(e){}if(e.caretRangeFromPoint){r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:r.startOffset}}}const nav="undefined"!=typeof navigator?navigator:null,doc="undefined"!=typeof document?document:null,agent=nav&&nav.userAgent||"",ie_edge=/Edge\/(\d+)/.exec(agent),ie_upto10=/MSIE \d/.exec(agent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(agent),ie=!!(ie_upto10||ie_11up||ie_edge),ie_version=ie_upto10?document.documentMode:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko=!ie&&/gecko\/(\d+)/i.test(agent),_chrome=(gecko&&(/Firefox\/(\d+)/.exec(agent)||[0,0])[1],!ie&&/Chrome\/(\d+)/.exec(agent)),chrome=!!_chrome,chrome_version=_chrome?+_chrome[1]:0,safari=!ie&&!!nav&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(agent)||!!nav&&2<nav.maxTouchPoints),mac=ios||!!nav&&/Mac/.test(nav.platform),windows=!!nav&&/Win/.test(nav.platform),android=/Android \d/.test(agent),webkit=!!doc&&"webkitFontSmoothing"in doc.documentElement.style,webkit_version=webkit?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function windowRect(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function getSide(e,t){return"number"==typeof e?e:e[t]}function clientRect(e){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function scrollRectIntoView(e,r,t){var o=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,a=e.dom.ownerDocument;for(let n=t||e.dom;n;n=parentNode(n))if(1==n.nodeType){var s,l=n,c=l==a.body,u=c?windowRect(a):clientRect(l);let e=0,t=0;if(r.top<u.top+getSide(o,"top")?t=-(u.top-r.top+getSide(i,"top")):r.bottom>u.bottom-getSide(o,"bottom")&&(t=r.bottom-r.top>u.bottom-u.top?r.top+getSide(i,"top")-u.top:r.bottom-u.bottom+getSide(i,"bottom")),r.left<u.left+getSide(o,"left")?e=-(u.left-r.left+getSide(i,"left")):r.right>u.right-getSide(o,"right")&&(e=r.right-u.right+getSide(i,"right")),(e||t)&&(c?a.defaultView.scrollBy(e,t):(u=l.scrollLeft,s=l.scrollTop,t&&(l.scrollTop+=t),e&&(l.scrollLeft+=e),u=l.scrollLeft-u,l=l.scrollTop-s,r={left:r.left-u,top:r.top-l,right:r.right-u,bottom:r.bottom-l})),c||/^(fixed|sticky)$/.test(getComputedStyle(n).position))break}}function storeScrollPos(n){var r=n.dom.getBoundingClientRect(),o=Math.max(0,r.top);let i,a;for(let e=(r.left+r.right)/2,t=o+1;t<Math.min(innerHeight,r.bottom);t+=5){var s=n.root.elementFromPoint(e,t);if(s&&s!=n.dom&&n.dom.contains(s)){var l=s.getBoundingClientRect();if(l.top>=o-20){i=s,a=l.top;break}}}return{refDOM:i,refTop:a,stack:scrollStack(n.dom)}}function scrollStack(t){var n=[],r=t.ownerDocument;for(let e=t;e&&(n.push({dom:e,top:e.scrollTop,left:e.scrollLeft}),t!=r);e=parentNode(e));return n}function resetScrollPos({refDOM:e,refTop:t,stack:n}){e=e?e.getBoundingClientRect().top:0;restoreScrollStack(n,0==e?0:e-t)}function restoreScrollStack(t,n){for(let e=0;e<t.length;e++){var{dom:r,top:o,left:i}=t[e];r.scrollTop!=o+n&&(r.scrollTop=o+n),r.scrollLeft!=i&&(r.scrollLeft=i)}}let preventScrollSupported=null;function focusPreventScroll(e){var t;return e.setActive?e.setActive():preventScrollSupported?e.focus(preventScrollSupported):(t=scrollStack(e),e.focus(null==preventScrollSupported?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),void(preventScrollSupported||(preventScrollSupported=!1,restoreScrollStack(t,0))))}function findOffsetInNode(e,o){let i,a=2e8,s,l=0,c=o.top,u=o.top,d,p;for(let n=e.firstChild,r=0;n;n=n.nextSibling,r++){let t;if(1==n.nodeType)t=n.getClientRects();else{if(3!=n.nodeType)continue;t=textRange(n).getClientRects()}for(let e=0;e<t.length;e++){var f=t[e];if(f.top<=c&&f.bottom>=u){c=Math.max(f.bottom,c),u=Math.min(f.top,u);var h=f.left>o.left?f.left-o.left:f.right<o.left?o.left-f.right:0;if(h<a){i=n,a=h,s=h&&3==i.nodeType?{left:f.right<o.left?f.right:f.left,top:o.top}:o,1==n.nodeType&&h&&(l=r+(o.left>=(f.left+f.right)/2?1:0));continue}}else f.top>o.top&&!d&&f.left<=o.left&&f.right>=o.left&&(d=n,p={left:Math.max(f.left,Math.min(f.right,o.left)),top:f.top});!i&&(o.left>=f.right&&o.top>=f.top||o.left>=f.left&&o.top>=f.bottom)&&(l=r+1)}}return!i&&d&&(i=d,s=p,a=0),i&&3==i.nodeType?findOffsetInText(i,s):!i||a&&1==i.nodeType?{node:e,offset:l}:findOffsetInNode(i,s)}function findOffsetInText(t,n){var r=t.nodeValue.length,o=document.createRange();for(let e=0;e<r;e++){o.setEnd(t,e+1),o.setStart(t,e);var i=singleRect(o,1);if(i.top!=i.bottom&&inRect(n,i))return{node:t,offset:e+(n.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}function inRect(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function targetKludge(e,t){var n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function posFromElement(e,t,n){let{node:r,offset:o}=findOffsetInNode(t,n),i=-1;return 1!=r.nodeType||r.firstChild||(t=r.getBoundingClientRect(),i=t.left!=t.right&&n.left>(t.left+t.right)/2?1:-1),e.docView.posFromDOM(r,o,i)}function posFromCaret(n,r,e,o){let i=-1;for(let e=r,t=!1;e!=n.dom;){var a=n.docView.nearestDesc(e,!0);if(!a)return null;if(1==a.dom.nodeType&&(a.node.isBlock&&a.parent&&!t||!a.contentDOM)){var s=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&!t&&(t=!0,s.left>o.left||s.top>o.top?i=a.posBefore:(s.right<o.left||s.bottom<o.top)&&(i=a.posAfter)),!a.contentDOM&&i<0&&!a.node.isText)return(a.node.isBlock?o.top<(s.top+s.bottom)/2:o.left<(s.left+s.right)/2)?a.posBefore:a.posAfter}e=a.dom.parentNode}return-1<i?i:n.docView.posFromDOM(r,e,-1)}function elementFromPoint(n,r,o){var i=n.childNodes.length;if(i&&o.top<o.bottom)for(let e=Math.max(0,Math.min(i-1,Math.floor(i*(r.top-o.top)/(o.bottom-o.top))-2)),t=e;;){var a=n.childNodes[t];if(1==a.nodeType){var s=a.getClientRects();for(let e=0;e<s.length;e++){var l=s[e];if(inRect(r,l))return elementFromPoint(a,r,l)}}if((t=(t+1)%i)==e)break}return n}function posAtCoords(e,n){let t=e.dom.ownerDocument,r,o=0;var i=caretFromPoint(t,n.left,n.top);i&&({node:r,offset:o}=i);let a=(e.root.elementFromPoint?e.root:t).elementFromPoint(n.left,n.top),s;if(!a||!e.dom.contains(1!=a.nodeType?a.parentNode:a)){i=e.dom.getBoundingClientRect();if(!inRect(n,i))return null;if(!(a=elementFromPoint(e.dom,n,i)))return null}if(safari)for(let e=a;r&&e;e=parentNode(e))e.draggable&&(r=void 0);if(a=targetKludge(a,n),r){if(gecko&&1==r.nodeType&&(o=Math.min(o,r.childNodes.length))<r.childNodes.length){let e=r.childNodes[o],t;"IMG"==e.nodeName&&(t=e.getBoundingClientRect()).right<=n.left&&t.bottom>n.top&&o++}r==e.dom&&o==r.childNodes.length-1&&1==r.lastChild.nodeType&&n.top>r.lastChild.getBoundingClientRect().bottom?s=e.state.doc.content.size:0!=o&&1==r.nodeType&&"BR"==r.childNodes[o-1].nodeName||(s=posFromCaret(e,r,o,n))}null==s&&(s=posFromElement(e,a,n));i=e.docView.nearestDesc(a,!0);return{pos:s,inside:i?i.posAtStart-i.border:-1}}function nonZero(e){return e.top<e.bottom||e.left<e.right}function singleRect(e,t){var n=e.getClientRects();if(n.length){t=n[t<0?0:n.length-1];if(nonZero(t))return t}return Array.prototype.find.call(n,nonZero)||e.getBoundingClientRect()}const BIDI=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function coordsAtPos(e,t,r){var{node:o,offset:i,atom:n}=e.docView.domFromPos(t,r<0?-1:1),a=webkit||gecko;if(3==o.nodeType){if(!a||!BIDI.test(o.nodeValue)&&(r<0?i:i!=o.nodeValue.length)){let e=i,t=i,n=r<0?1:-1;return r<0&&!i?(t++,n=-1):0<=r&&i==o.nodeValue.length?(e--,n=1):r<0?e--:t++,flattenV(singleRect(textRange(o,e,t),n),n<0)}var s=singleRect(textRange(o,i,i),r);if(gecko&&i&&/\s/.test(o.nodeValue[i-1])&&i<o.nodeValue.length){var l=singleRect(textRange(o,i-1,i-1),-1);if(l.top==s.top){var c=singleRect(textRange(o,i,i+1),-1);if(c.top!=s.top)return flattenV(c,c.left<l.left)}}return s}if(!e.state.doc.resolve(t-(n||0)).parent.inlineContent){if(null==n&&i&&(r<0||i==nodeSize(o))){c=o.childNodes[i-1];if(1==c.nodeType)return flattenH(c.getBoundingClientRect(),!1)}if(null==n&&i<nodeSize(o)){l=o.childNodes[i];if(1==l.nodeType)return flattenH(l.getBoundingClientRect(),!0)}return flattenH(o.getBoundingClientRect(),0<=r)}if(null==n&&i&&(r<0||i==nodeSize(o))){s=o.childNodes[i-1],e=3==s.nodeType?textRange(s,nodeSize(s)-(a?0:1)):1!=s.nodeType||"BR"==s.nodeName&&s.nextSibling?null:s;if(e)return flattenV(singleRect(e,1),!1)}if(null==n&&i<nodeSize(o)){let e=o.childNodes[i];for(;e.pmViewDesc&&e.pmViewDesc.ignoreForCoords;)e=e.nextSibling;t=e?3==e.nodeType?textRange(e,0,a?0:1):1==e.nodeType?e:null:null;if(t)return flattenV(singleRect(t,-1),!0)}return flattenV(singleRect(3==o.nodeType?textRange(o):o,-r),0<=r)}function flattenV(e,t){return 0==e.width?e:(t=t?e.left:e.right,{top:e.top,bottom:e.bottom,left:t,right:t})}function flattenH(e,t){return 0==e.height?e:{top:t=t?e.top:e.bottom,bottom:t,left:e.left,right:e.right}}function withFlushedState(e,t,n){var r=e.state,o=e.root.activeElement;r!=t&&e.updateState(t),o!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),o!=e.dom&&o&&o.focus()}}function endOfTextblockVertical(o,e,i){var t=e.selection;let a="up"==i?t.$from:t.$to;return withFlushedState(o,e,()=>{let t=o.docView.domFromPos(a.pos,"up"==i?-1:1)["node"];for(;;){var e=o.docView.nearestDesc(t,!0);if(!e)break;if(e.node.isBlock){t=e.contentDOM||e.dom;break}t=e.dom.parentNode}var n=coordsAtPos(o,a.pos,1);for(let e=t.firstChild;e;e=e.nextSibling){let t;if(1==e.nodeType)t=e.getClientRects();else{if(3!=e.nodeType)continue;t=textRange(e,0,e.nodeValue.length).getClientRects()}for(let e=0;e<t.length;e++){var r=t[e];if(r.bottom>r.top+1&&("up"==i?n.top-r.top>2*(r.bottom-n.top):r.bottom-n.bottom>2*(n.bottom-r.top)))return!1}}return!0})}const maybeRTL=/[\u0590-\u08ac]/;function endOfTextblockHorizontal(l,e,c){let u=e.selection["$head"];if(!u.parent.isTextblock)return!1;var t=u.parentOffset,n=!t,t=t==u.parent.content.size;let d=l.domSelection();return maybeRTL.test(u.parent.textContent)&&d.modify?withFlushedState(l,e,()=>{var{focusNode:e,focusOffset:t,anchorNode:n,anchorOffset:r}=l.domSelectionRange(),o=d.caretBidiLevel,i=(d.modify("move",c,"character"),u.depth?l.docView.domAfterPos(u.before()):l.dom),{focusNode:a,focusOffset:s}=l.domSelectionRange(),i=a&&!i.contains(1==a.nodeType?a:a.parentNode)||e==a&&t==s;try{d.collapse(n,r),e&&(e!=n||t!=r)&&d.extend&&d.extend(e,t)}catch(e){}return null!=o&&(d.caretBidiLevel=o),i}):"left"==c||"backward"==c?n:t}let cachedState=null,cachedDir=null,cachedResult=!1;function endOfTextblock(e,t,n){return cachedState==t&&cachedDir==n?cachedResult:(cachedState=t,cachedDir=n,cachedResult=("up"==n||"down"==n?endOfTextblockVertical:endOfTextblockHorizontal)(e,t,n))}const NOT_DIRTY=0,CHILD_DIRTY=1,CONTENT_DIRTY=2,NODE_DIRTY=3;class ViewDesc{constructor(e,t,n,r){this.parent=e,this.children=t,this.dom=n,this.contentDOM=r,this.dirty=NOT_DIRTY,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let t=0;for(let e=0;e<this.children.length;e++)t+=this.children[e].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(n){for(let e=0,t=this.posAtStart;;e++){var r=this.children[e];if(r==n)return t;t+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(n,r,e){if(this.contentDOM&&this.contentDOM.contains(1==n.nodeType?n:n.parentNode)){if(e<0){let e,t;if(n==this.contentDOM)e=n.childNodes[r-1];else{for(;n.parentNode!=this.contentDOM;)n=n.parentNode;e=n.previousSibling}for(;e&&(!(t=e.pmViewDesc)||t.parent!=this);)e=e.previousSibling;return e?this.posBeforeChild(t)+t.size:this.posAtStart}{let e,t;if(n==this.contentDOM)e=n.childNodes[r];else{for(;n.parentNode!=this.contentDOM;)n=n.parentNode;e=n.nextSibling}for(;e&&(!(t=e.pmViewDesc)||t.parent!=this);)e=e.nextSibling;return e?this.posBeforeChild(t):this.posAtEnd}}let t;if(n==this.dom&&this.contentDOM)t=r>domIndex(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))t=2&n.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==r)for(let e=n;;e=e.parentNode){if(e==this.dom){t=!1;break}if(e.previousSibling)break}if(null==t&&r==n.childNodes.length)for(let e=n;;e=e.parentNode){if(e==this.dom){t=!0;break}if(e.nextSibling)break}}return(null==t?0<e:t)?this.posAtEnd:this.posAtStart}nearestDesc(o,i=!1){for(let n=!0,r=o;r;r=r.parentNode){let e=this.getDesc(r),t;if(e&&(!i||e.node)){if(!n||!(t=e.nodeDOM)||(1==t.nodeType?t.contains(1==o.nodeType?o:o.parentNode):t==o))return e;n=!1}}}getDesc(e){var t=e.pmViewDesc;for(let e=t;e;e=e.parent)if(e==this)return t}posFromDOM(t,n,r){for(let e=t;e;e=e.parentNode){var o=this.getDesc(e);if(o)return o.localPosFromDOM(t,n,r)}return-1}descAt(o){for(let n=0,r=0;n<this.children.length;n++){let e=this.children[n],t=r+e.size;if(r==o&&t!=r){for(;!e.border&&e.children.length;)e=e.children[0];return e}if(o<t)return e.descAt(o-r-e.border);r=t}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,o=0;for(let e=0;r<this.children.length;r++){var i=this.children[r],a=e+i.size;if(t<a||i instanceof TrailingHackViewDesc){o=t-e;break}e=a}if(o)return this.children[r].domFromPos(o-this.children[r].border,n);for(let e;r&&!(e=this.children[r-1]).size&&e instanceof WidgetViewDesc&&0<=e.side;r--);if(n<=0){let e,t=!0;for(;(e=r?this.children[r-1]:null)&&e.dom.parentNode!=this.contentDOM;r--,t=!1);return e&&n&&t&&!e.border&&!e.domAtom?e.domFromPos(e.size,n):{node:this.contentDOM,offset:e?domIndex(e.dom)+1:0}}{let e,t=!0;for(;(e=r<this.children.length?this.children[r]:null)&&e.dom.parentNode!=this.contentDOM;r++,t=!1);return e&&t&&!e.border&&!e.domAtom?e.domFromPos(0,n):{node:this.contentDOM,offset:e?domIndex(e.dom):this.contentDOM.childNodes.length}}}parseRange(n,r,o=0){if(0==this.children.length)return{node:this.contentDOM,from:n,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,a=-1;for(let e=o,t=0;;t++){var s=this.children[t],l=e+s.size;if(-1==i&&n<=l){var c=e+s.border;if(c<=n&&r<=l-s.border&&s.node&&s.contentDOM&&this.contentDOM.contains(s.contentDOM))return s.parseRange(n,r,c);n=e;for(let e=t;0<e;e--){var u=this.children[e-1];if(u.size&&u.dom.parentNode==this.contentDOM&&!u.emptyChildAt(1)){i=domIndex(u.dom)+1;break}n-=u.size}-1==i&&(i=0)}if(-1<i&&(r<l||t==this.children.length-1)){r=l;for(let e=t+1;e<this.children.length;e++){var d=this.children[e];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){a=domIndex(d.dom);break}r+=d.size}-1==a&&(a=this.contentDOM.childNodes.length);break}e=l}return{node:this.contentDOM,from:n,to:r,fromOffset:i,toOffset:a}}emptyChildAt(e){var t;return!(this.border||!this.contentDOM||!this.children.length)&&(0==(t=this.children[e<0?0:this.children.length-1]).size||t.emptyChildAt(e))}domAfterPos(e){var{node:t,offset:n}=this.domFromPos(e,0);if(1!=t.nodeType||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(n,r,o,i=!1){var a=Math.min(n,r),s=Math.max(n,r);for(let e=0,t=0;e<this.children.length;e++){var l=this.children[e],c=t+l.size;if(a>t&&s<c)return l.setSelection(n-t-l.border,r-t-l.border,o,i);t=c}let u=this.domFromPos(n,n?-1:1),d=r==n?u:this.domFromPos(r,r?-1:1);var t=o.getSelection();let p=!1;if((gecko||safari)&&n==r){var{node:f,offset:h}=u;if(3==f.nodeType){if((p=!(!h||"\n"!=f.nodeValue[h-1]))&&h==f.nodeValue.length)for(let e=f,t;e;e=e.parentNode){if(t=e.nextSibling){"BR"==t.nodeName&&(u=d={node:t.parentNode,offset:domIndex(t)+1});break}var m=e.pmViewDesc;if(m&&m.node&&m.node.isBlock)break}}else{var f=f.childNodes[h-1];p=f&&("BR"==f.nodeName||"false"==f.contentEditable)}}if((i=gecko&&t.focusNode&&t.focusNode!=d.node&&1==t.focusNode.nodeType&&(h=t.focusNode.childNodes[t.focusOffset])&&"false"==h.contentEditable?!0:i)||p&&safari||!isEquivalentPosition(u.node,u.offset,t.anchorNode,t.anchorOffset)||!isEquivalentPosition(d.node,d.offset,t.focusNode,t.focusOffset)){let e=!1;if((t.extend||n==r)&&!p){t.collapse(u.node,u.offset);try{n!=r&&t.extend(d.node,d.offset),e=!0}catch(e){}}e||(r<n&&(f=u,u=d,d=f),(h=document.createRange()).setEnd(d.node,d.offset),h.setStart(u.node,u.offset),t.removeAllRanges(),t.addRange(h))}}ignoreMutation(e){return!this.contentDOM&&"selection"!=e.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(n,r){for(let e=0,t=0;t<this.children.length;t++){var o=this.children[t],i=e+o.size;if(e==i?n<=i&&r>=e:n<i&&r>e){var a=e+o.border,s=i-o.border;if(a<=n&&r<=s)return this.dirty=n==e||r==i?CONTENT_DIRTY:CHILD_DIRTY,void(n!=a||r!=s||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(n-a,r-a):o.dirty=NODE_DIRTY);o.dirty=o.dom!=o.contentDOM||o.dom.parentNode!=this.contentDOM||o.children.length?NODE_DIRTY:CONTENT_DIRTY}e=i}this.dirty=CONTENT_DIRTY}markParentsDirty(){let t=1;for(let e=this.parent;e;e=e.parent,t++){var n=1==t?CONTENT_DIRTY:CHILD_DIRTY;e.dirty<n&&(e.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class WidgetViewDesc extends ViewDesc{constructor(e,t,n,r){let o,i=t.type.toDOM;"function"==typeof i&&(i=i(n,()=>o?o.parent?o.parent.posBeforeChild(o):void 0:r)),t.type.spec.raw||(1!=i.nodeType&&((n=document.createElement("span")).appendChild(i),i=n),i.contentEditable="false",i.classList.add("ProseMirror-widget")),super(e,[],i,null),this.widget=t,this.widget=t,o=this}matchesWidget(e){return this.dirty==NOT_DIRTY&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){var t=this.widget.spec.stopEvent;return!!t&&t(e)}ignoreMutation(e){return"selection"!=e.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class CompositionViewDesc extends ViewDesc{constructor(e,t,n,r){super(e,[],t,null),this.textDOM=n,this.text=r}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue}}class MarkViewDesc extends ViewDesc{constructor(e,t,n,r){super(e,[],n,r),this.mark=t}static create(e,t,n,r){var o=r.nodeViews[t.type.name];let i=o&&o(t,r,n);return i&&i.dom||(i=DOMSerializer.renderSpec(document,t.type.spec.toDOM(t,n))),new MarkViewDesc(e,t,i.dom,i.contentDOM||i.dom)}parseRule(){return this.dirty&NODE_DIRTY||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=NODE_DIRTY&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=NOT_DIRTY){let e=this.parent;for(;!e.node;)e=e.parent;e.dirty<this.dirty&&(e.dirty=this.dirty),this.dirty=NOT_DIRTY}}slice(e,t,n){var r=MarkViewDesc.create(this.parent,this.mark,!0,n);let o=this.children,i=this.size;t<i&&(o=replaceNodes(o,t,i,n)),0<e&&(o=replaceNodes(o,0,e,n));for(let e=0;e<o.length;e++)o[e].parent=r;return r.children=o,r}}class NodeViewDesc extends ViewDesc{constructor(e,t,n,r,o,i,a,s,l){super(e,[],o,i),this.node=t,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=a}static create(e,t,n,r,o,i){let a=o.nodeViews[t.type.name],s;var l=a&&a(t,o,()=>s?s.parent?s.parent.posBeforeChild(s):void 0:i,n,r);let c=l&&l.dom,u=l&&l.contentDOM;if(t.isText)if(c){if(3!=c.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else c=document.createTextNode(t.text);else c||({dom:c,contentDOM:u}=DOMSerializer.renderSpec(document,t.type.spec.toDOM(t)));u||t.isText||"BR"==c.nodeName||(c.hasAttribute("contenteditable")||(c.contentEditable="false"),t.type.spec.draggable&&(c.draggable=!0));var d=c;return c=applyOuterDeco(c,n,t),l?s=new CustomNodeViewDesc(e,t,n,r,c,u||null,d,l,o,i+1):t.isText?new TextViewDesc(e,t,n,r,c,d,o):new NodeViewDesc(e,t,n,r,c,u||null,d,o,i+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;var t={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(t.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let e=this.children.length-1;0<=e;e--){var n=this.children[e];if(this.dom.contains(n.dom.parentNode)){t.contentElement=n.dom.parentNode;break}}t.contentElement||(t.getContent=()=>Fragment.empty)}else t.contentElement=this.contentDOM;else t.getContent=()=>this.node.content;return t}matchesNode(e,t,n){return this.dirty==NOT_DIRTY&&e.eq(this.node)&&sameOuterDeco(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(i,e){let a=this.node.inlineContent,s=e,l=i.composing?this.localCompositionInfo(i,e):null;e=l&&-1<l.pos?l:null;let c=l&&l.pos<0,u=new ViewTreeUpdater(this,e&&e.node,i);iterDeco(this.node,this.innerDeco,(e,t,n)=>{e.spec.marks?u.syncToMarks(e.spec.marks,a,i):0<=e.type.side&&!n&&u.syncToMarks(t==this.node.childCount?Mark.none:this.node.child(t).marks,a,i),u.placeWidget(e,i,s)},(e,t,n,r)=>{u.syncToMarks(e.marks,a,i);let o;u.findNodeMatch(e,t,n,r)||c&&i.state.selection.from>s&&i.state.selection.to<s+e.nodeSize&&-1<(o=u.findIndexWithChild(l.node))&&u.updateNodeAt(e,t,n,o,i)||u.updateNextNode(e,t,n,i,r,s)||u.addNode(e,t,n,i,s),s+=e.nodeSize}),u.syncToMarks([],a,i),this.node.isTextblock&&u.addTextblockHacks(),u.destroyRest(),(u.changed||this.dirty==CONTENT_DIRTY)&&(e&&this.protectLocalComposition(i,e),renderDescs(this.contentDOM,this.children,i),ios)&&iosHacks(this.dom)}localCompositionInfo(e,t){var n,{from:r,to:o}=e.state.selection;return!(!(e.state.selection instanceof TextSelection)||r<t||o>t+this.node.content.size)&&(e=nearbyTextNode((e=e.domSelectionRange()).focusNode,e.focusOffset))&&this.dom.contains(e.parentNode)?this.node.inlineContent?(n=e.nodeValue,(r=findTextInFragment(this.node.content,n,r-t,o-t))<0?null:{node:e,pos:r,text:n}):{node:e,pos:-1,text:""}:null}protectLocalComposition(t,{node:n,pos:r,text:o}){if(!this.getDesc(n)){let e=n;for(;e.parentNode!=this.contentDOM;e=e.parentNode){for(;e.previousSibling;)e.parentNode.removeChild(e.previousSibling);for(;e.nextSibling;)e.parentNode.removeChild(e.nextSibling);e.pmViewDesc&&(e.pmViewDesc=void 0)}n=new CompositionViewDesc(this,e,n,o);t.input.compositionNodes.push(n),this.children=replaceNodes(this.children,r,r+o.length,t,n)}}update(e,t,n,r){return!(this.dirty==NODE_DIRTY||!e.sameMarkup(this.node)||(this.updateInner(e,t,n,r),0))}updateInner(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=NOT_DIRTY}updateOuterDeco(e){var t,n;sameOuterDeco(e,this.outerDeco)||(t=1!=this.nodeDOM.nodeType,n=this.dom,this.dom=patchOuterDeco(this.dom,this.nodeDOM,computeOuterDeco(this.outerDeco,this.node,t),computeOuterDeco(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e)}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function docViewDesc(e,t,n,r,o){applyOuterDeco(r,t,e);e=new NodeViewDesc(void 0,e,t,n,r,r,r,o,0);return e.contentDOM&&e.updateChildren(o,0),e}class TextViewDesc extends NodeViewDesc{constructor(e,t,n,r,o,i,a){super(e,t,n,r,o,null,i,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,r){return!(this.dirty==NODE_DIRTY||this.dirty!=NOT_DIRTY&&!this.inParent()||!e.sameMarkup(this.node)||(this.updateOuterDeco(t),this.dirty==NOT_DIRTY&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=NOT_DIRTY,0))}inParent(){var t=this.parent.contentDOM;for(let e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return"characterData"!=e.type&&"selection"!=e.type}slice(e,t,n){e=this.node.cut(e,t),t=document.createTextNode(e.text);return new TextViewDesc(this.parent,e,this.outerDeco,this.innerDeco,t,t,n)}markDirty(e,t){super.markDirty(e,t),this.dom==this.nodeDOM||0!=e&&t!=this.nodeDOM.nodeValue.length||(this.dirty=NODE_DIRTY)}get domAtom(){return!1}}class TrailingHackViewDesc extends ViewDesc{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==NOT_DIRTY&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class CustomNodeViewDesc extends NodeViewDesc{constructor(e,t,n,r,o,i,a,s,l,c){super(e,t,n,r,o,i,a,l,c),this.spec=s}update(e,t,n,r){var o;return this.dirty!=NODE_DIRTY&&(this.spec.update?((o=this.spec.update(e,t,n))&&this.updateInner(e,t,n,r),o):!(!this.contentDOM&&!e.isLeaf)&&super.update(e,t,n,r))}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,r){this.spec.setSelection?this.spec.setSelection(e,t,n):super.setSelection(e,t,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function renderDescs(t,n,r){let o=t.firstChild,i=!1;for(let e=0;e<n.length;e++){var a,s=n[e],l=s.dom;if(l.parentNode==t){for(;l!=o;)o=rm(o),i=!0;o=o.nextSibling}else i=!0,t.insertBefore(l,o);s instanceof MarkViewDesc&&(a=o?o.previousSibling:t.lastChild,renderDescs(s.contentDOM,s.children,r),o=a?a.nextSibling:t.firstChild)}for(;o;)o=rm(o),i=!0;i&&r.trackWrites==t&&(r.trackWrites=null)}const OuterDecoLevel=function(e){e&&(this.nodeName=e)},noDeco=(OuterDecoLevel.prototype=Object.create(null),[new OuterDecoLevel]);function computeOuterDeco(t,n,r){if(0==t.length)return noDeco;let o=r?noDeco[0]:new OuterDecoLevel,i=[o];for(let e=0;e<t.length;e++){var a=t[e].type.attrs;if(a)for(var s in a.nodeName&&i.push(o=new OuterDecoLevel(a.nodeName)),a){var l=a[s];null!=l&&(r&&1==i.length&&i.push(o=new OuterDecoLevel(n.isInline?"span":"div")),"class"==s?o.class=(o.class?o.class+" ":"")+l:"style"==s?o.style=(o.style?o.style+";":"")+l:"nodeName"!=s&&(o[s]=l))}}return i}function patchOuterDeco(r,e,o,i){if(o==noDeco&&i==noDeco)return e;let a=e;for(let e=0;e<i.length;e++){let t=i[e],n=o[e];if(e){let e;a=(n&&n.nodeName==t.nodeName&&a!=r&&(e=a.parentNode)&&e.nodeName.toLowerCase()==t.nodeName||((e=document.createElement(t.nodeName)).pmIsDeco=!0,e.appendChild(a),n=noDeco[0]),e)}patchAttributes(a,n||noDeco[0],t)}return a}function patchAttributes(t,e,n){for(var r in e)"class"==r||"style"==r||"nodeName"==r||r in n||t.removeAttribute(r);for(var o in n)"class"!=o&&"style"!=o&&"nodeName"!=o&&n[o]!=e[o]&&t.setAttribute(o,n[o]);if(e.class!=n.class){var i=e.class?e.class.split(" ").filter(Boolean):[],a=n.class?n.class.split(" ").filter(Boolean):[];for(let e=0;e<i.length;e++)-1==a.indexOf(i[e])&&t.classList.remove(i[e]);for(let e=0;e<a.length;e++)-1==i.indexOf(a[e])&&t.classList.add(a[e]);0==t.classList.length&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style)for(var s,l=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;s=l.exec(e.style);)t.style.removeProperty(s[1]);n.style&&(t.style.cssText+=n.style)}}function applyOuterDeco(e,t,n){return patchOuterDeco(e,e,noDeco,computeOuterDeco(t,n,1!=e.nodeType))}function sameOuterDeco(t,n){if(t.length!=n.length)return!1;for(let e=0;e<t.length;e++)if(!t[e].type.eq(n[e].type))return!1;return!0}function rm(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}class ViewTreeUpdater{constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=preMatch(e.node.content,e)}destroyBetween(t,n){if(t!=n){for(let e=t;e<n;e++)this.top.children[e].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(n,e,r){let t=0,o=this.stack.length>>1;for(var i,a=Math.min(o,n.length);t<a&&(t==o-1?this.top:this.stack[t+1<<1]).matchesMark(n[t])&&!1!==n[t].type.spec.spanning;)t++;for(;t<o;)this.destroyRest(),this.top.dirty=NOT_DIRTY,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<n.length;){this.stack.push(this.top,this.index+1);let t=-1;for(let e=this.index;e<Math.min(this.index+3,this.top.children.length);e++){var s=this.top.children[e];if(s.matchesMark(n[o])&&!this.isLocked(s.dom)){t=e;break}}-1<t?(t>this.index&&(this.changed=!0,this.destroyBetween(this.index,t)),this.top=this.top.children[this.index]):(i=MarkViewDesc.create(this.top,n[o],e,r),this.top.children.splice(this.index,0,i),this.top=i,this.changed=!0),this.index=0,o++}}findNodeMatch(n,r,o,e){let i=-1,t;if(e>=this.preMatch.index&&(t=this.preMatch.matches[e-this.preMatch.index]).parent==this.top&&t.matchesNode(n,r,o))i=this.top.children.indexOf(t,this.index);else for(let e=this.index,t=Math.min(this.top.children.length,e+5);e<t;e++){var a=this.top.children[e];if(a.matchesNode(n,r,o)&&!this.preMatch.matched.has(a)){i=e;break}}return!(i<0||(this.destroyBetween(this.index,i),this.index++,0))}updateNodeAt(e,t,n,r,o){var i=this.top.children[r];return i.dirty==NODE_DIRTY&&i.dom==i.contentDOM&&(i.dirty=CONTENT_DIRTY),!!i.update(e,t,n,o)&&(this.destroyBetween(this.index,r),this.index++,!0)}findIndexWithChild(e){for(;;){var t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){var n=e.pmViewDesc;if(n)for(let e=this.index;e<this.top.children.length;e++)if(this.top.children[e]==n)return e;return-1}e=t}}updateNextNode(r,o,i,a,s,l){for(let n=this.index;n<this.top.children.length;n++){var c=this.top.children[n];if(c instanceof NodeViewDesc){var u=this.preMatch.matched.get(c);if(null!=u&&u!=s)return!1;let e=c.dom,t;u=this.isLocked(e)&&!(r.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==r.text&&c.dirty!=NODE_DIRTY&&sameOuterDeco(o,c.outerDeco));if(!u&&c.update(r,o,i,a))return this.destroyBetween(this.index,n),c.dom!=e&&(this.changed=!0),this.index++,!0;if(!u&&(t=this.recreateWrapper(c,r,o,i,a,l)))return(this.top.children[this.index]=t).dirty=CONTENT_DIRTY,t.updateChildren(a,l+1),t.dirty=NOT_DIRTY,this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,n,r,o,i){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content))return null;var a,s=NodeViewDesc.create(this.top,t,n,r,o,i);if(!s.contentDOM)return null;s.children=e.children,e.children=[],e.destroy();for(a of s.children)a.parent=s;return s}addNode(e,t,n,r,o){e=NodeViewDesc.create(this.top,e,t,n,r,o);e.contentDOM&&e.updateChildren(r,o+1),this.top.children.splice(this.index++,0,e),this.changed=!0}placeWidget(e,t,n){var r=this.index<this.top.children.length?this.top.children[this.index]:null;!r||!r.matchesWidget(e)||e!=r.widget&&r.widget.type.toDOM.parentNode?(r=new WidgetViewDesc(this.top,e,t,n),this.top.children.splice(this.index++,0,r),this.changed=!0):this.index++}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof MarkViewDesc;)e=(t=e).children[t.children.length-1];(!(e&&e instanceof TextViewDesc)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((safari||chrome)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){var n;t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e)?this.index++:(n=document.createElement(e),"IMG"==e&&(n.className="ProseMirror-separator",n.alt=""),"BR"==e&&(n.className="ProseMirror-trailingBreak"),e=new TrailingHackViewDesc(this.top,[],n,null),t!=this.top?t.children.push(e):t.children.splice(this.index++,0,e),this.changed=!0)}isLocked(e){return this.lock&&(e==this.lock||1==e.nodeType&&e.contains(this.lock.parentNode))}}function preMatch(t,n){let r=n,o=r.children.length,i=t.childCount,a=new Map,s=[];e:for(;0<i;){let e;for(;;)if(o){var l=r.children[o-1];if(!(l instanceof MarkViewDesc)){e=l,o--;break}r=l,o=l.children.length}else{if(r==n)break e;o=r.parent.children.indexOf(r),r=r.parent}var c=e.node;if(c){if(c!=t.child(i-1))break;--i,a.set(e,i),s.push(e)}}return{index:i,matched:a,matches:s.reverse()}}function compareSide(e,t){return e.type.side-t.type.side}function iterDeco(t,l,c,u){let d=l.locals(t),p=0;if(0==d.length)for(let e=0;e<t.childCount;e++){var n=t.child(e);u(n,d,l.forChild(p,n),e),p+=n.nodeSize}else{let i=0,a=[],s=null;for(let o=0;;){if(i<d.length&&d[i].to==p){let e=d[i++],t;for(;i<d.length&&d[i].to==p;)(t=t||[e]).push(d[i++]);if(t){t.sort(compareSide);for(let e=0;e<t.length;e++)c(t[e],o,!!s)}else c(e,o,!!s)}let e,n;if(s)n=-1,e=s,s=null;else{if(!(o<t.childCount))break;n=o,e=t.child(o++)}for(let e=0;e<a.length;e++)a[e].to<=p&&a.splice(e--,1);for(;i<d.length&&d[i].from<=p&&d[i].to>p;)a.push(d[i++]);let r=p+e.nodeSize;if(e.isText){let t=r;i<d.length&&d[i].from<t&&(t=d[i].from);for(let e=0;e<a.length;e++)a[e].to<t&&(t=a[e].to);t<r&&(s=e.cut(t-p),e=e.cut(0,t-p),r=t,n=-1)}var f=e.isInline&&!e.isLeaf?a.filter(e=>!e.inline):a.slice();u(e,f,l.forChild(p,e),n),p=r}}}function iosHacks(e){var t;"UL"!=e.nodeName&&"OL"!=e.nodeName||(t=e.style.cssText,e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t)}function nearbyTextNode(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&0<t){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];t=nodeSize(e=e.childNodes[t-1])}else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}function findTextInFragment(r,o,i,a){for(let t=0,n=0;t<r.childCount&&n<=a;){var s=r.child(t++),l=n;if(n+=s.nodeSize,s.isText){let e=s.text;for(;t<r.childCount;){var c=r.child(t++);if(n+=c.nodeSize,!c.isText)break;e+=c.text}if(n>=i){s=l<a?e.lastIndexOf(o,a-l-1):-1;if(0<=s&&s+o.length+l>=i)return l+s;if(i==a&&e.length>=a+o.length-l&&e.slice(a-l,a-l+o.length)==o)return a}}}return-1}function replaceNodes(n,r,o,i,a){var s=[];for(let e=0,t=0;e<n.length;e++){var l=n[e],c=t,u=t+=l.size;o<=c||u<=r?s.push(l):(c<r&&s.push(l.slice(0,r-c,i)),a&&(s.push(a),a=void 0),o<u&&s.push(l.slice(o-c,l.size,i)))}return s}function selectionFromDOM(e,t=null){var n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let o=e.docView.nearestDesc(n.focusNode),i=o&&0==o.size;var a=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let s=r.resolve(a),l,c;if(selectionCollapsed(n)){for(l=s;o&&!o.node;)o=o.parent;var u=o.node;!(o&&u.isAtom&&NodeSelection.isSelectable(u)&&o.parent)||u.isInline&&isOnEdge(n.focusNode,n.focusOffset,o.dom)||(u=o.posBefore,c=new NodeSelection(a==u?s:r.resolve(u)))}else{a=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(a<0)return null;l=r.resolve(a)}return c||(u="pointer"==t||e.state.selection.head<s.pos&&!i?1:-1,c=selectionBetween(e,l,s,u)),c}function editorOwnsSelection(e){return e.editable?e.hasFocus():hasSelection(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function selectionToDOM(o,i=!1){var a=o.state.selection;if(syncNodeSelection(o,a),editorOwnsSelection(o)){if(!i&&o.input.mouseDown&&o.input.mouseDown.allowDefault&&chrome){var e=o.domSelectionRange(),t=o.domObserver.currentSelection;if(e.anchorNode&&t.anchorNode&&isEquivalentPosition(e.anchorNode,e.anchorOffset,t.anchorNode,t.anchorOffset))return o.input.mouseDown.delayedSelectionSync=!0,void o.domObserver.setCurSelection()}if(o.domObserver.disconnectSelection(),o.cursorWrapper)selectCursorWrapper(o);else{let{anchor:e,head:t}=a,n,r;!brokenSelectBetweenUneditable||a instanceof TextSelection||(a.$from.parent.inlineContent||(n=temporarilyEditableNear(o,a.from)),a.empty)||a.$from.parent.inlineContent||(r=temporarilyEditableNear(o,a.to)),o.docView.setSelection(e,t,o.root,i),brokenSelectBetweenUneditable&&(n&&resetEditable(n),r)&&resetEditable(r),a.visible?o.dom.classList.remove("ProseMirror-hideselection"):(o.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&removeClassOnSelectionChange(o))}o.domObserver.setCurSelection(),o.domObserver.connectSelection()}}const brokenSelectBetweenUneditable=safari||chrome&&chrome_version<63;function temporarilyEditableNear(e,t){var{node:e,offset:t}=e.docView.domFromPos(t,0),n=t<e.childNodes.length?e.childNodes[t]:null,e=t?e.childNodes[t-1]:null;return safari&&n&&"false"==n.contentEditable?setEditable(n):n&&"false"!=n.contentEditable||e&&"false"!=e.contentEditable?void 0:n?setEditable(n):e?setEditable(e):void 0}function setEditable(e){return e.contentEditable="true",safari&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function resetEditable(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function removeClassOnSelectionChange(e){let t=e.dom.ownerDocument,n=(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),e.domSelectionRange()),r=n.anchorNode,o=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{n.anchorNode==r&&n.anchorOffset==o||(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{editorOwnsSelection(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")},20))})}function selectCursorWrapper(e){var t=e.domSelection(),n=document.createRange(),r=e.cursorWrapper.dom,o="IMG"==r.nodeName;o?n.setEnd(r.parentNode,domIndex(r)+1):n.setEnd(r,0),n.collapse(!1),t.removeAllRanges(),t.addRange(n),!o&&!e.state.selection.visible&&ie&&ie_version<=11&&(r.disabled=!0,r.disabled=!1)}function syncNodeSelection(e,t){t instanceof NodeSelection?(t=e.docView.descAt(t.from))!=e.lastSelectedViewDesc&&(clearNodeSelection(e),t&&t.selectNode(),e.lastSelectedViewDesc=t):clearNodeSelection(e)}function clearNodeSelection(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function selectionBetween(t,n,r,e){return t.someProp("createSelectionBetween",e=>e(t,n,r))||TextSelection.between(n,r,e)}function hasFocusAndSelection(e){return!(e.editable&&!e.hasFocus())&&hasSelection(e)}function hasSelection(e){var t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(e){return!1}}function anchorInRightPlace(e){var t=e.docView.domFromPos(e.state.selection.anchor,0),e=e.domSelectionRange();return isEquivalentPosition(t.node,t.offset,e.anchorNode,e.anchorOffset)}function moveSelectionBlock(e,t){var{$anchor:n,$head:r}=e.selection,n=0<t?n.max(r):n.min(r),r=n.parent.inlineContent?n.depth?e.doc.resolve(0<t?n.after():n.before()):null:n;return r&&Selection.findFrom(r,t)}function apply(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function selectHorizontally(e,t,n){var r,o,i,a=e.state.selection;return a instanceof TextSelection?!(!a.empty||-1<n.indexOf("s"))&&(e.endOfTextblock(0<t?"forward":"backward")?!!((r=moveSelectionBlock(e.state,t))&&r instanceof NodeSelection)&&apply(e,r):mac&&-1<n.indexOf("m")?void 0:!(!(n=(r=a.$head).textOffset?null:t<0?r.nodeBefore:r.nodeAfter)||n.isText||(o=t<0?r.pos-n.nodeSize:r.pos,!(n.isAtom||(i=e.docView.descAt(o))&&!i.contentDOM)))&&(NodeSelection.isSelectable(n)?apply(e,new NodeSelection(t<0?e.state.doc.resolve(r.pos-n.nodeSize):r)):!!webkit&&apply(e,new TextSelection(e.state.doc.resolve(t<0?o:o+n.nodeSize))))):a instanceof NodeSelection&&a.node.isInline?apply(e,new TextSelection(0<t?a.$to:a.$from)):!!(i=moveSelectionBlock(e.state,t))&&apply(e,i)}function nodeLen(e){return(3==e.nodeType?e.nodeValue:e.childNodes).length}function isIgnorable(e){var t;return"false"==e.contentEditable||(t=e.pmViewDesc)&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)}function skipIgnoredNodes(e,t){return(t<0?skipIgnoredNodesBefore:skipIgnoredNodesAfter)(e)}function skipIgnoredNodesBefore(r){var e=r.domSelectionRange();let o=e.focusNode,i=e.focusOffset;if(o){let t,n,e=!1;for(gecko&&1==o.nodeType&&i<nodeLen(o)&&isIgnorable(o.childNodes[i])&&(e=!0);;)if(0<i){if(1!=o.nodeType)break;var a=o.childNodes[i-1];if(isIgnorable(a))t=o,n=--i;else{if(3!=a.nodeType)break;o=a,i=o.nodeValue.length}}else{if(isBlockNode(o))break;{let e=o.previousSibling;for(;e&&isIgnorable(e);)t=o.parentNode,n=domIndex(e),e=e.previousSibling;if(e)o=e,i=nodeLen(o);else{if((o=o.parentNode)==r.dom)break;i=0}}}e?setSelFocus(r,o,i):t&&setSelFocus(r,t,n)}}function skipIgnoredNodesAfter(o){var e=o.domSelectionRange();let i=e.focusNode,a=e.focusOffset;if(i){let t=nodeLen(i),n,r;for(;;)if(a<t){if(1!=i.nodeType)break;if(!isIgnorable(i.childNodes[a]))break;n=i,r=++a}else{if(isBlockNode(i))break;{let e=i.nextSibling;for(;e&&isIgnorable(e);)n=e.parentNode,r=domIndex(e)+1,e=e.nextSibling;if(e)i=e,a=0,t=nodeLen(i);else{if((i=i.parentNode)==o.dom)break;a=t=0}}}n&&setSelFocus(o,n,r)}}function isBlockNode(e){e=e.pmViewDesc;return e&&e.node&&e.node.isBlock}function textNodeAfter(e,t){for(;e&&t==e.childNodes.length&&!hasBlockDesc(e);)t=domIndex(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){if(3==(e=e.childNodes[t]).nodeType)return e;t=0}}function textNodeBefore(e,t){for(;e&&!t&&!hasBlockDesc(e);)t=domIndex(e),e=e.parentNode;for(;e&&t;){if(3==(e=e.childNodes[t-1]).nodeType)return e;t=e.childNodes.length}}function setSelFocus(e,t,n){3!=t.nodeType&&((o=textNodeAfter(t,n))?(t=o,n=0):(o=textNodeBefore(t,n))&&(n=(t=o).nodeValue.length));var r,o=e.domSelection();selectionCollapsed(o)?((r=document.createRange()).setEnd(t,n),r.setStart(t,n),o.removeAllRanges(),o.addRange(r)):o.extend&&o.extend(t,n),e.domObserver.setCurSelection();let i=e["state"];setTimeout(()=>{e.state==i&&selectionToDOM(e)},50)}function findDirection(e,t){var n=e.state.doc.resolve(t);if(!chrome&&!windows&&n.parent.inlineContent){var r=e.coordsAtPos(t);if(t>n.start()){var o=e.coordsAtPos(t-1),i=(o.top+o.bottom)/2;if(i>r.top&&i<r.bottom&&1<Math.abs(o.left-r.left))return o.left<r.left?"ltr":"rtl"}if(t<n.end()){i=e.coordsAtPos(t+1),o=(i.top+i.bottom)/2;if(o>r.top&&o<r.bottom&&1<Math.abs(i.left-r.left))return i.left>r.left?"ltr":"rtl"}}return"rtl"==getComputedStyle(e.dom).direction?"rtl":"ltr"}function selectVertically(e,t,n){var r=e.state.selection;if(r instanceof TextSelection&&!r.empty||-1<n.indexOf("s"))return!1;if(mac&&-1<n.indexOf("m"))return!1;var{$from:n,$to:o}=r;if(!n.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){var i=moveSelectionBlock(e.state,t);if(i&&i instanceof NodeSelection)return apply(e,i)}return!n.parent.inlineContent&&(i=t<0?n:o,!!(n=r instanceof AllSelection?Selection.near(i,t):Selection.findFrom(i,t)))&&apply(e,n)}function stopNativeHorizontalDelete(e,t){var n,r,o;return!(e.state.selection instanceof TextSelection&&({$head:n,$anchor:r,empty:o}=e.state.selection,n.sameParent(r))&&(!o||!e.endOfTextblock(0<t?"forward":"backward")&&(!(r=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter))||r.isText||(o=e.state.tr,t<0?o.delete(n.pos-r.nodeSize,n.pos):o.delete(n.pos,n.pos+r.nodeSize),e.dispatch(o),0))))}function switchEditable(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function safariDownArrowBug(t){if(safari&&!(0<t.state.selection.$head.parentOffset)){var{focusNode:n,focusOffset:e}=t.domSelectionRange();if(n&&1==n.nodeType&&0==e&&n.firstChild&&"false"==n.firstChild.contentEditable){let e=n.firstChild;switchEditable(t,e,"true"),setTimeout(()=>switchEditable(t,e,"false"),20)}}return!1}function getMods(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function captureKeyDown(e,t){var n=t.keyCode,r=getMods(t);return 8==n||mac&&72==n&&"c"==r?stopNativeHorizontalDelete(e,-1)||skipIgnoredNodes(e,-1):46==n&&!t.shiftKey||mac&&68==n&&"c"==r?stopNativeHorizontalDelete(e,1)||skipIgnoredNodes(e,1):13==n||27==n||(37==n||mac&&66==n&&"c"==r?selectHorizontally(e,t=37!=n||"ltr"==findDirection(e,e.state.selection.from)?-1:1,r)||skipIgnoredNodes(e,t):39==n||mac&&70==n&&"c"==r?selectHorizontally(e,t=39!=n||"ltr"==findDirection(e,e.state.selection.from)?1:-1,r)||skipIgnoredNodes(e,t):38==n||mac&&80==n&&"c"==r?selectVertically(e,-1,r)||skipIgnoredNodes(e,-1):40==n||mac&&78==n&&"c"==r?safariDownArrowBug(e)||selectVertically(e,1,r)||skipIgnoredNodesAfter(e):r==(mac?"m":"c")&&(66==n||73==n||89==n||90==n))}function serializeForClipboard(t,n){t.someProp("transformCopied",e=>{n=e(n,t)});let e=[],{content:r,openStart:o,openEnd:i}=n;for(;1<o&&1<i&&1==r.childCount&&1==r.firstChild.childCount;){o--,i--;var a=r.firstChild;e.push(a.type.name,a.attrs!=a.type.defaultAttrs?a.attrs:null),r=a.content}var s=t.someProp("clipboardSerializer")||DOMSerializer.fromSchema(t.state.schema),l=detachedDoc(),c=l.createElement("div");c.appendChild(s.serializeFragment(r,{document:l}));let u=c.firstChild,d,p=0;for(;u&&1==u.nodeType&&(d=wrapMap[u.nodeName.toLowerCase()]);){for(let e=d.length-1;0<=e;e--){for(var f=l.createElement(d[e]);c.firstChild;)f.appendChild(c.firstChild);c.appendChild(f),p++}u=c.firstChild}return u&&1==u.nodeType&&u.setAttribute("data-pm-slice",`${o} ${i}${p?" -"+p:""} `+JSON.stringify(e)),{dom:c,text:t.someProp("clipboardTextSerializer",e=>e(n,t))||n.content.textBetween(0,n.content.size,"\n\n")}}function parseFromClipboard(t,i,n,r,a){let o=a.parent.type.spec.code,s,l;if(!n&&!i)return null;var e=i&&(r||o||!n);if(e){if(t.someProp("transformPastedText",e=>{i=e(i,o||r,t)}),o)return i?new Slice(Fragment.from(t.state.schema.text(i.replace(/\r\n?/g,"\n"))),0,0):Slice.empty;var c=t.someProp("clipboardTextParser",e=>e(i,a,r,t));if(c)l=c;else{let n=a.marks(),r=t.state["schema"],o=DOMSerializer.fromSchema(r);s=document.createElement("div"),i.split(/(?:\r\n?|\n)+/).forEach(e=>{var t=s.appendChild(document.createElement("p"));e&&t.appendChild(o.serializeNode(r.text(e,n)))})}}else t.someProp("transformPastedHTML",e=>{n=e(n,t)}),s=readHTML(n),webkit&&restoreReplacedSpaces(s);var u,c=s&&s.querySelector("[data-pm-slice]"),c=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let e=+c[3];0<e;e--){let e=s.firstChild;for(;e&&1!=e.nodeType;)e=e.nextSibling;if(!e)break;s=e}if(l||(u=t.someProp("clipboardParser")||t.someProp("domParser")||DOMParser$1.fromSchema(t.state.schema),l=u.parseSlice(s,{preserveWhitespace:!(!e&&!c),context:a,ruleFromNode(e){return"BR"!=e.nodeName||e.nextSibling||!e.parentNode||inlineParents.test(e.parentNode.nodeName)?null:{ignore:!0}}})),c)l=addContext(closeSlice(l,+c[1],+c[2]),c[4]);else if((l=Slice.maxOpen(normalizeSiblings(l.content,a),!0)).openStart||l.openEnd){let t=0,n=0;for(let e=l.content.firstChild;t<l.openStart&&!e.type.spec.isolating;t++,e=e.firstChild);for(let e=l.content.lastChild;n<l.openEnd&&!e.type.spec.isolating;n++,e=e.lastChild);l=closeSlice(l,t,n)}return t.someProp("transformPasted",e=>{l=e(l,t)}),l}const inlineParents=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function normalizeSiblings(t,n){if(!(t.childCount<2))for(let e=n.depth;0<=e;e--){let r=n.node(e).contentMatchAt(n.index(e)),o,i=[];if(t.forEach(e=>{var t,n;if(i)return(t=r.findWrapping(e.type))?void((n=i.length&&o.length&&addToSibling(t,o,e,i[i.length-1],0))?i[i.length-1]=n:(i.length&&(i[i.length-1]=closeRight(i[i.length-1],o.length)),n=withWrappers(e,t),i.push(n),r=r.matchType(n.type),o=t)):i=null}),i)return Fragment.from(i)}return t}function withWrappers(t,n,r=0){for(let e=n.length-1;e>=r;e--)t=n[e].create(null,Fragment.from(t));return t}function addToSibling(e,t,n,r,o){if(o<e.length&&o<t.length&&e[o]==t[o])return(t=addToSibling(e,t,n,r.lastChild,o+1))?r.copy(r.content.replaceChild(r.childCount-1,t)):r.contentMatchAt(r.childCount).matchType(o==e.length-1?n.type:e[o+1])?r.copy(r.content.append(Fragment.from(withWrappers(n,e,o+1)))):void 0}function closeRight(e,t){var n;return 0==t?e:(t=e.content.replaceChild(e.childCount-1,closeRight(e.lastChild,t-1)),n=e.contentMatchAt(e.childCount).fillBefore(Fragment.empty,!0),e.copy(t.append(n)))}function closeRange(e,t,n,r,o,i){let a=t<0?e.firstChild:e.lastChild,s=a.content;return 1<e.childCount&&(i=0),o<r-1&&(s=closeRange(s,t,n,r,o+1,i)),n<=o&&(s=t<0?a.contentMatchAt(0).fillBefore(s,i<=o).append(s):s.append(a.contentMatchAt(a.childCount).fillBefore(Fragment.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,a.copy(s))}function closeSlice(e,t,n){return e=n<(e=t<e.openStart?new Slice(closeRange(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd):e).openEnd?new Slice(closeRange(e.content,1,n,e.openEnd,0,0),e.openStart,n):e}const wrapMap={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let _detachedDoc=null;function detachedDoc(){return _detachedDoc=_detachedDoc||document.implementation.createHTMLDocument("title")}function readHTML(e){var t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=detachedDoc().createElement("div");var r,t=/<([a-z][^>\s]+)/i.exec(e);if((r=t&&wrapMap[t[1].toLowerCase()])&&(e=r.map(e=>"<"+e+">").join("")+e+r.map(e=>"</"+e+">").reverse().join("")),n.innerHTML=e,r)for(let e=0;e<r.length;e++)n=n.querySelector(r[e])||n;return n}function restoreReplacedSpaces(t){var n=t.querySelectorAll(chrome?"span:not([class]):not([style])":"span.Apple-converted-space");for(let e=0;e<n.length;e++){var r=n[e];1==r.childNodes.length&&""==r.textContent&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function addContext(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch(e){return t}let{content:o,openStart:i,openEnd:a}=t;for(let e=r.length-2;0<=e;e-=2){var s=n.nodes[r[e]];if(!s||s.hasRequiredAttrs())break;o=Fragment.from(s.create(r[e+1],o)),i++,a++}return new Slice(o,i,a)}const handlers={},editHandlers={},passiveHandlers={touchstart:!0,touchmove:!0};class InputState{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function initInput(n){for(var e in handlers){let t=handlers[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=e=>{!eventBelongsToView(n,e)||runCustomHandler(n,e)||!n.editable&&e.type in editHandlers||t(n,e)},passiveHandlers[e]?{passive:!0}:void 0)}safari&&n.dom.addEventListener("input",()=>null),ensureListeners(n)}function setSelectionOrigin(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function destroyInput(e){for(var t in e.domObserver.stop(),e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function ensureListeners(n){n.someProp("handleDOMEvents",e=>{for(var t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=e=>runCustomHandler(n,e))})}function runCustomHandler(t,n){return t.someProp("handleDOMEvents",e=>{e=e[n.type];return!!e&&(e(t,n)||n.defaultPrevented)})}function eventBelongsToView(t,n){if(n.bubbles){if(n.defaultPrevented)return!1;for(let e=n.target;e!=t.dom;e=e.parentNode)if(!e||11==e.nodeType||e.pmViewDesc&&e.pmViewDesc.stopEvent(n))return!1}return!0}function dispatchEvent(e,t){runCustomHandler(e,t)||!handlers[t.type]||!e.editable&&t.type in editHandlers||handlers[t.type](e,t)}function eventCoords(e){return{left:e.clientX,top:e.clientY}}function isNear(e,t){var n=t.x-e.clientX,t=t.y-e.clientY;return n*n+t*t<100}function runHandlerOnContext(r,e,o,t,i){if(-1!=t){let n=r.state.doc.resolve(t);for(let t=n.depth+1;0<t;t--)if(r.someProp(e,e=>t>n.depth?e(r,o,n.nodeAfter,n.before(t),i,!0):e(r,o,n.node(t),n.before(t),i,!1)))return!0}return!1}function updateSelection(e,t,n){e.focused||e.focus();t=e.state.tr.setSelection(t);"pointer"==n&&t.setMeta("pointer",!0),e.dispatch(t)}function selectClickedLeaf(e,t){var n;return-1!=t&&!!((n=(t=e.state.doc.resolve(t)).nodeAfter)&&n.isAtom&&NodeSelection.isSelectable(n))&&(updateSelection(e,new NodeSelection(t),"pointer"),!0)}function selectClickedNode(e,t){if(-1==t)return!1;let n=e.state.selection,r,o;n instanceof NodeSelection&&(r=n.node);var i=e.state.doc.resolve(t);for(let e=i.depth+1;0<e;e--){var a=e>i.depth?i.nodeAfter:i.node(e);if(NodeSelection.isSelectable(a)){o=r&&0<n.$from.depth&&e>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?i.before(n.$from.depth):i.before(e);break}}return null!=o&&(updateSelection(e,NodeSelection.create(e.state.doc,o),"pointer"),!0)}function handleSingleClick(t,n,e,r,o){return runHandlerOnContext(t,"handleClickOn",n,e,r)||t.someProp("handleClick",e=>e(t,n,r))||(o?selectClickedNode:selectClickedLeaf)(t,e)}function handleDoubleClick(t,n,e,r){return runHandlerOnContext(t,"handleDoubleClickOn",n,e,r)||t.someProp("handleDoubleClick",e=>e(t,n,r))}function handleTripleClick(t,n,e,r){return runHandlerOnContext(t,"handleTripleClickOn",n,e,r)||t.someProp("handleTripleClick",e=>e(t,n,r))||defaultTripleClick(t,e,r)}function defaultTripleClick(t,e,n){if(0!=n.button)return!1;var r=t.state.doc;if(-1==e)return!!r.inlineContent&&(updateSelection(t,TextSelection.create(r,0,r.content.size),"pointer"),!0);var o=r.resolve(e);for(let e=o.depth+1;0<e;e--){var i=e>o.depth?o.nodeAfter:o.node(e),a=o.before(e);if(i.inlineContent)updateSelection(t,TextSelection.create(r,a+1,a+1+i.content.size),"pointer");else{if(!NodeSelection.isSelectable(i))continue;updateSelection(t,NodeSelection.create(r,a),"pointer")}return!0}}function forceDOMFlush(e){return endComposition(e)}editHandlers.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=16==n.keyCode||n.shiftKey,!inOrNearComposition(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!android||!chrome||13!=n.keyCode))if(229!=n.keyCode&&t.domObserver.forceFlush(),!ios||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)t.someProp("handleKeyDown",e=>e(t,n))||captureKeyDown(t,n)?n.preventDefault():setSelectionOrigin(t,"key");else{let e=Date.now();t.input.lastIOSEnter=e,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==e&&(t.someProp("handleKeyDown",e=>e(t,keyEvent(13,"Enter"))),t.input.lastIOSEnter=0)},200)}},editHandlers.keyup=(e,t)=>{16==t.keyCode&&(e.input.shiftKey=!1)},editHandlers.keypress=(r,e)=>{let o=e;if(!(inOrNearComposition(r,o)||!o.charCode||o.ctrlKey&&!o.altKey||mac&&o.metaKey))if(r.someProp("handleKeyPress",e=>e(r,o)))o.preventDefault();else{let n=r.state.selection;if(!(n instanceof TextSelection&&n.$from.sameParent(n.$to))){let t=String.fromCharCode(o.charCode);/[\r\n]/.test(t)||r.someProp("handleTextInput",e=>e(r,n.$from.pos,n.$to.pos,t))||r.dispatch(r.state.tr.insertText(t).scrollIntoView()),o.preventDefault()}}};const selectNodeModifier=mac?"metaKey":"ctrlKey";handlers.mousedown=(e,t)=>{e.input.shiftKey=t.shiftKey;var n=forceDOMFlush(e);let r=Date.now(),o="singleClick";r-e.input.lastClick.time<500&&isNear(t,e.input.lastClick)&&!t[selectNodeModifier]&&("singleClick"==e.input.lastClick.type?o="doubleClick":"doubleClick"==e.input.lastClick.type&&(o="tripleClick")),e.input.lastClick={time:r,x:t.clientX,y:t.clientY,type:o};var i=e.posAtCoords(eventCoords(t));i&&("singleClick"==o?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new MouseDown(e,i,t,!!n)):("doubleClick"==o?handleDoubleClick:handleTripleClick)(e,i.pos,i.inside,t)?t.preventDefault():setSelectionOrigin(e,"pointer"))};class MouseDown{constructor(e,t,n,r){this.view=e,this.pos=t,this.event=n,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[selectNodeModifier],this.allowDefault=n.shiftKey;let o,i;i=-1<t.inside?(o=e.state.doc.nodeAt(t.inside),t.inside):(t=e.state.doc.resolve(t.pos),o=t.parent,t.depth?t.before():0);t=r?null:n.target,r=t?e.docView.nearestDesc(t,!0):null,this.target=r?r.dom:null,t=e.state.selection;(0==n.button&&o.type.spec.draggable&&!1!==o.type.spec.selectable||t instanceof NodeSelection&&t.from<=i&&t.to>i)&&(this.mightDrag={node:o,pos:i,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!gecko||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),setSelectionOrigin(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>selectionToDOM(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),this.view.dom.contains(t.target)){let e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(eventCoords(t))),this.updateAllowDefault(t),this.allowDefault||!e?setSelectionOrigin(this.view,"pointer"):handleSingleClick(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():0==t.button&&(this.flushed||safari&&this.mightDrag&&!this.mightDrag.node.isAtom||chrome&&!this.view.state.selection.visible&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(updateSelection(this.view,Selection.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):setSelectionOrigin(this.view,"pointer")}}move(e){this.updateAllowDefault(e),setSelectionOrigin(this.view,"pointer"),0==e.buttons&&this.done()}updateAllowDefault(e){!this.allowDefault&&(4<Math.abs(this.event.x-e.clientX)||4<Math.abs(this.event.y-e.clientY))&&(this.allowDefault=!0)}}function inOrNearComposition(e,t){return!!e.composing||!!(safari&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500)&&(e.input.compositionEndedAt=-2e8,!0)}handlers.touchstart=e=>{e.input.lastTouch=Date.now(),forceDOMFlush(e),setSelectionOrigin(e,"pointer")},handlers.touchmove=e=>{e.input.lastTouch=Date.now(),setSelectionOrigin(e,"pointer")},handlers.contextmenu=e=>forceDOMFlush(e);const timeoutComposition=android?5e3:-1;function scheduleComposeEnd(e,t){clearTimeout(e.input.composingTimeout),-1<t&&(e.input.composingTimeout=setTimeout(()=>endComposition(e),t))}function clearComposition(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=timestampFromCustomEvent());0<e.input.compositionNodes.length;)e.input.compositionNodes.pop().markParentsDirty()}function timestampFromCustomEvent(){var e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function endComposition(e,t=!1){if(!(android&&0<=e.domObserver.flushingSoon))return e.domObserver.forceFlush(),clearComposition(e),!!(t||e.docView&&e.docView.dirty)&&((t=selectionFromDOM(e))&&!t.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(t)):e.updateState(e.state),!0)}function captureCopy(t,n){if(t.dom.parentNode){let e=t.dom.parentNode.appendChild(document.createElement("div"));e.appendChild(n),e.style.cssText="position: fixed; left: -10000px; top: 10px";var r=getSelection(),o=document.createRange();o.selectNodeContents(n),t.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e),t.focus()},50)}}editHandlers.compositionstart=editHandlers.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();var r=n["state"],e=r.selection.$from;if(r.selection.empty&&(r.storedMarks||!e.textOffset&&e.parentOffset&&e.nodeBefore.marks.some(e=>!1===e.type.spec.inclusive)))n.markCursor=n.state.storedMarks||e.marks(),endComposition(n,!0),n.markCursor=null;else if(endComposition(n),gecko&&r.selection.empty&&e.parentOffset&&!e.textOffset&&e.nodeBefore.marks.length){r=n.domSelectionRange();for(let e=r.focusNode,t=r.focusOffset;e&&1==e.nodeType&&0!=t;){var o=t<0?e.lastChild:e.childNodes[t-1];if(!o)break;if(3==o.nodeType){n.domSelection().collapse(o,o.nodeValue.length);break}e=o,t=-1}}n.input.composing=!0}scheduleComposeEnd(n,timeoutComposition)},editHandlers.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,scheduleComposeEnd(e,20))};const brokenClipboardAPI=ie&&ie_version<15||ios&&webkit_version<604;function sliceSingleNode(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}function capturePaste(r,o){if(r.dom.parentNode){let e=r.input.shiftKey||r.state.selection.$from.parent.type.spec.code,t=r.dom.parentNode.appendChild(document.createElement(e?"textarea":"div")),n=(e||(t.contentEditable="true"),t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),r.input.shiftKey&&45!=r.input.lastKeyCode);setTimeout(()=>{r.focus(),t.parentNode&&t.parentNode.removeChild(t),e?doPaste(r,t.value,null,n,o):doPaste(r,t.textContent,t.innerHTML,n,o)},50)}}function doPaste(t,e,n,r,o){let i=parseFromClipboard(t,e,n,r,t.state.selection.$from);if(!t.someProp("handlePaste",e=>e(t,o,i||Slice.empty))){if(!i)return!1;e=sliceSingleNode(i),n=e?t.state.tr.replaceSelectionWith(e,r):t.state.tr.replaceSelection(i);t.dispatch(n.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste"))}return!0}handlers.copy=editHandlers.cut=(e,t)=>{var n,r,o=e.state.selection,i="cut"==t.type;o.empty||(n=brokenClipboardAPI?null:t.clipboardData,{dom:o,text:r}=serializeForClipboard(e,o.content()),n?(t.preventDefault(),n.clearData(),n.setData("text/html",o.innerHTML),n.setData("text/plain",r)):captureCopy(e,o),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut")))},editHandlers.paste=(e,t)=>{var n,r;e.composing&&!android||(n=brokenClipboardAPI?null:t.clipboardData,r=e.input.shiftKey&&45!=e.input.lastKeyCode,n&&doPaste(e,n.getData("text/plain"),n.getData("text/html"),r,t)?t.preventDefault():capturePaste(e,t))};class Dragging{constructor(e,t){this.slice=e,this.move=t}}const dragCopyModifier=mac?"altKey":"ctrlKey";handlers.dragstart=(e,t)=>{var n,r,o=e.input.mouseDown;o&&o.done(),t.dataTransfer&&((r=(n=e.state.selection).empty?null:e.posAtCoords(eventCoords(t)))&&r.pos>=n.from&&r.pos<=(n instanceof NodeSelection?n.to-1:n.to)||(o&&o.mightDrag?e.dispatch(e.state.tr.setSelection(NodeSelection.create(e.state.doc,o.mightDrag.pos))):t.target&&1==t.target.nodeType&&(r=e.docView.nearestDesc(t.target,!0))&&r.node.type.spec.draggable&&r!=e.docView&&e.dispatch(e.state.tr.setSelection(NodeSelection.create(e.state.doc,r.posBefore)))),n=e.state.selection.content(),{dom:o,text:r}=serializeForClipboard(e,n),t.dataTransfer.clearData(),t.dataTransfer.setData(brokenClipboardAPI?"Text":"text/html",o.innerHTML),t.dataTransfer.effectAllowed="copyMove",brokenClipboardAPI||t.dataTransfer.setData("text/plain",r),e.dragging=new Dragging(n,!t[dragCopyModifier]))},handlers.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)},editHandlers.dragover=editHandlers.dragenter=(e,t)=>t.preventDefault(),editHandlers.drop=(r,i)=>{let o=i;i=r.dragging;if(r.dragging=null,o.dataTransfer){var a=r.posAtCoords(eventCoords(o));if(a){a=r.state.doc.resolve(a.pos);let t=i&&i.slice,n=(t?r.someProp("transformPasted",e=>{t=e(t,r)}):t=parseFromClipboard(r,o.dataTransfer.getData(brokenClipboardAPI?"Text":"text/plain"),brokenClipboardAPI?null:o.dataTransfer.getData("text/html"),!1,a),!(!i||o[dragCopyModifier]));if(r.someProp("handleDrop",e=>e(r,o,t||Slice.empty,n)))o.preventDefault();else if(t){o.preventDefault();let e=t?dropPoint(r.state.doc,a.pos,t):a.pos;null==e&&(e=a.pos);var i=r.state.tr,a=(n&&i.deleteSelection(),i.mapping.map(e)),s=0==t.openStart&&0==t.openEnd&&1==t.content.childCount,l=i.doc;if(s?i.replaceRangeWith(a,a,t.content.firstChild):i.replaceRange(a,a,t),!i.doc.eq(l)){l=i.doc.resolve(a);if(s&&NodeSelection.isSelectable(t.content.firstChild)&&l.nodeAfter&&l.nodeAfter.sameMarkup(t.content.firstChild))i.setSelection(new NodeSelection(l));else{let o=i.mapping.map(e);i.mapping.maps[i.mapping.maps.length-1].forEach((e,t,n,r)=>o=r),i.setSelection(selectionBetween(r,l,i.doc.resolve(o)))}r.focus(),r.dispatch(i.setMeta("uiEvent","drop"))}}}}},handlers.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&selectionToDOM(e)},20))},handlers.blur=(e,t)=>{e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),t.relatedTarget&&e.dom.contains(t.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)},handlers.beforeinput=(n,e)=>{if(chrome&&android&&"deleteContentBackward"==e.inputType){n.domObserver.flushSoon();let t=n.input["domChangeCount"];setTimeout(()=>{var e;n.input.domChangeCount!=t||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",e=>e(n,keyEvent(8,"Backspace"))))||(e=n.state.selection["$cursor"],e&&0<e.pos&&n.dispatch(n.state.tr.delete(e.pos-1,e.pos).scrollIntoView()))},50)}};for(let e in editHandlers)handlers[e]=editHandlers[e];function compareObjs(e,t){if(e!=t){for(var n in e)if(e[n]!==t[n])return!1;for(var r in t)if(!(r in e))return!1}return!0}class WidgetType{constructor(e,t){this.toDOM=e,this.spec=t||noSpec,this.side=this.spec.side||0}map(e,t,n,r){var{pos:e,deleted:t}=e.mapResult(t.from+r,this.side<0?-1:1);return t?null:new Decoration(e-n,e-n,this)}valid(){return!0}eq(e){return this==e||e instanceof WidgetType&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&compareObjs(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class InlineType{constructor(e,t){this.attrs=e,this.spec=t||noSpec}map(e,t,n,r){var o=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,e=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return e<=o?null:new Decoration(o,e,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof InlineType&&compareObjs(this.attrs,e.attrs)&&compareObjs(this.spec,e.spec)}static is(e){return e.type instanceof InlineType}destroy(){}}class NodeType{constructor(e,t){this.attrs=e,this.spec=t||noSpec}map(e,t,n,r){var o=e.mapResult(t.from+r,1);return o.deleted||(e=e.mapResult(t.to+r,-1)).deleted||e.pos<=o.pos?null:new Decoration(o.pos-n,e.pos-n,this)}valid(e,t){let{index:n,offset:r}=e.content.findIndex(t.from),o;return r==t.from&&!(o=e.child(n)).isText&&r+o.nodeSize==t.to}eq(e){return this==e||e instanceof NodeType&&compareObjs(this.attrs,e.attrs)&&compareObjs(this.spec,e.spec)}destroy(){}}class Decoration{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new Decoration(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new Decoration(e,e,new WidgetType(t,n))}static inline(e,t,n,r){return new Decoration(e,t,new InlineType(n,r))}static node(e,t,n,r){return new Decoration(e,t,new NodeType(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof InlineType}}const none=[],noSpec={};class DecorationSet{constructor(e,t){this.local=e.length?e:none,this.children=t.length?t:none}static create(e,t){return t.length?buildTree(t,e,0,noSpec):empty}find(e,t,n){var r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r}findInner(t,n,r,o,i){for(let e=0;e<this.local.length;e++){var a=this.local[e];a.from<=n&&a.to>=t&&(!i||i(a.spec))&&r.push(a.copy(a.from+o,a.to+o))}for(let e=0;e<this.children.length;e+=3){var s;this.children[e]<n&&this.children[e+1]>t&&(s=this.children[e]+1,this.children[e+2].findInner(t-s,n-s,r,o+s,i))}}map(e,t,n){return this==empty||0==e.maps.length?this:this.mapInner(e,t,0,0,n||noSpec)}mapInner(t,n,r,o,i){let a;for(let e=0;e<this.local.length;e++){var s=this.local[e].map(t,r,o);s&&s.type.valid(n,s)?(a=a||[]).push(s):i.onRemove&&i.onRemove(this.local[e].spec)}return this.children.length?mapChildren(this.children,a||[],t,n,r,o,i):a?new DecorationSet(a.sort(byPos),none):empty}add(e,t){return t.length?this==empty?DecorationSet.create(e,t):this.addInner(e,t,0):this}addInner(t,o,i){let a,s=0;t.forEach((e,t)=>{var n,r=t+i;if(n=takeSpansForNode(o,e,r)){for(a=a||this.children.slice();s<a.length&&a[s]<t;)s+=3;a[s]==t?a[s+2]=a[s+2].addInner(e,n,r+1):a.splice(s,0,t,t+e.nodeSize,buildTree(n,e,r+1,noSpec)),s+=3}});var n=moveSpans(s?withoutNulls(o):o,-i);for(let e=0;e<n.length;e++)n[e].type.valid(t,n[e])||n.splice(e--,1);return new DecorationSet(n.length?this.local.concat(n).sort(byPos):this.local,a||this.children)}remove(e){return 0==e.length||this==empty?this:this.removeInner(e,0)}removeInner(r,o){let t=this.children,n=this.local;for(let e=0;e<t.length;e+=3){let n;var i,a=t[e]+o,s=t[e+1]+o;for(let e=0,t;e<r.length;e++)(t=r[e])&&t.from>a&&t.to<s&&(r[e]=null,(n=n||[]).push(t));n&&((i=(t=t==this.children?this.children.slice():t)[e+2].removeInner(n,a+1))!=empty?t[e+2]=i:(t.splice(e,3),e-=3))}if(n.length)for(let e=0,t;e<r.length;e++)if(t=r[e])for(let e=0;e<n.length;e++)n[e].eq(t,o)&&(n=n==this.local?this.local.slice():n).splice(e--,1);return t==this.children&&n==this.local?this:n.length||t.length?new DecorationSet(n,t):empty}forChild(t,e){if(this==empty)return this;if(e.isLeaf)return DecorationSet.empty;let n,r;for(let e=0;e<this.children.length;e+=3)if(this.children[e]>=t){this.children[e]==t&&(n=this.children[e+2]);break}var o=t+1,i=o+e.content.size;for(let e=0;e<this.local.length;e++){var a,s,l=this.local[e];l.from<i&&l.to>o&&l.type instanceof InlineType&&(a=Math.max(o,l.from)-o)<(s=Math.min(i,l.to)-o)&&(r=r||[]).push(l.copy(a,s))}return r?(e=new DecorationSet(r.sort(byPos),none),n?new DecorationGroup([e,n]):e):n||empty}eq(t){if(this!=t){if(!(t instanceof DecorationSet)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(let e=0;e<this.children.length;e+=3)if(this.children[e]!=t.children[e]||this.children[e+1]!=t.children[e+1]||!this.children[e+2].eq(t.children[e+2]))return!1}return!0}locals(e){return removeOverlap(this.localsInner(e))}localsInner(e){if(this==empty)return none;if(e.inlineContent||!this.local.some(InlineType.is))return this.local;var t=[];for(let e=0;e<this.local.length;e++)this.local[e].type instanceof InlineType||t.push(this.local[e]);return t}}DecorationSet.empty=new DecorationSet([],[]),DecorationSet.removeOverlap=removeOverlap;const empty=DecorationSet.empty;class DecorationGroup{constructor(e){this.members=e}map(t,n){var e=this.members.map(e=>e.map(t,n,noSpec));return DecorationGroup.from(e)}forChild(t,n){if(n.isLeaf)return DecorationSet.empty;let r=[];for(let e=0;e<this.members.length;e++){var o=this.members[e].forChild(t,n);o!=empty&&(o instanceof DecorationGroup?r=r.concat(o.members):r.push(o))}return DecorationGroup.from(r)}eq(t){if(!(t instanceof DecorationGroup)||t.members.length!=this.members.length)return!1;for(let e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0}locals(t){let n,r=!0;for(let e=0;e<this.members.length;e++){var o=this.members[e].localsInner(t);if(o.length)if(n){r&&(n=n.slice(),r=!1);for(let e=0;e<o.length;e++)n.push(o[e])}else n=o}return n?removeOverlap(r?n:n.sort(byPos)):none}static from(e){switch(e.length){case 0:return empty;case 1:return e[0];default:return new DecorationGroup(e.every(e=>e instanceof DecorationSet)?e:e.reduce((e,t)=>e.concat(t instanceof DecorationSet?t:t.members),[]))}}}function mapChildren(t,e,n,r,l,o,i){let c=t.slice();for(let e=0,s=o;e<n.maps.length;e++){let a=0;n.maps[e].forEach((t,n,r,e)=>{var o=e-r-(n-t);for(let e=0;e<c.length;e+=3){var i=c[e+1];i<0||t>i+s-a||((i=c[e]+s-a)<=n?c[e+1]=t<=i?-2:-1:l<=r&&o&&(c[e]+=o,c[e+1]+=o))}a+=o}),s=n.maps[e].map(s,-1)}let a=!1;for(let e=0;e<c.length;e+=3)if(c[e+1]<0){if(-2==c[e+1]){a=!0,c[e+1]=-1;continue}var s=n.map(t[e]+o),u=s-l;if(u<0||u>=r.content.size){a=!0;continue}var d=n.map(t[e+1]+o,-1)-l,{index:p,offset:f}=r.content.findIndex(u),p=r.maybeChild(p);p&&f==u&&f+p.nodeSize==d?(f=c[e+2].mapInner(n,p,s+1,t[e]+o+1,i))!=empty?(c[e]=u,c[e+1]=d,c[e+2]=f):(c[e+1]=-2,a=!0):a=!0}if(a){var h=buildTree(mapAndGatherRemainingDecorations(c,t,e,n,l,o,i),r,0,i);e=h.local;for(let e=0;e<c.length;e+=3)c[e+1]<0&&(c.splice(e,3),e-=3);for(let e=0,t=0;e<h.children.length;e+=3){for(var m=h.children[e];t<c.length&&c[t]<m;)t+=3;c.splice(t,0,h.children[e],h.children[e+1],h.children[e+2])}}return new DecorationSet(e.sort(byPos),c)}function moveSpans(t,n){if(!n||!t.length)return t;var r=[];for(let e=0;e<t.length;e++){var o=t[e];r.push(new Decoration(o.from+n,o.to+n,o.type))}return r}function mapAndGatherRemainingDecorations(t,n,i,a,s,r,l){for(let e=0;e<t.length;e+=3)-1==t[e+1]&&!function t(n,r){for(let e=0;e<n.local.length;e++){var o=n.local[e].map(a,s,r);o?i.push(o):l.onRemove&&l.onRemove(n.local[e].spec)}for(let e=0;e<n.children.length;e+=3)t(n.children[e+2],n.children[e]+r+1)}(t[e+2],n[e]+r+1);return i}function takeSpansForNode(n,e,r){if(e.isLeaf)return null;let o=r+e.nodeSize,i=null;for(let e=0,t;e<n.length;e++)(t=n[e])&&t.from>r&&t.to<o&&((i=i||[]).push(t),n[e]=null);return i}function withoutNulls(t){var n=[];for(let e=0;e<t.length;e++)null!=t[e]&&n.push(t[e]);return n}function buildTree(r,t,o,i){let a=[],s=!1;t.forEach((e,t)=>{var n=takeSpansForNode(r,e,t+o);n&&(s=!0,(n=buildTree(n,e,o+t+1,i))!=empty)&&a.push(t,t+e.nodeSize,n)});var n=moveSpans(s?withoutNulls(r):r,-o).sort(byPos);for(let e=0;e<n.length;e++)n[e].type.valid(t,n[e])||(i.onRemove&&i.onRemove(n[e].spec),n.splice(e--,1));return n.length||a.length?new DecorationSet(n,a):empty}function byPos(e,t){return e.from-t.from||e.to-t.to}function removeOverlap(n){let r=n;for(let t=0;t<r.length-1;t++){var o=r[t];if(o.from!=o.to)for(let e=t+1;e<r.length;e++){var i=r[e];if(i.from!=o.from){i.from<o.to&&((r=r==n?n.slice():r)[t]=o.copy(o.from,i.from),insertAhead(r,e,o.copy(i.from,o.to)));break}i.to!=o.to&&((r=r==n?n.slice():r)[e]=i.copy(i.from,o.to),insertAhead(r,e+1,i.copy(o.to,i.to)))}}return r}function insertAhead(e,t,n){for(;t<e.length&&0<byPos(n,e[t]);)t++;e.splice(t,0,n)}function viewDecorations(t){let n=[];return t.someProp("decorations",e=>{e=e(t.state);e&&e!=empty&&n.push(e)}),t.cursorWrapper&&n.push(DecorationSet.create(t.state.doc,[t.cursorWrapper.deco])),DecorationGroup.from(n)}const observeOptions={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},useCharData=ie&&ie_version<=11;class SelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class DOMObserver{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new SelectionState,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(t=>{for(let e=0;e<t.length;e++)this.queue.push(t[e]);ie&&ie_version<=11&&t.some(e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length)?this.flushSoon():this.flush()}),useCharData&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){-1<this.flushingSoon&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,observeOptions)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){var t=this.observer.takeRecords();if(t.length){for(let e=0;e<t.length;e++)this.queue.push(t[e]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(hasFocusAndSelection(this.view)){if(this.suppressingSelectionUpdates)return selectionToDOM(this.view);if(ie&&ie_version<=11&&!this.view.state.selection.empty){var e=this.view.domSelectionRange();if(e.focusNode&&isEquivalentPosition(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let e=t.focusNode;e;e=parentNode(e))n.add(e);for(let e=t.anchorNode;e;e=parentNode(e))if(n.has(e)){r=e;break}t=r&&this.view.docView.nearestDesc(r);return t&&t.ignoreMutation({type:"selection",target:3==r.nodeType?r.parentNode:r})?(this.setCurSelection(),!0):void 0}pendingRecords(){if(this.observer)for(var e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){var i=this["view"];if(i.docView&&!(-1<this.flushingSoon)){var a,s,l=this.pendingRecords(),c=(l.length&&(this.queue=[]),i.domSelectionRange()),u=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(c)&&hasFocusAndSelection(i)&&!this.ignoreSelectionChange(c);let t=-1,n=-1,r=!1,o=[];if(i.editable)for(let e=0;e<l.length;e++){var d=this.registerMutation(l[e],o);d&&(t=t<0?d.from:Math.min(d.from,t),n=n<0?d.to:Math.max(d.to,n),d.typeOver)&&(r=!0)}gecko&&1<o.length&&2==(s=o.filter(e=>"BR"==e.nodeName)).length&&(a=s[0],s=s[1],(a.parentNode&&a.parentNode.parentNode==s.parentNode?s:a).remove());let e=null;t<0&&u&&i.input.lastFocus>Date.now()-200&&Math.max(i.input.lastTouch,i.input.lastClick.time)<Date.now()-300&&selectionCollapsed(c)&&(e=selectionFromDOM(i))&&e.eq(Selection.near(i.state.doc.resolve(0),1))?(i.input.lastFocus=0,selectionToDOM(i),this.currentSelection.set(c),i.scrollToSelection()):(-1<t||u)&&(-1<t&&(i.docView.markDirty(t,n),checkCSS(i)),this.handleDOMChange(t,n,r,o),i.docView&&i.docView.dirty?i.updateState(i.state):this.currentSelection.eq(c)||selectionToDOM(i),this.currentSelection.set(c))}}registerMutation(r,o){if(-1<o.indexOf(r.target))return null;var e=this.view.docView.nearestDesc(r.target);if("attributes"==r.type&&(e==this.view.docView||"contenteditable"==r.attributeName||"style"==r.attributeName&&!r.oldValue&&!r.target.getAttribute("style")))return null;if(!e||e.ignoreMutation(r))return null;if("childList"!=r.type)return"attributes"==r.type?{from:e.posAtStart-e.border,to:e.posAtEnd+e.border}:{from:e.posAtStart,to:e.posAtEnd,typeOver:r.target.nodeValue==r.oldValue};{for(let e=0;e<r.addedNodes.length;e++)o.push(r.addedNodes[e]);if(e.contentDOM&&e.contentDOM!=e.dom&&!e.contentDOM.contains(r.target))return{from:e.posBefore,to:e.posAfter};let t=r.previousSibling,n=r.nextSibling;if(ie&&ie_version<=11&&r.addedNodes.length)for(let e=0;e<r.addedNodes.length;e++){var{previousSibling:i,nextSibling:a}=r.addedNodes[e];(!i||Array.prototype.indexOf.call(r.addedNodes,i)<0)&&(t=i),(!a||Array.prototype.indexOf.call(r.addedNodes,a)<0)&&(n=a)}var s=t&&t.parentNode==r.target?domIndex(t)+1:0,s=e.localPosFromDOM(r.target,s,-1),l=n&&n.parentNode==r.target?domIndex(n):r.target.childNodes.length;return{from:s,to:e.localPosFromDOM(r.target,l,1)}}}}let cssChecked=new WeakMap,cssCheckWarned=!1;function checkCSS(e){cssChecked.has(e)||(cssChecked.set(e,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)&&(e.requiresGeckoHackNode=gecko,cssCheckWarned||(console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),cssCheckWarned=!0)))}function safariShadowSelectionRange(e){let t;function n(e){e.preventDefault(),e.stopImmediatePropagation(),t=e.getTargetRanges()[0]}e.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",n,!0);let r=t.startContainer,o=t.startOffset,i=t.endContainer,a=t.endOffset;e=e.domAtPos(e.state.selection.anchor);return isEquivalentPosition(e.node,e.offset,i,a)&&([r,o,i,a]=[i,a,r,o]),{anchorNode:r,anchorOffset:o,focusNode:i,focusOffset:a}}function parseBetween(e,t,n){let{node:r,fromOffset:o,toOffset:i,from:a,to:s}=e.docView.parseRange(t,n);t=e.domSelectionRange();let l;n=t.anchorNode;if(n&&e.dom.contains(1==n.nodeType?n:n.parentNode)&&(l=[{node:n,offset:t.anchorOffset}],selectionCollapsed(t)||l.push({node:t.focusNode,offset:t.focusOffset})),chrome&&8===e.input.lastKeyCode)for(let e=i;e>o;e--){var c=r.childNodes[e-1],u=c.pmViewDesc;if("BR"==c.nodeName&&!u){i=e;break}if(!u||u.size)break}n=e.state.doc,t=e.someProp("domParser")||DOMParser$1.fromSchema(e.state.schema),e=n.resolve(a);let d=null,p=t.parse(r,{topNode:e.parent,topMatch:e.parent.contentMatchAt(e.index()),topOpen:!0,from:o,to:i,preserveWhitespace:"pre"!=e.parent.type.whitespace||"full",findPositions:l,ruleFromNode:ruleFromNode,context:e});if(l&&null!=l[0].pos){let e=l[0].pos,t=l[1]&&l[1].pos;null==t&&(t=e),d={anchor:e+a,head:t+a}}return{doc:p,sel:d,from:a,to:s}}function ruleFromNode(e){var t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(safari&&/^(ul|ol)$/i.test(e.parentNode.nodeName))return(t=document.createElement("div")).appendChild(document.createElement("li")),{skip:t};if(e.parentNode.lastChild==e||safari&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const isInline=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function readDOMChange(s,l,c,u,d){var p=s.input.compositionPendingChanges||(s.composing?s.input.compositionID:0);if(l<(s.input.compositionPendingChanges=0)){var f=s.input.lastSelectionTime>Date.now()-50?s.input.lastSelectionOrigin:null,h=selectionFromDOM(s,f);if(h&&!s.state.selection.eq(h)){if(chrome&&android&&13===s.input.lastKeyCode&&Date.now()-100<s.input.lastKeyCodeTime&&s.someProp("handleKeyDown",e=>e(s,keyEvent(13,"Enter"))))return;h=s.state.tr.setSelection(h);"pointer"==f?h.setMeta("pointer",!0):"key"==f&&h.scrollIntoView(),p&&h.setMeta("composition",p),s.dispatch(h)}}else{var f=s.state.doc.resolve(l),h=f.sharedDepth(c),f=(l=f.before(h+1),c=s.state.doc.resolve(c).after(h+1),s.state.selection),h=parseBetween(s,l,c),l=s.state.doc,c=l.slice(h.from,h.to);let e,t,a=(t=8===s.input.lastKeyCode&&Date.now()-100<s.input.lastKeyCodeTime?(e=s.state.selection.to,"end"):(e=s.state.selection.from,"start"),s.input.lastKeyCode=null,findDiff(c.content,h.doc.content,h.from,e,t));if((ios&&s.input.lastIOSEnter>Date.now()-225||android)&&d.some(e=>1==e.nodeType&&!isInline.test(e.nodeName))&&(!a||a.endA>=a.endB)&&s.someProp("handleKeyDown",e=>e(s,keyEvent(13,"Enter"))))s.input.lastIOSEnter=0;else{if(!a){if(!(u&&f instanceof TextSelection&&!f.empty&&f.$head.sameParent(f.$anchor))||s.composing||h.sel&&h.sel.anchor!=h.sel.head)return void(h.sel&&(c=resolveSelection(s,s.state.doc,h.sel))&&!c.eq(s.state.selection)&&(u=s.state.tr.setSelection(c),p&&u.setMeta("composition",p),s.dispatch(u)));a={start:f.from,endA:f.to,endB:f.to}}chrome&&s.cursorWrapper&&h.sel&&h.sel.anchor==s.cursorWrapper.deco.from&&h.sel.head==h.sel.anchor&&(c=a.endB-a.start,h.sel={anchor:h.sel.anchor+c,head:h.sel.anchor+c}),s.input.domChangeCount++,s.state.selection.from<s.state.selection.to&&a.start==a.endB&&s.state.selection instanceof TextSelection&&(a.start>s.state.selection.from&&a.start<=s.state.selection.from+2&&s.state.selection.from>=h.from?a.start=s.state.selection.from:a.endA<s.state.selection.to&&a.endA>=s.state.selection.to-2&&s.state.selection.to<=h.to&&(a.endB+=s.state.selection.to-a.endA,a.endA=s.state.selection.to)),ie&&ie_version<=11&&a.endB==a.start+1&&a.endA==a.start&&a.start>h.from&&" "==h.doc.textBetween(a.start-h.from-1,a.start-h.from+1)&&(a.start--,a.endA--,a.endB--);u=h.doc.resolveNoCache(a.start-h.from);let i=h.doc.resolveNoCache(a.endB-h.from);f=l.resolve(a.start),c=u.sameParent(i)&&u.parent.inlineContent&&f.end()>=a.endA;let e;if((ios&&s.input.lastIOSEnter>Date.now()-225&&(!c||d.some(e=>"DIV"==e.nodeName||"P"==e.nodeName))||!c&&u.pos<h.doc.content.size&&!u.sameParent(i)&&(e=Selection.findFrom(h.doc.resolve(u.pos+1),1,!0))&&e.head==i.pos)&&s.someProp("handleKeyDown",e=>e(s,keyEvent(13,"Enter"))))s.input.lastIOSEnter=0;else if(s.state.selection.anchor>a.start&&looksLikeJoin(l,a.start,a.endA,u,i)&&s.someProp("handleKeyDown",e=>e(s,keyEvent(8,"Backspace"))))android&&chrome&&s.domObserver.suppressSelectionUpdates();else{chrome&&android&&a.endB==a.start&&(s.input.lastAndroidDelete=Date.now()),android&&!c&&u.start()!=i.start()&&0==i.parentOffset&&u.depth==i.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==a.endA&&(a.endB-=2,i=h.doc.resolveNoCache(a.endB-h.from),setTimeout(()=>{s.someProp("handleKeyDown",function(e){return e(s,keyEvent(13,"Enter"))})},20));let n=a.start,r=a.endA,e,t,o;if(c)if(u.pos==i.pos)ie&&ie_version<=11&&0==u.parentOffset&&(s.domObserver.suppressSelectionUpdates(),setTimeout(()=>selectionToDOM(s),20)),e=s.state.tr.delete(n,r),t=l.resolve(a.start).marksAcross(l.resolve(a.endA));else if(a.endA==a.endB&&(o=isMarkChange(u.parent.content.cut(u.parentOffset,i.parentOffset),f.parent.content.cut(f.parentOffset,a.endA-f.start()))))e=s.state.tr,"add"==o.type?e.addMark(n,r,o.mark):e.removeMark(n,r,o.mark);else if(u.parent.child(u.index()).isText&&u.index()==i.index()-(i.textOffset?0:1)){let t=u.parent.textBetween(u.parentOffset,i.parentOffset);if(s.someProp("handleTextInput",e=>e(s,n,r,t)))return;e=s.state.tr.insertText(t,n,r)}e=e||s.state.tr.replace(n,r,h.doc.slice(a.start-h.from,a.endB-h.from)),h.sel&&(d=resolveSelection(s,e.doc,h.sel))&&!(chrome&&android&&s.composing&&d.empty&&(a.start!=a.endB||s.input.lastAndroidDelete<Date.now()-100)&&(d.head==n||d.head==e.mapping.map(r)-1)||ie&&d.empty&&d.head==n)&&e.setSelection(d),t&&e.ensureMarks(t),p&&e.setMeta("composition",p),s.dispatch(e.scrollIntoView())}}}}function resolveSelection(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:selectionBetween(e,t.resolve(n.anchor),t.resolve(n.head))}function isMarkChange(e,t){var n=e.firstChild.marks,r=t.firstChild.marks;let o=n,i=r,a,s,l;for(let e=0;e<r.length;e++)o=r[e].removeFromSet(o);for(let e=0;e<n.length;e++)i=n[e].removeFromSet(i);if(1==o.length&&0==i.length)s=o[0],a="add",l=e=>e.mark(s.addToSet(e.marks));else{if(0!=o.length||1!=i.length)return null;s=i[0],a="remove",l=e=>e.mark(s.removeFromSet(e.marks))}var c=[];for(let e=0;e<t.childCount;e++)c.push(l(t.child(e)));if(Fragment.from(c).eq(e))return{mark:s,type:a}}function looksLikeJoin(e,t,n,r,o){var i;return!(!r.parent.isTextblock||n-t<=o.pos-r.pos||skipClosingAndOpening(r,!0,!1)<o.pos||(o=e.resolve(t)).parentOffset<o.parent.content.size||!o.parent.isTextblock||!(i=e.resolve(skipClosingAndOpening(o,!0,!0))).parent.isTextblock||i.pos>n||skipClosingAndOpening(i,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(i.parent.content)}function skipClosingAndOpening(t,e,n){let r=t.depth,o=e?t.end():t.pos;for(;0<r&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,o++,e=!1;if(n){let e=t.node(r).maybeChild(t.indexAfter(r));for(;e&&!e.isLeaf;)e=e.firstChild,o++}return o}function findDiff(e,t,n,r,o){let i=e.findDiffStart(t,n);if(null==i)return null;let{a,b:s}=e.findDiffEnd(t,n+e.size,n+t.size);return"end"==o&&(n=Math.max(0,i-Math.min(a,s)),r-=a+n-i),a<i&&e.size<t.size?(o=r<=i&&r>=a?i-r:0,i-=o,s=i+(s-a),a=i):s<i&&(n=r<=i&&r>=s?i-r:0,i-=n,a=i+(a-s),s=i),{start:i,endA:a,endB:s}}class EditorView{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new InputState,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(checkStateComponent),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):"function"==typeof e?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=getEditable(this),updateCursorWrapper(this),this.nodeViews=buildNodeViews(this),this.docView=docViewDesc(this.state.doc,computeDocDeco(this),viewDecorations(this),this.dom,this),this.domObserver=new DOMObserver(this,(e,t,n,r)=>readDOMChange(this,e,t,n,r)),this.domObserver.start(),initInput(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){var e,t=this._props;for(e in this._props={},t)this._props[e]=t[e];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&ensureListeners(this);var t=this._props;(this._props=e).plugins&&(e.plugins.forEach(checkStateComponent),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){var t,n,r={};for(t in this._props)r[t]=this._props[t];for(n in r.state=this.state,e)r[n]=e[n];this.update(r)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(t,e){let n=this.state,r=!1,o=!1;t.storedMarks&&this.composing&&(clearComposition(this),o=!0),this.state=t;var i=n.plugins!=t.plugins||this._props.plugins!=e.plugins,a=((i||this._props.plugins!=e.plugins||this._props.nodeViews!=e.nodeViews)&&changedNodeViews(a=buildNodeViews(this),this.nodeViews)&&(this.nodeViews=a,r=!0),!i&&e.handleDOMEvents==this._props.handleDOMEvents||ensureListeners(this),this.editable=getEditable(this),updateCursorWrapper(this),viewDecorations(this)),i=computeDocDeco(this),e=n.plugins==t.plugins||n.doc.eq(t.doc)?t.scrollToSelection>n.scrollToSelection?"to selection":"preserve":"reset",s=r||!this.docView.matchesNode(t.doc,i,a),l=(!s&&t.selection.eq(n.selection)||(o=!0),"preserve"==e&&o&&null==this.dom.style.overflowAnchor&&storeScrollPos(this));if(o){this.domObserver.stop();let e=s&&(ie||chrome)&&!this.composing&&!n.selection.empty&&!t.selection.empty&&selectionContextChanged(n.selection,t.selection);(e=s&&(s=chrome?this.trackWrites=this.domSelectionRange().focusNode:null,!r&&this.docView.update(t.doc,i,a,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=docViewDesc(t.doc,i,a,this.dom,this)),s)&&!this.trackWrites?!0:e)||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&anchorInRightPlace(this))?selectionToDOM(this,e):(syncNodeSelection(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(n),"reset"==e?this.dom.scrollTop=0:"to selection"==e?this.scrollToSelection():l&&resetScrollPos(l)}scrollToSelection(){var e,t=this.domSelectionRange().focusNode;this.someProp("handleScrollToSelection",e=>e(this))||(this.state.selection instanceof NodeSelection?1==(e=this.docView.domAfterPos(this.state.selection.from)).nodeType&&scrollRectIntoView(this,e.getBoundingClientRect(),t):scrollRectIntoView(this,this.coordsAtPos(this.state.selection.head,1),t))}destroyPluginViews(){for(var e;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(t){if(t&&t.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let e=0;e<this.pluginViews.length;e++){var n=this.pluginViews[e];n.update&&n.update(this,t)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){var r=this.directPlugins[e];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){var o=this.state.plugins[e];o.spec.view&&this.pluginViews.push(o.spec.view(this))}}}someProp(t,n){let e=this._props&&this._props[t],r;if(null!=e&&(r=n?n(e):e))return r;for(let e=0;e<this.directPlugins.length;e++){var o=this.directPlugins[e].props[t];if(null!=o&&(r=n?n(o):o))return r}var i=this.state.plugins;if(i)for(let e=0;e<i.length;e++){var a=i[e].props[t];if(null!=a&&(r=n?n(a):a))return r}}hasFocus(){if(ie){let e=this.root.activeElement;if(e!=this.dom){if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if("false"==e.contentEditable)return!1;e=e.parentElement}}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&focusPreventScroll(this.dom),selectionToDOM(this),this.domObserver.start()}get root(){var e=this._root;if(null==e)for(let e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=()=>e.ownerDocument.getSelection()),this._root=e;return e||document}posAtCoords(e){return posAtCoords(this,e)}coordsAtPos(e,t=1){return coordsAtPos(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){e=this.docView.descAt(e);return e?e.nodeDOM:null}posAtDOM(e,t,n=-1){e=this.docView.posFromDOM(e,t,n);if(null==e)throw new RangeError("DOM position not inside the editor");return e}endOfTextblock(e,t){return endOfTextblock(this,t||this.state,e)}pasteHTML(e,t){return doPaste(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return doPaste(this,e,null,!0,t||new ClipboardEvent("paste"))}destroy(){this.docView&&(destroyInput(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],viewDecorations(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return null==this.docView}dispatchEvent(e){return dispatchEvent(this,e)}dispatch(e){var t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return safari&&11===this.root.nodeType&&deepActiveElement(this.dom.ownerDocument)==this.dom?safariShadowSelectionRange(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function computeDocDeco(n){let r=Object.create(null);return r.class="ProseMirror",r.contenteditable=String(n.editable),n.someProp("attributes",e=>{if(e="function"==typeof e?e(n.state):e)for(var t in e)"class"==t?r.class+=" "+e[t]:"style"==t?r.style=(r.style?r.style+";":"")+e[t]:r[t]||"contenteditable"==t||"nodeName"==t||(r[t]=String(e[t]))}),r.translate||(r.translate="no"),[Decoration.node(0,n.state.doc.content.size,r)]}function updateCursorWrapper(e){var t;e.markCursor?((t=document.createElement("img")).className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Decoration.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}):e.cursorWrapper=null}function getEditable(t){return!t.someProp("editable",e=>!1===e(t.state))}function selectionContextChanged(e,t){var n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function buildNodeViews(e){let n=Object.create(null);function t(e){for(var t in e)Object.prototype.hasOwnProperty.call(n,t)||(n[t]=e[t])}return e.someProp("nodeViews",t),e.someProp("markViews",t),n}function changedNodeViews(e,t){let n=0,r=0;for(var o in e){if(e[o]!=t[o])return!0;n++}for(var i in t)r++;return n!=r}function checkStateComponent(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}class GapCursor extends Selection{constructor(e){super(e,e)}map(e,t){e=e.resolve(t.map(this.head));return GapCursor.valid(e)?new GapCursor(e):Selection.near(e)}content(){return Slice.empty}eq(e){return e instanceof GapCursor&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new GapCursor(e.resolve(t.pos))}getBookmark(){return new GapBookmark(this.anchor)}static valid(e){var t,n=e.parent;return!(n.isTextblock||!closedBefore(e)||!closedAfter(e))&&(null!=(t=n.type.spec.allowGapCursor)?t:(t=n.contentMatchAt(e.index()).defaultType)&&t.isTextblock)}static findGapCursorFrom(r,o,e=!1){e:for(;;){if(!e&&GapCursor.valid(r))return r;let t=r.pos,n=null;for(let e=r.depth;;e--){var i=r.node(e);if(0<o?r.indexAfter(e)<i.childCount:0<r.index(e)){n=i.child(0<o?r.indexAfter(e):r.index(e)-1);break}if(0==e)return null;t+=o;i=r.doc.resolve(t);if(GapCursor.valid(i))return i}for(;;){var a=0<o?n.firstChild:n.lastChild;if(!a){if(!n.isAtom||n.isText||NodeSelection.isSelectable(n))break;r=r.doc.resolve(t+n.nodeSize*o),e=!1;continue e}n=a,t+=o;a=r.doc.resolve(t);if(GapCursor.valid(a))return a}return null}}}GapCursor.prototype.visible=!1,GapCursor.findFrom=GapCursor.findGapCursorFrom,Selection.jsonID("gapcursor",GapCursor);class GapBookmark{constructor(e){this.pos=e}map(e){return new GapBookmark(e.map(this.pos))}resolve(e){e=e.resolve(this.pos);return GapCursor.valid(e)?new GapCursor(e):Selection.near(e)}}function closedBefore(t){for(let e=t.depth;0<=e;e--){var n=t.index(e),r=t.node(e);if(0==n){if(r.type.spec.isolating)return!0}else for(let e=r.child(n-1);;e=e.lastChild){if(0==e.childCount&&!e.inlineContent||e.isAtom||e.type.spec.isolating)return!0;if(e.inlineContent)return!1}}return!0}function closedAfter(t){for(let e=t.depth;0<=e;e--){var n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0}else for(let e=r.child(n);;e=e.firstChild){if(0==e.childCount&&!e.inlineContent||e.isAtom||e.type.spec.isolating)return!0;if(e.inlineContent)return!1}}return!0}function gapCursor(){return new Plugin({props:{decorations:drawGapCursor,createSelectionBetween(e,t,n){return t.pos==n.pos&&GapCursor.valid(n)?new GapCursor(n):null},handleClick:handleClick,handleKeyDown:handleKeyDown,handleDOMEvents:{beforeinput:beforeinput}}})}const handleKeyDown=keydownHandler$1({ArrowLeft:arrow("horiz",-1),ArrowRight:arrow("horiz",1),ArrowUp:arrow("vert",-1),ArrowDown:arrow("vert",1)});function arrow(e,a){const s="vert"==e?0<a?"down":"up":0<a?"right":"left";return function(e,t,n){var r=e.selection;let o=0<a?r.$to:r.$from,i=r.empty;if(r instanceof TextSelection){if(!n.endOfTextblock(s)||0==o.depth)return!1;i=!1,o=e.doc.resolve(0<a?o.after():o.before())}r=GapCursor.findGapCursorFrom(o,a,i);return!!r&&(t&&t(e.tr.setSelection(new GapCursor(r))),!0)}}function handleClick(e,t,n){return!(!e||!e.editable||(t=e.state.doc.resolve(t),!GapCursor.valid(t))||(n=e.posAtCoords({left:n.clientX,top:n.clientY}))&&-1<n.inside&&NodeSelection.isSelectable(e.state.doc.nodeAt(n.inside))||(e.dispatch(e.state.tr.setSelection(new GapCursor(t))),0))}function beforeinput(e,n){if("insertCompositionText"==n.inputType&&e.state.selection instanceof GapCursor){var n=e.state.selection["$from"],r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(r){let t=Fragment.empty;for(let e=r.length-1;0<=e;e--)t=Fragment.from(r[e].createAndFill(null,t));var o=e.state.tr.replace(n.pos,n.pos,new Slice(t,0,0));o.setSelection(TextSelection.near(o.doc.resolve(n.pos+1))),e.dispatch(o)}}return!1}function drawGapCursor(e){var t;return e.selection instanceof GapCursor?((t=document.createElement("div")).className="ProseMirror-gapcursor",DecorationSet.create(e.doc,[Decoration.widget(e.selection.head,t,{key:"gapcursor"})])):null}var GOOD_LEAF_SIZE=200,RopeSequence=function(){},Leaf=(RopeSequence.prototype.append=function(e){return e.length?(e=RopeSequence.from(e),!this.length&&e||e.length<GOOD_LEAF_SIZE&&this.leafAppend(e)||this.length<GOOD_LEAF_SIZE&&e.leafPrepend(this)||this.appendInner(e)):this},RopeSequence.prototype.prepend=function(e){return e.length?RopeSequence.from(e).append(this):this},RopeSequence.prototype.appendInner=function(e){return new Append(this,e)},RopeSequence.prototype.slice=function(e,t){return(t=void 0===t?this.length:t)<=(e=void 0===e?0:e)?RopeSequence.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},RopeSequence.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},RopeSequence.prototype.forEach=function(e,t,n){(t=void 0===t?0:t)<=(n=void 0===n?this.length:n)?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},RopeSequence.prototype.map=function(n,e,t){void 0===t&&(t=this.length);var r=[];return this.forEach(function(e,t){return r.push(n(e,t))},e=void 0===e?0:e,t),r},RopeSequence.from=function(e){return e instanceof RopeSequence?e:e&&e.length?new Leaf(e):RopeSequence.empty},function(t){function n(e){t.call(this),this.values=e}t&&(n.__proto__=t);var e={length:{configurable:!0},depth:{configurable:!0}};return((n.prototype=Object.create(t&&t.prototype)).constructor=n).prototype.flatten=function(){return this.values},n.prototype.sliceInner=function(e,t){return 0==e&&t==this.length?this:new n(this.values.slice(e,t))},n.prototype.getInner=function(e){return this.values[e]},n.prototype.forEachInner=function(e,t,n,r){for(var o=t;o<n;o++)if(!1===e(this.values[o],r+o))return!1},n.prototype.forEachInvertedInner=function(e,t,n,r){for(var o=t-1;n<=o;o--)if(!1===e(this.values[o],r+o))return!1},n.prototype.leafAppend=function(e){if(this.length+e.length<=GOOD_LEAF_SIZE)return new n(this.values.concat(e.flatten()))},n.prototype.leafPrepend=function(e){if(this.length+e.length<=GOOD_LEAF_SIZE)return new n(e.flatten().concat(this.values))},e.length.get=function(){return this.values.length},e.depth.get=function(){return 0},Object.defineProperties(n.prototype,e),n}(RopeSequence)),Append=(RopeSequence.empty=new Leaf([]),function(n){function t(e,t){n.call(this),this.left=e,this.right=t,this.length=e.length+t.length,this.depth=Math.max(e.depth,t.depth)+1}return n&&(t.__proto__=n),((t.prototype=Object.create(n&&n.prototype)).constructor=t).prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var o=this.left.length;return!(t<o&&!1===this.left.forEachInner(e,t,Math.min(n,o),r)||o<n&&!1===this.right.forEachInner(e,Math.max(t-o,0),Math.min(this.length,n)-o,r+o))&&void 0},t.prototype.forEachInvertedInner=function(e,t,n,r){var o=this.left.length;return!(o<t&&!1===this.right.forEachInvertedInner(e,t-o,Math.max(n,o)-o,r+o)||n<o&&!1===this.left.forEachInvertedInner(e,Math.min(t,o),n,r))&&void 0},t.prototype.sliceInner=function(e,t){var n;return 0==e&&t==this.length?this:t<=(n=this.left.length)?this.left.slice(e,t):n<=e?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){e=this.right.leafAppend(e);if(e)return new t(this.left,e)},t.prototype.leafPrepend=function(e){e=this.left.leafPrepend(e);if(e)return new t(e,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(RopeSequence));const max_empty_items=500;class Branch{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(0==this.eventCount)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let o,i,a=(t&&(o=this.remapping(r,this.items.length),i=o.maps.length),e.tr),s,l,c=[],u=[];return this.items.forEach((n,e)=>{if(n.step){if(o){u.push(new Item(n.map));let e=n.step.map(o.slice(i)),t;e&&a.maybeStep(e).doc&&(t=a.mapping.maps[a.mapping.maps.length-1],c.push(new Item(t,void 0,void 0,c.length+u.length))),i--,t&&o.appendMap(t,i)}else a.maybeStep(n.step);return n.selection?(s=o?n.selection.map(o.slice(i)):n.selection,l=new Branch(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1):void 0}o||(o=this.remapping(r,e+1),i=o.maps.length),i--,u.push(n)},this.items.length,0),{remaining:l,transform:a,selection:s}}addTransform(r,o,e,i){let a=[],s=this.eventCount,l=this.items,c=!i&&l.length?l.get(l.length-1):null;for(let n=0;n<r.steps.length;n++){var u=r.steps[n].invert(r.docs[n]);let e=new Item(r.mapping.maps[n],u,o),t;(t=c&&c.merge(e))&&(e=t,n?a.pop():l=l.slice(0,l.length-1)),a.push(e),o&&(s++,o=void 0),i||(c=e)}e=s-e.depth;return e>DEPTH_OVERFLOW&&(l=cutOffEvents(l,e),s-=e),new Branch(l.append(a),s)}remapping(n,e){let r=new Mapping;return this.items.forEach((e,t)=>{t=null!=e.mirrorOffset&&t-e.mirrorOffset>=n?r.maps.length-e.mirrorOffset:void 0;r.appendMap(e.map,t)},n,e),r}addMaps(e){return 0==this.eventCount?this:new Branch(this.items.append(e.map(e=>new Item(e))),this.eventCount)}rebased(o,t){if(!this.eventCount)return this;let i=[],e=Math.max(0,this.items.length-t),a=o.mapping,s=o.steps.length,l=this.eventCount,c=(this.items.forEach(e=>{e.selection&&l--},e),t);this.items.forEach(e=>{var t,n,r=a.getMirror(--c);null!=r&&(s=Math.min(s,r),t=a.maps[r],e.step?(n=o.steps[r].invert(o.docs[r]),(e=e.selection&&e.selection.map(a.slice(c+1,r)))&&l++,i.push(new Item(t,n,e))):i.push(new Item(t)))},e);var n=[];for(let e=t;e<s;e++)n.push(new Item(a.maps[e]));t=this.items.slice(0,e).append(n).append(i);let r=new Branch(t,l);return r=r.emptyItemCount()>max_empty_items?r.compress(this.items.length-i.length):r}emptyItemCount(){let t=0;return this.items.forEach(e=>{e.step||t++}),t}compress(o=this.items.length){let i=this.remapping(0,o),a=i.maps.length,s=[],l=0;return this.items.forEach((e,t)=>{var n,r;o<=t?(s.push(e),e.selection&&l++):e.step?(n=(t=e.step.map(i.slice(a)))&&t.getMap(),a--,n&&i.appendMap(n,a),t&&((r=e.selection&&e.selection.map(i.slice(a)))&&l++,n=new Item(n.invert(),t,r),t=s.length-1,(r=s.length&&s[t].merge(n))?s[t]=r:s.push(n))):e.map&&a--},this.items.length,0),new Branch(RopeSequence.from(s.reverse()),l)}}function cutOffEvents(e,n){let r;return e.forEach((e,t)=>{if(e.selection&&0==n--)return r=t,!1}),e.slice(r)}Branch.empty=new Branch(RopeSequence.empty,0);class Item{constructor(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){e=e.step.merge(this.step);if(e)return new Item(e.getMap().invert(),e,this.selection)}}}class HistoryState{constructor(e,t,n,r,o){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r,this.prevComposition=o}}const DEPTH_OVERFLOW=20;function applyTransaction(e,t,n,r){var o=n.getMeta(historyKey);if(o)return o.historyState;n.getMeta(closeHistoryKey)&&(e=new HistoryState(e.done,e.undone,null,0,-1));var i,a,o=n.getMeta("appendedTransaction");return 0==n.steps.length?e:o&&o.getMeta(historyKey)?o.getMeta(historyKey).redo?new HistoryState(e.done.addTransform(n,void 0,r,mustPreserveItems(t)),e.undone,rangesFor(n.mapping.maps[n.steps.length-1]),e.prevTime,e.prevComposition):new HistoryState(e.done,e.undone.addTransform(n,void 0,r,mustPreserveItems(t)),null,e.prevTime,e.prevComposition):!1===n.getMeta("addToHistory")||o&&!1===o.getMeta("addToHistory")?(i=n.getMeta("rebased"))?new HistoryState(e.done.rebased(n,i),e.undone.rebased(n,i),mapRanges(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new HistoryState(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),mapRanges(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):(i=n.getMeta("composition"),a=0==e.prevTime||!o&&e.prevComposition!=i&&(e.prevTime<(n.time||0)-r.newGroupDelay||!isAdjacentTo(n,e.prevRanges)),o=o?mapRanges(e.prevRanges,n.mapping):rangesFor(n.mapping.maps[n.steps.length-1]),new HistoryState(e.done.addTransform(n,a?t.selection.getBookmark():void 0,r,mustPreserveItems(t)),Branch.empty,o,n.time,null==i?e.prevComposition:i))}function isAdjacentTo(e,r){if(!r)return!1;if(!e.docChanged)return!0;let o=!1;return e.mapping.maps[0].forEach((t,n)=>{for(let e=0;e<r.length;e+=2)t<=r[e+1]&&n>=r[e]&&(o=!0)}),o}function rangesFor(e){let o=[];return e.forEach((e,t,n,r)=>o.push(n,r)),o}function mapRanges(t,n){if(!t)return null;var r=[];for(let e=0;e<t.length;e+=2){var o=n.map(t[e],1),i=n.map(t[e+1],-1);o<=i&&r.push(o,i)}return r}function histTransaction(e,t,n,r){var o,i=mustPreserveItems(t),a=historyKey.get(t).spec.config,s=(r?e.undone:e.done).popEvent(t,i);s&&(o=s.selection.resolve(s.transform.doc),e=(r?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),a,i),t=new HistoryState(r?e:s.remaining,r?s.remaining:e,null,0,-1),n(s.transform.setSelection(o).setMeta(historyKey,{redo:r,historyState:t}).scrollIntoView()))}let cachedPreserveItems=!1,cachedPreserveItemsPlugins=null;function mustPreserveItems(e){var t=e.plugins;if(cachedPreserveItemsPlugins!=t){cachedPreserveItems=!1,cachedPreserveItemsPlugins=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){cachedPreserveItems=!0;break}}return cachedPreserveItems}const historyKey=new PluginKey("history"),closeHistoryKey=new PluginKey("closeHistory");function history(r={}){return r={depth:r.depth||100,newGroupDelay:r.newGroupDelay||500},new Plugin({key:historyKey,state:{init(){return new HistoryState(Branch.empty,Branch.empty,null,0,-1)},apply(e,t,n){return applyTransaction(t,n,e,r)}},config:r,props:{handleDOMEvents:{beforeinput(e,t){var n=t.inputType,n="historyUndo"==n?undo:"historyRedo"==n?redo:null;return!!n&&(t.preventDefault(),n(e.state,e.dispatch))}}}})}const undo=(e,t)=>{var n=historyKey.getState(e);return!(!n||0==n.done.eventCount||(t&&histTransaction(n,e,t,!1),0))},redo=(e,t)=>{var n=historyKey.getState(e);return!(!n||0==n.undone.eventCount||(t&&histTransaction(n,e,t,!0),0))},ParagraphSpec={attrs:{textAlign:{default:null},color:{default:null},fontFamily:{default:null},fontSize:{default:null},lineHeight:{default:null},letterSpacing:{default:null},textTransform:{default:null},marginLeft:{default:null},indent:{default:null},listType:{default:""}},content:"inline*",group:"block",parseDOM:[{tag:"p",getAttrs:e=>getAttrs$1(e)}],toDOM:e=>toDOM(e)},getAttrs$1=e=>{var{lineHeight:t,letterSpacing:n,textTransform:r,textAlign:o,fontFamily:i,fontSize:a,color:s}=e.style,l=e.getAttribute("data-indent"),l=l?parseInt(l,10):0,e=l&&"ordered"===e.getAttribute("data-list-type")?"ordered":"";return{textAlign:o,textTransform:r,lineHeight:t,letterSpacing:parseInt(n,10),fontFamily:i.replaceAll('"',""),fontSize:a,color:s,indent:l,listType:e}},toDOM=e=>{var{textAlign:e,textTransform:t,lineHeight:n,letterSpacing:r,fontFamily:o,fontSize:i,color:a,indent:s,listType:l}=e.attrs,c={};let u="";return e&&"left"!==e&&(u+=`text-align: ${e};`),o&&(u+=`font-family: ${o};`),t&&(u+=`text-transform: ${t};`),i&&(u+=`font-size: ${i};`),a&&(u+=`color: ${a};`),s&&(u=u+`--indent-level: ${s};`+"display: list-item;",c["data-indent"]=String(s),"ordered"===(c["data-list-type"]=l)?(e=["decimal","lower-alpha","lower-roman"],u=(u+="list-style-type: none;")+`--counter-list-marker: ${e[(s-1)%e.length]};`):u+="list-style-type: disc;"),(u=u+`line-height: ${n||1.4};`+`letter-spacing: ${r}em;`)&&(c.style=u),["p",c,0]},ItalicSpec={parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM(){return["em",0]}},BoldSpec={parseDOM:[{tag:"strong"},{tag:"b",getAttrs:e=>"normal"!=e.style.fontWeight&&null},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],toDOM(){return["strong",0]}},TextUnderlineSpec={parseDOM:[{tag:"u"},{style:"text-decoration-line",getAttrs:e=>"underline"===e&&null},{style:"text-decoration",getAttrs:e=>"underline"===e&&null}],toDOM(){return["u",0]}},ListItemSpec={content:"paragraph block*",parseDOM:[{tag:"li"}],attrs:{align:{default:null},style:{default:"display: list-item; "}},toDOM(e){return["li",e.attrs,0]},defining:!0},BulletListSpec={content:"listItem+",group:"block",attrs:{align:{default:null},style:{default:"list-style-type: disc;padding-left: 1.7em;margin:0;"}},parseDOM:[{tag:"ul"}],toDOM(e){return["ul",e.attrs,0]}},TextColorSpec={attrs:{color:{default:""}},inline:!0,group:"inline",parseDOM:[{style:"color",getAttrs:e=>({color:e})}],toDOM(e){e=e.attrs.color;let t="";return e&&(t+=`color: ${e};`),["span",{style:t},0]}},brDOM=["br"],nodes={doc:{content:"block+"},paragraph:ParagraphSpec,listItem:ListItemSpec,bulletList:BulletListSpec,text:{group:"inline"},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM(){return brDOM}}},marks={link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs(e){return{href:e.getAttribute("href"),title:e.getAttribute("title")}}}],toDOM(e){var{href:e,title:t}=e.attrs;return["a",{href:e,title:t},0]}},italic:ItalicSpec,bold:BoldSpec,underline:TextUnderlineSpec,color:TextColorSpec},schema=new Schema({nodes:nodes,marks:marks});class EventEmitter{constructor(){Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}})}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){e=this.callbacks[e];return e&&e.forEach(e=>e.apply(this,t)),this}off(e,t){var n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter(e=>e!==t):delete this.callbacks[e]),this}}function normalize(e){var t=Object.create(null);for(const n in e)t[normalizeKeyName$1(n)]=e[n];return t}function keymap(e){return new Plugin({props:{handleKeyDown:keydownHandler(e)}})}function keydownHandler(e){const i=normalize(e);return function(e,t){t.stopPropagation();var n=keyName(t),r=i[modifiers$1(n,t)];let o;if(r&&r(e.state,e.dispatch,e))return!0;if(1==n.length&&" "!=n){if(t.shiftKey){r=i[modifiers$1(n,t,!1)];if(r&&r(e.state,e.dispatch,e))return!0}if((t.shiftKey||t.altKey||t.metaKey||127<n.charCodeAt(0))&&(o=base[t.keyCode])&&o!=n){r=i[modifiers$1(o,t)];if(r&&r(e.state,e.dispatch,e))return!0}}return!1}}function objectIncludes(t,n){var e=Object.keys(n);return!e.length||e.every(e=>n[e]===t[e])}function findMarkInSet(e,t,n={}){return e.find(e=>e.type===t&&objectIncludes(e.attrs,n))}function isMarkInSet(e,t,n={}){return!!findMarkInSet(e,t,n)}function getMarkRange(i,a,s={}){if(i&&a){let o=i.parent.childAfter(i.parentOffset);if((o=i.parentOffset===o.offset&&0!==o.offset?i.parent.childBefore(i.parentOffset):o).node){var l=findMarkInSet([...o.node.marks],a,s);if(l){let e=o.index,t=i.start()+o.offset,n=e+1,r=t+o.node.nodeSize;for(findMarkInSet([...o.node.marks],a,s);0<e&&l.isInSet(i.parent.child(e-1).marks);)--e,t-=i.parent.child(e).nodeSize;for(;n<i.parent.childCount&&isMarkInSet([...i.parent.child(n).marks],a,s);)r+=i.parent.child(n).nodeSize,n+=1;return{from:t,to:r}}}}}const unsetMark=(l,c={})=>(n,e)=>{var{extendEmptyMarkRange:r=!1}=c;const o=n.tr;var i=o["selection"];const a=n.schema.mark(l);var{$from:n,empty:s,ranges:t}=i;if(s&&r){let{from:e,to:t}=i;r=null==(s=n.marks().find(e=>e.type===a.type))?void 0:s.attrs,i=getMarkRange(n,a.type,r);i&&(e=i.from,t=i.to),o.removeMark(e,t,a)}else t.forEach(e=>{o.removeMark(e.$from.pos,e.$to.pos,a)});return o.removeStoredMark(a),!!e&&(e(o),!0)};function getMarkType(e,t){if("string"!=typeof e)return e;if(t.marks[e])return t.marks[e];throw Error(`There is no mark type named '${e}'!`)}function isMarkActive(n,e,t={}){var{empty:r,ranges:o}=n.selection;const i=e?getMarkType(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(e=>!i||i.name===e.type.name).find(e=>objectIncludes(e.attrs,t));let a=0;const s=[];return o.forEach(({$from:e,$to:t})=>{const o=e.pos,i=t.pos;n.doc.nodesBetween(o,i,(e,t)=>{if(e.isText||e.marks.length){const n=Math.max(o,t),r=Math.min(i,t+e.nodeSize);t=r-n;a+=t,s.push(...e.marks.map(e=>({mark:e,from:n,to:r})))}})}),0!==a&&(e=s.filter(e=>!i||i.name===e.mark.type.name).filter(e=>objectIncludes(e.mark.attrs,t)).reduce((e,t)=>e+t.to-t.from,0),r=s.filter(e=>!i||e.mark.type!==i&&e.mark.type.excludes(i)).reduce((e,t)=>e+t.to-t.from,0),(0<e?e+r:e)>=a)}function getMarkAttributes(e,t){const n=getMarkType(t,e.schema);var{from:t,to:r,empty:o}=e.selection;const i=[];o?(e.storedMarks&&i.push(...e.storedMarks),i.push(...e.selection.$head.marks())):e.doc.nodesBetween(t,r,e=>{i.push(...e.marks)});o=i.find(e=>e.type.name===n.name);return o?Object.assign({},o.attrs):{}}const setMark=(o,l={})=>(t,e)=>{const a=t.tr.setSelection(t.selection);var n=a["selection"],{empty:n,ranges:r}=n;const s=getMarkType(o,t.schema);return n?(n=getMarkAttributes(t,s),a.addStoredMark(s.create(Object.assign(Object.assign({},n),l)))):r.forEach(e=>{const o=e.$from.pos,i=e.$to.pos;t.doc.nodesBetween(o,i,(e,t)=>{const n=Math.max(t,o),r=Math.min(t+e.nodeSize,i);e.marks.find(e=>e.type===s)?e.marks.forEach(e=>{s===e.type&&a.addMark(n,r,s.create(Object.assign(Object.assign({},e.attrs),l)))}):a.addMark(n,r,s.create(l))})}),!!e&&(e(a),!0)},toggleMark=(o,i={},a={})=>(e,t,...n)=>{var r=getMarkType(o,e.schema);return(isMarkActive(e,r)?unsetMark(r,a):setMark(r,i))(e,t,...n)},toggleBold=(...e)=>toggleMark("bold")(...e),unsetBold=(...e)=>unsetMark("bold")(...e),setBold=(...e)=>setMark("bold")(...e),unsetBoldOfBlock=(e,t)=>{var{$from:n,$to:r}=e.tr.setSelection(e.selection).selection,n=n.blockRange(r);return!(!n||!t||(t(e.tr.removeMark(n.start,n.end,e.schema.mark("bold"))),0))},toggleItalic=(...e)=>toggleMark("italic")(...e),unsetItalic=(...e)=>unsetMark("italic")(...e),setItalic=(...e)=>setMark("italic")(...e),unsetItalicOfBlock=(e,t)=>{var{$from:n,$to:r}=e.selection,n=n.blockRange(r);return!(!n||!t||(r=e.schema.mark("bold"),t(e.tr.removeMark(n.start,n.end,r)),0))},splitBlockKeepMarks=(e,t)=>splitBlockAs(e=>({type:e.type.schema.nodes.paragraph,attrs:e.attrs}))(e,t);function splitBlockAs(c){return(e,t)=>{var{$from:n,$to:r}=e.selection;if(e.selection instanceof NodeSelection&&e.selection.node.isBlock)return!(!n.parentOffset||!canSplit(e.doc,n.pos)||(t&&t(e.tr.split(n.pos).scrollIntoView()),0));if(!n.parent.isBlock)return!1;var o=r.parentOffset==r.parent.content.size,i=e.tr,a=((e.selection instanceof TextSelection||e.selection instanceof AllSelection)&&i.deleteSelection(),0==n.depth?null:defaultBlockAt(n.node(-1).contentMatchAt(n.indexAfter(-1)))),r=c&&c(r.parent,o);let s=r?[r]:o&&a?[{type:a}]:void 0,l=canSplit(i.doc,i.mapping.map(n.pos),1,s);s||l||!canSplit(i.doc,i.mapping.map(n.pos),1,a?[{type:a}]:void 0)||(a&&(s=[{type:a}]),l=!0),l&&(i.split(i.mapping.map(n.pos),1,s),o||n.parentOffset||n.parent.type==a||(r=i.mapping.map(n.before()),o=i.doc.resolve(r),a&&n.node(-1).canReplaceWith(o.index(),o.index()+1,a)&&i.setNodeMarkup(i.mapping.map(n.before()),a)));r=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();return r&&i.ensureMarks(r),t&&t(i),!0}}function defaultBlockAt(t){for(let e=0;e<t.edgeCount;e++){var n=t.edge(e)["type"];if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const selectText=s=>(e,t)=>{var e=e.tr,n=e["doc"],{from:r,to:o}=s,i=TextSelection.atStart(n).from,a=TextSelection.atEnd(n).to,r=Math.min(Math.max(r,i),a),o=Math.min(Math.max(o,i),a),i=TextSelection.create(n,r,o);return e.setSelection(i),!!t&&(t(e),!0)},selectAll=(e,t,...n)=>(selectText({from:0,to:e.doc.content.size})(e,t,...n),!0);function buildKeyMap(e,r){const o={};var t;function n(e,t){if(r){var n=r[e];if(!1===n)return;n&&(e=n)}o[e]=t}if(n("Mod-z",undo),n("Mod-y",redo),n("Mod-a",selectAll),n("Backspace",undoInputRule),n("Alt-ArrowUp",joinUp),n("Alt-ArrowDown",joinDown),n("Mod-BracketLeft",lift),n("Escape",selectParentNode),e.marks.bold&&(n("Mod-b",toggleBold),n("Mod-B",toggleBold)),e.marks.italic&&(n("Mod-i",toggleItalic),n("Mod-I",toggleItalic)),n("Enter",splitBlockKeepMarks),t=e.nodes.hard_break){const i=t,a=chainCommands(exitCode,(e,t)=>(t&&t(e.tr.replaceSelectionWith(i.create()).scrollIntoView()),!0));n("Mod-Enter",a),n("Shift-Enter",a),isMacOs_1&&n("Ctrl-Enter",a)}return(t=e.nodes.paragraph)&&n("Shift-Ctrl-0",setBlockType(t)),o}const events=()=>new Plugin({view(){return{update:function(e,t){var n=e.state;t&&t.doc.eq(n.doc)&&t.selection.eq(n.selection)||(t&&!t.doc.eq(n.doc)?e.events.emit("update",e):e.events.emit("selectionUpdate",e))}}}}),editorSchema=new Schema({nodes:schema.spec.nodes,marks:schema.spec.marks}),createEditor=({content:e,ele:t=null,handleDOMEvents:n={}})=>{var r=document.createElement("div"),e=(r.innerHTML=e,EditorState.create({doc:DOMParser$1.fromSchema(editorSchema).parse(r),plugins:[buildInputRules(editorSchema),keymap(buildKeyMap(editorSchema)),keymap(baseKeymap),gapCursor(),history(),events()]})),r=new EditorView(t,{attributes:{class:"lidojs-text"},state:e,handleDOMEvents:n});return r.events=new EventEmitter,r},TextLayer=({text:t,boxSize:e,scale:n,fonts:r,colors:o,fontSizes:i,effect:a,rotate:s,position:l})=>{const{actions:c,id:u,pageIndex:d}=useLayer(),p=useSelectedLayers()["selectedLayerIds"],{actions:f,textEditor:h}=useEditor(e=>({textEditor:e.textEditor}));useEffect(()=>{var e=createEditor({content:t});e&&c.setTextEditor(e)},[]);var m=useCallback(()=>{p.includes(u)&&c.openTextEditor()},[f,p]),g=useMemo(()=>!!h&&h.pageIndex===d&&h.layerId===u,[h]);return jsx("div",{css:{transformOrigin:"0 0"},style:{width:e.width/n,height:e.height/n,transform:`scale(${n})`,opacity:g?0:1},onDoubleClick:m,children:jsx(TextContent,{text:t,scale:n,fonts:r,colors:o,fontSizes:i,effect:a,boxSize:e,rotate:s,position:l})})},ImageLayer=(TextLayer.info={name:"Text",type:"Text"},({image:t,boxSize:e,position:n,rotate:r})=>{const{actions:o,pageIndex:i,id:a}=useLayer(),s=useSelectedLayers()["selectedLayerIds"];var l=useEditor(e=>({imageEditor:e.imageEditor}))["imageEditor"];const[c,u]=useState(Object.assign(Object.assign({},t),{url:t.thumb}));return useEffect(()=>{var e=new Image;e.onload=()=>{u(e=>Object.assign(Object.assign({},e),{url:t.url}))},e.src=t.url},[t,u]),useEffect(()=>{u(t)},[t]),jsx("div",{css:{pointerEvents:"auto",visibility:l&&l.pageIndex===i&&l.layerId===a?"hidden":void 0},onDoubleClick:()=>s.includes(a)&&o.openImageEditor({position:n,rotate:r,boxSize:e,image:t}),children:jsx(ImageContent,{image:c,boxSize:e,rotate:r,position:n})})}),GroupLayer=(ImageLayer.info={name:"Image",type:"Image"},({boxSize:e,scale:t,children:n})=>jsx("div",{css:{transformOrigin:"0 0"},style:{width:e.width/t,height:e.height/t,transform:`scale(${t})`},children:n})),FrameLayer=(GroupLayer.info={name:"Group",type:"Group"},({clipPath:e,image:r,color:o,gradientBackground:i,boxSize:a,position:t,rotate:n,scale:s})=>{const l=useContext(EditorContext)["config"],{actions:c,pageIndex:u,id:d}=useLayer(),p=useSelectedLayers()["selectedLayerIds"];var f=useEditor(e=>({imageEditor:e.imageEditor}))["imageEditor"];const[h,m]=useState(null);useEffect(()=>{if(r){const t=new Image;t.onload=()=>{m(e=>e&&Object.assign(Object.assign({},e),{url:t.src}))},t.src=r.url}},[r]),useEffect(()=>{var e,t,n;r||o||i?m(r):m((e=l.frame.defaultImage.width/l.frame.defaultImage.height,t=a.width/a.height,n=t<e?a.height/s*e:a.width/s,t=t<e?a.height/s:a.width/s*e,{boxSize:{width:n,height:t},position:{x:-(n-a.width/s)/2,y:-(t-a.height/s)/2},rotate:0,url:l.frame.defaultImage.url,thumb:l.frame.defaultImage.url}))},[r,o,i]);return jsx("div",{css:{transformOrigin:"0 0"},style:{width:a.width/s,height:a.height/s,transform:`scale(${s})`,visibility:f&&f.pageIndex===u&&f.layerId===d?"hidden":void 0},onDoubleClick:()=>{r&&p.includes(d)&&c.openImageEditor({boxSize:a,position:t,rotate:n,image:{boxSize:{width:r.boxSize.width*s,height:r.boxSize.height*s},position:{x:r.position.x*s,y:r.position.y*s},rotate:r.rotate||0,url:r.url}})},children:jsx(FrameContent,{clipPath:e,scale:s,color:o,gradientBackground:i,image:h,boxSize:a,rotate:n,position:t})})}),SvgLayer=(FrameLayer.info={name:"Frame",type:"Frame"},e=>{var t=e["boxSize"],e=__rest(e,["boxSize"]);return jsx("div",{css:{transformOrigin:"0 0"},style:{width:t.width,height:t.height},children:jsx(SvgContent,Object.assign({boxSize:t},e))})}),RootLayer=(SvgLayer.info={name:"Svg",type:"Svg"},({boxSize:e,children:t,color:n,gradientBackground:r,image:o,position:i,rotate:a,scale:s})=>{const l=useLayer()["actions"];return jsxs(Fragment$1,{children:[jsx(RootContent,{boxSize:e,position:i,rotate:a,gradientBackground:r,color:n,image:o,scale:s,onDoubleClick:()=>o&&l.openImageEditor({boxSize:e,position:i,rotate:a,image:o})}),t]})}),resolvers=(RootLayer.info={name:"Main",type:"Root"},{RootLayer:RootLayer,ShapeLayer:ShapeLayer,TextLayer:TextLayer,ImageLayer:ImageLayer,GroupLayer:GroupLayer,FrameLayer:FrameLayer,SvgLayer:SvgLayer}),resolveComponent=t=>{const e="string"==typeof t?"string":t.name;if(resolvers[e])return e;for(let e=0;e<Object.keys(resolvers).length;e++){var n=Object.keys(resolvers)[e];if(resolvers[n]===t)return n}return t},getRandomId=()=>v4(),deserializeLayer=e=>{var{type:t,props:n}=deserializeComponent(e);return Object.assign(Object.assign({},t.info),{comp:t,props:n,locked:e.locked,child:e.child,parent:e.parent})},deserializeComponent=e=>{var{type:{resolvedName:e},props:t}=e,e=resolvers[e];return createElement(e,t)},serializeLayers=(t,e)=>{let n={};return n[e]={type:{resolvedName:resolveComponent(t[e].data.comp)},props:t[e].data.props,locked:t[e].data.locked,child:t[e].data.child,parent:t[e].data.parent},t[e].data.child.forEach(e=>{n=Object.assign(Object.assign({},n),serializeLayers(t,e))}),n},isRootLayer=e=>"Root"===e.data.type,isMainLayer=e=>"ROOT"===e.data.parent,isGroupLayer=e=>"Group"===e.data.type,isTextLayer=e=>"Text"===e.data.type,isFrameLayer=e=>"Frame"===e.data.type,isSvgLayer=e=>"Svg"===e.data.type,isImageLayer=e=>"Image"===e.data.type,isShapeLayer=e=>"Shape"===e.data.type,copy=async(t,{pageIndex:n,layerIds:e})=>{const r=[];e.map(e=>{r.push({rootId:e,layers:serializeLayers(t.pages[n].layers,e)})}),await navigator.clipboard.writeText(JSON.stringify(r))},paste=async({actions:e})=>{var t=await navigator.clipboard.readText();try{JSON.parse(t).forEach(t=>{Object.entries(t.layers).forEach(([e])=>{t.layers[e].props.position.x+=10,t.layers[e].props.position.y+=10}),e.addLayerTree(t)})}catch(e){}},duplicate=(t,{pageIndex:n,layerIds:e,actions:r})=>{const o=[];e.map(e=>{o.push({rootId:e,layers:lodashExports.cloneDeep(serializeLayers(t.pages[n].layers,e))})}),r.addLayerTrees(o.map(t=>(Object.entries(t.layers).forEach(([e])=>{t.layers[e].props.position.x+=10,t.layers[e].props.position.y+=10}),t)))};var ClipboardIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M200 32h-36.26a47.92 47.92 0 0 0-71.48 0H56a16 16 0 0 0-16 16v168a16 16 0 0 0 16 16h144a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16Zm-72 0a32 32 0 0 1 32 32H96a32 32 0 0 1 32-32Zm72 184H56V48h26.75A47.93 47.93 0 0 0 80 64v8a8 8 0 0 0 8 8h80a8 8 0 0 0 8-8v-8a47.93 47.93 0 0 0-2.75-16H200Z"})}))},CopyIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"})}))},TrashIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M216 48h-40v-8a24 24 0 0 0-24-24h-48a24 24 0 0 0-24 24v8H40a8 8 0 0 0 0 16h8v144a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16V64h8a8 8 0 0 0 0-16ZM96 40a8 8 0 0 1 8-8h48a8 8 0 0 1 8 8v8H96Zm96 168H64V64h128Zm-80-104v64a8 8 0 0 1-16 0v-64a8 8 0 0 1 16 0Zm48 0v64a8 8 0 0 1-16 0v-64a8 8 0 0 1 16 0Z"})}))},LayersIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},e,{children:jsx$1("path",{fill:"currentColor",d:"m19.474 12.838 1.697.835a1 1 0 0 1 0 1.795L13.32 19.33a3 3 0 0 1-2.649 0L2.82 15.468a1 1 0 0 1 0-1.795l1.697-.835 1.698.836-1.821.896 6.94 3.415a1.5 1.5 0 0 0 1.324 0l6.94-3.415-1.822-.896 1.7-.836ZM13.32 4.673l7.852 3.864a1 1 0 0 1 0 1.794l-7.852 3.864a3 3 0 0 1-2.649 0L2.82 10.33a1 1 0 0 1 0-1.794l7.851-3.864a3 3 0 0 1 2.65 0Zm-1.986 8.176a1.5 1.5 0 0 0 1.324 0l6.94-3.415-6.94-3.415a1.5 1.5 0 0 0-1.324 0l-6.94 3.415 6.94 3.415Z"})}))},SelectionBackgroundIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M160 80H48a16 16 0 0 0-16 16v112a16 16 0 0 0 16 16h112a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16Zm0 128H48V96h112ZM136 40a8 8 0 0 1 8-8h16a8 8 0 0 1 0 16h-16a8 8 0 0 1-8-8Zm88 8v8a8 8 0 0 1-16 0v-8h-8a8 8 0 0 1 0-16h8a16 16 0 0 1 16 16Zm0 48v16a8 8 0 0 1-16 0V96a8 8 0 0 1 16 0Zm0 56v8a16 16 0 0 1-16 16h-8a8 8 0 0 1 0-16h8v-8a8 8 0 0 1 16 0ZM80 56v-8a16 16 0 0 1 16-16h8a8 8 0 0 1 0 16h-8v8a8 8 0 0 1-16 0Z"})}))},SelectionForegroundIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M64 216a8 8 0 0 1-8 8h-8a16 16 0 0 1-16-16v-8a8 8 0 0 1 16 0v8h8a8 8 0 0 1 8 8Zm48-8H96a8 8 0 0 0 0 16h16a8 8 0 0 0 0-16Zm-72-40a8 8 0 0 0 8-8v-16a8 8 0 0 0-16 0v16a8 8 0 0 0 8 8Zm128 24a8 8 0 0 0-8 8v8h-8a8 8 0 0 0 0 16h8a16 16 0 0 0 16-16v-8a8 8 0 0 0-8-8Zm0-80a8 8 0 0 0 8-8v-8a16 16 0 0 0-16-16h-8a8 8 0 0 0 0 16h8v8a8 8 0 0 0 8 8ZM56 80h-8a16 16 0 0 0-16 16v8a8 8 0 0 0 16 0v-8h8a8 8 0 0 0 0-16Zm152-48H96a16 16 0 0 0-16 16v40a4.44 4.44 0 0 0 0 .55A8 8 0 0 0 88 96h24a8 8 0 0 0 0-16H96V48h112v112h-32v-16a8 8 0 0 0-16 0v24a8 8 0 0 0 8 8h40a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16Z"})}))},DuplicateIcon=function(e){return jsxs$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:"1em",height:"1em"},e,{children:[jsx$1("path",{fill:"none",d:"M0 0h256v256H0z"}),jsx$1("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:12,d:"M168 168h48V40H88v48"}),jsx$1("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:12,d:"M40 88h128v128H40z"}),jsx$1("path",{fill:"currentColor",d:"M138.14 152.43a4.46 4.46 0 0 1-4.45 4.46h-25.26v25.25a4.46 4.46 0 0 1-8.92 0v-25.25H74.26a4.46 4.46 0 0 1 0-8.92h25.25v-25.26a4.46 4.46 0 0 1 8.92 0V148h25.26a4.46 4.46 0 0 1 4.45 4.43Z"})]}))},LockKeyIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M128 112a28 28 0 0 0-8 54.83V184a8 8 0 0 0 16 0v-17.17a28 28 0 0 0-8-54.83Zm0 40a12 12 0 1 1 12-12 12 12 0 0 1-12 12Zm80-72h-32V56a48 48 0 0 0-96 0v24H48a16 16 0 0 0-16 16v112a16 16 0 0 0 16 16h160a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16ZM96 56a32 32 0 0 1 64 0v24H96Zm112 152H48V96h160v112Z"})}))},BoundingBoxIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M208 96a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16h-32a16 16 0 0 0-16 16v8H96v-8a16 16 0 0 0-16-16H48a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h8v64h-8a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h32a16 16 0 0 0 16-16v-8h64v8a16 16 0 0 0 16 16h32a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-8V96Zm-32-48h32v32h-32ZM48 48h32v15.9a.51.51 0 0 0 0 .2V80H48Zm32 160H48v-32h32v15.9a.51.51 0 0 0 0 .2V208Zm128 0h-32v-32h32Zm-24-48h-8a16 16 0 0 0-16 16v8H96v-8a16 16 0 0 0-16-16h-8V96h8a16 16 0 0 0 16-16v-8h64v8a16 16 0 0 0 16 16h8Z"})}))},ShapesIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M71.59 61.47a8 8 0 0 0-15.18 0l-40 120A8 8 0 0 0 24 192h80a8 8 0 0 0 7.59-10.53ZM35.1 176 64 89.3 92.9 176ZM208 76a52 52 0 1 0-52 52 52.06 52.06 0 0 0 52-52Zm-88 0a36 36 0 1 1 36 36 36 36 0 0 1-36-36Zm104 68h-88a8 8 0 0 0-8 8v56a8 8 0 0 0 8 8h88a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8Zm-8 56h-72v-40h72Z"})}))},CaretCircleUpIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M128 24a104 104 0 1 0 104 104A104.11 104.11 0 0 0 128 24Zm0 192a88 88 0 1 1 88-88 88.1 88.1 0 0 1-88 88Zm45.66-77.66a8 8 0 0 1-11.32 11.32L128 115.31l-34.34 34.35a8 8 0 0 1-11.32-11.32l40-40a8 8 0 0 1 11.32 0Z"})}))},CaretCircleDoubleUpIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M201.54 54.46A104 104 0 0 0 54.46 201.54 104 104 0 0 0 201.54 54.46Zm-11.31 135.77a88 88 0 1 1 0-124.46 88.11 88.11 0 0 1 0 124.46Zm-24.57-27.89a8 8 0 0 1-11.32 11.32L128 147.31l-26.34 26.35a8 8 0 0 1-11.32-11.32l32-32a8 8 0 0 1 11.32 0Zm0-56a8 8 0 0 1-11.32 11.32L128 91.31l-26.34 26.35a8 8 0 0 1-11.32-11.32l32-32a8 8 0 0 1 11.32 0Z"})}))},CaretCircleDownIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M128 24a104 104 0 1 0 104 104A104.11 104.11 0 0 0 128 24Zm0 192a88 88 0 1 1 88-88 88.1 88.1 0 0 1-88 88Zm45.66-109.66a8 8 0 0 1 0 11.32l-40 40a8 8 0 0 1-11.32 0l-40-40a8 8 0 0 1 11.32-11.32L128 140.69l34.34-34.35a8 8 0 0 1 11.32 0Z"})}))},XIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M205.66 194.34a8 8 0 0 1-11.32 11.32L128 139.31l-66.34 66.35a8 8 0 0 1-11.32-11.32L116.69 128 50.34 61.66a8 8 0 0 1 11.32-11.32L128 116.69l66.34-66.35a8 8 0 0 1 11.32 11.32L139.31 128Z"})}))},AlignLeftIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M48 40v176a8 8 0 0 1-16 0V40a8 8 0 0 1 16 0Zm16 64V64a16 16 0 0 1 16-16h96a16 16 0 0 1 16 16v40a16 16 0 0 1-16 16H80a16 16 0 0 1-16-16Zm16 0h96V64H80Zm152 48v40a16 16 0 0 1-16 16H80a16 16 0 0 1-16-16v-40a16 16 0 0 1 16-16h136a16 16 0 0 1 16 16Zm-16 40v-40H80v40h136Z"})}))},CaretRightIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"m181.66 133.66-80 80a8 8 0 0 1-11.32-11.32L164.69 128 90.34 53.66a8 8 0 0 1 11.32-11.32l80 80a8 8 0 0 1 0 11.32Z"})}))};const ContextMenuItem=({name:e,icon:t,shortcut:n,disabled:r=!1,children:o,onClick:i})=>{const[a,s]=useState(!1);return jsxs("div",{css:{padding:"8px 16px 8px 8px",display:"flex",alignItems:"center",position:"relative",color:r?"rgba(36,49,61,.4)":"rgb(13, 18, 22)",cursor:r?"not-allowed":"pointer",":hover":{background:r?void 0:"rgba(64,87,109,.07)"}},onMouseOver:()=>s(!0),onMouseOut:()=>s(!1),onMouseLeave:()=>s(!1),onClick:()=>!r&&i&&i(),children:[jsx("div",{css:{fontSize:20},children:t}),jsx("div",{css:{marginLeft:8,fontSize:14,flexGrow:1,whiteSpace:"nowrap"},children:e}),jsx("div",{css:{width:48,paddingLeft:8,"@media (max-width: 900px)":{display:"none"}}}),(o||n)&&jsxs("div",{css:{height:24,lineHeight:"24px",fontSize:n?12:20,padding:n?"0 8px":0,marginLeft:8,background:n?"rgba(64,87,109,.07)":void 0,borderRadius:4,whiteSpace:"nowrap","@media (max-width: 900px)":{display:"none"}},children:[n,o&&jsx(CaretRightIcon,{})]}),a&&o]})};var AlignBottomIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M224 216a8 8 0 0 1-8 8H40a8 8 0 0 1 0-16h176a8 8 0 0 1 8 8Zm-88-40V80a16 16 0 0 1 16-16h40a16 16 0 0 1 16 16v96a16 16 0 0 1-16 16h-40a16 16 0 0 1-16-16Zm16 0h40V80h-40Zm-104 0V40a16 16 0 0 1 16-16h40a16 16 0 0 1 16 16v136a16 16 0 0 1-16 16H64a16 16 0 0 1-16-16Zm16 0h40V40H64Z"})}))},AlignTopIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M224 40a8 8 0 0 1-8 8H40a8 8 0 0 1 0-16h176a8 8 0 0 1 8 8Zm-16 40v96a16 16 0 0 1-16 16h-40a16 16 0 0 1-16-16V80a16 16 0 0 1 16-16h40a16 16 0 0 1 16 16Zm-16 0h-40v96h40Zm-72 0v136a16 16 0 0 1-16 16H64a16 16 0 0 1-16-16V80a16 16 0 0 1 16-16h40a16 16 0 0 1 16 16Zm-16 0H64v136h40Z"})}))},AlignRightIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M224 40v176a8 8 0 0 1-16 0V40a8 8 0 0 1 16 0Zm-32 24v40a16 16 0 0 1-16 16H80a16 16 0 0 1-16-16V64a16 16 0 0 1 16-16h96a16 16 0 0 1 16 16Zm-16 0H80v40h96Zm16 88v40a16 16 0 0 1-16 16H40a16 16 0 0 1-16-16v-40a16 16 0 0 1 16-16h136a16 16 0 0 1 16 16Zm-16 0H40v40h136Z"})}))},AlignCenterHorizontalIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M208 136h-72v-16h48a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16h-48V32a8 8 0 0 0-16 0v16H72a16 16 0 0 0-16 16v40a16 16 0 0 0 16 16h48v16H48a16 16 0 0 0-16 16v40a16 16 0 0 0 16 16h72v16a8 8 0 0 0 16 0v-16h72a16 16 0 0 0 16-16v-40a16 16 0 0 0-16-16ZM72 64h112v40H72Zm136 128H48v-40h160v40Z"})}))},AlignCenterVerticalIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M224 120h-16V72a16 16 0 0 0-16-16h-40a16 16 0 0 0-16 16v48h-16V48a16 16 0 0 0-16-16H64a16 16 0 0 0-16 16v72H32a8 8 0 0 0 0 16h16v72a16 16 0 0 0 16 16h40a16 16 0 0 0 16-16v-72h16v48a16 16 0 0 0 16 16h40a16 16 0 0 0 16-16v-48h16a8 8 0 0 0 0-16Zm-120 88H64V48h40Zm88-24h-40V72h40Z"})}))};const SubMenu=({transform:r,children:e})=>{const o=useRef(null),[t,i]=useState({x:-9999,y:-9999});return useEffect(()=>{var e,t,n;o.current&&o.current.parentElement&&(e={x:0,y:0},t=o.current.parentElement,n=o.current.getBoundingClientRect(),r.y+t.offsetTop+n.height>window.innerHeight?e.y=t.offsetTop-(r.y+t.offsetTop+n.height-window.innerHeight):e.y=t.offsetTop,r.x+t.offsetWidth+n.width>window.innerWidth?e.x=-n.width:e.x=t.offsetLeft+t.offsetWidth,i(e))},[r]),jsx("div",{ref:o,css:{position:"fixed",top:0,left:0,transform:getTransformStyle({position:t}),paddingLeft:8,paddingRight:8},children:jsx("div",{css:{background:"white",paddingTop:8,paddingBottom:8,borderRadius:4,zIndex:30,boxShadow:"0 0 0 1px rgba(64,87,109,.07),0 2px 12px rgba(53,71,90,.2)"},children:e})})};var CaretCircleDoubleDownIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M201.54 54.46A104 104 0 0 0 54.46 201.54 104 104 0 0 0 201.54 54.46Zm-11.31 135.77a88 88 0 1 1 0-124.46 88.11 88.11 0 0 1 0 124.46ZM165.66 82.34a8 8 0 0 1 0 11.32l-32 32a8 8 0 0 1-11.32 0l-32-32a8 8 0 0 1 11.32-11.32L128 108.69l26.34-26.35a8 8 0 0 1 11.32 0Zm0 56a8 8 0 0 1 0 11.32l-32 32a8 8 0 0 1-11.32 0l-32-32a8 8 0 0 1 11.32-11.32L128 164.69l26.34-26.35a8 8 0 0 1 11.32 0Z"})}))};const useForwardedRef=e=>{const t=useRef(null);return useEffect(()=>{e&&("function"==typeof e?e(t.current):e.current=t.current)}),t},LayerContextMenu=(e,t)=>{const{selectedLayerIds:n,selectedLayers:r}=useSelectedLayers(),o=useForwardedRef(t),[i,a]=useState({x:-9999,y:-9999}),{state:s,openMenu:l,actions:c,pageIndex:u,pageSize:d,rootLayer:p}=useEditor(e=>({openMenu:e.openMenu,pageIndex:e.activePage,pageSize:e.pageSize,rootLayer:e.pages[e.activePage]&&e.pages[e.activePage].layers.ROOT})),f=r.find(e=>"Image"===e.data.type);var t=useCallback(async()=>{await paste({actions:c}),c.hideContextMenu()},[c,u]),h=useCallback(()=>{n.includes("ROOT")||(c.deleteLayer(u,n),c.hideContextMenu())},[c,n]);const m=0===(null===p||void 0===p?void 0:p.data.child.findIndex(e=>n.includes(e))),g=(null===p||void 0===p?void 0:p.data.child.findLastIndex(e=>n.includes(e)))===((null===p||void 0===p?void 0:p.data.child.length)||0)-1;const v=e=>{c.setAlign(e),c.hideContextMenu()};var y;return useEffect(()=>{var e,t;e=null==(e=o.current)?void 0:e.getBoundingClientRect(),t={x:-9999,y:-9999},l&&(t.x=0,t.y=0,e.width+l.clientX>window.innerWidth&&(t.x=-e.width),e.height+l.clientY>window.innerHeight)&&(t.y=window.innerHeight-e.height-l.clientY),a(t);const n=()=>{c.hideContextMenu()};return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[o,l]),l?(y=!!r.find(e=>isGroupLayer(e)),jsxs("div",{ref:o,css:{position:"fixed",top:0,left:0,background:"white",paddingTop:8,paddingBottom:8,borderRadius:4,zIndex:30,boxShadow:"0 0 0 1px rgba(64,87,109,.07),0 2px 12px rgba(53,71,90,.2)",transform:getTransformStyle({position:{x:l.clientX+i.x,y:l.clientY+i.y}}),"@media (max-width: 900px)":{bottom:0,top:"auto",transform:"none",display:"flex",right:0,padding:0}},children:[jsx("div",{css:{display:"none","@media (max-width: 900px)":{flexShrink:0,fontSize:24,width:48,height:48,borderRadius:"50%",background:"#EBECF0",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",margin:16}},onClick:()=>c.hideContextMenu(),children:jsx(XIcon,{})}),jsxs("div",{css:{"@media (max-width: 900px)":{overflowX:"auto",flexGrow:1,padding:16,display:"flex"}},children:[!n.includes("ROOT")&&jsx(ContextMenuItem,{name:"Copy",icon:jsx(CopyIcon,{}),shortcut:"Ctrl+C",onClick:async()=>{await copy(s,{pageIndex:u,layerIds:n}),c.hideContextMenu()}}),!n.includes("ROOT")&&jsxs(Fragment$1,{children:[jsx(ContextMenuItem,{name:"Paste",icon:jsx(ClipboardIcon,{}),shortcut:"Ctrl+V",onClick:t}),jsx(ContextMenuItem,{name:"Duplicate",icon:jsx(DuplicateIcon,{}),shortcut:"Ctrl+D",onClick:()=>{duplicate(s,{pageIndex:u,layerIds:n,actions:c}),c.hideContextMenu()}}),jsx(ContextMenuItem,{name:"Delete",icon:jsx(TrashIcon,{}),shortcut:"Delete",onClick:h})]}),!n.includes("ROOT")&&jsxs(Fragment$1,{children:[jsx("div",{css:{marginTop:8,marginBottom:8,height:1,borderBottom:"1px solid rgba(57,76,96,.15)",width:"100%"}}),jsx(ContextMenuItem,{name:"Layer",icon:jsx(LayersIcon,{}),children:jsxs(SubMenu,{transform:{x:l.clientX+i.x,y:l.clientY+i.y},children:[jsx(ContextMenuItem,{name:"Bring Forward",icon:jsx(CaretCircleUpIcon,{}),shortcut:"Ctrl+]",disabled:g,onClick:()=>{g||(c.bringForward(u,n),c.hideContextMenu())}}),jsx(ContextMenuItem,{name:"Bring to Front",icon:jsx(CaretCircleDoubleUpIcon,{}),shortcut:"Ctrl+Alt+]",disabled:g,onClick:()=>{g||(c.bringToFront(u,n),c.hideContextMenu())}}),jsx(ContextMenuItem,{name:"Send Backward",icon:jsx(CaretCircleDownIcon,{}),shortcut:"Ctrl+[",disabled:m,onClick:()=>{m||(c.sendBackward(u,n),c.hideContextMenu())}}),jsx(ContextMenuItem,{name:"Send to Back",icon:jsx(CaretCircleDoubleDownIcon,{}),shortcut:"Ctrl+Alt+[",disabled:m,onClick:()=>{m||(c.sendToBack(u,n),c.hideContextMenu())}}),jsx(ContextMenuItem,{name:"Show Layers",icon:jsx(LayersIcon,{}),onClick:()=>{c.setSidebar("LAYER_MANAGEMENT"),c.hideContextMenu()}})]})}),jsx(ContextMenuItem,{name:"Align",icon:jsx(AlignLeftIcon,{}),children:jsxs(SubMenu,{transform:{x:l.clientX+i.x,y:l.clientY+i.y},children:[jsx(ContextMenuItem,{name:"Left",icon:jsx(AlignLeftIcon,{}),onClick:()=>v("left")}),jsx(ContextMenuItem,{name:"Center",icon:jsx(AlignCenterHorizontalIcon,{}),onClick:()=>v("center")}),jsx(ContextMenuItem,{name:"Right",icon:jsx(AlignRightIcon,{}),onClick:()=>v("right")}),jsx(ContextMenuItem,{name:"Top",icon:jsx(AlignTopIcon,{}),onClick:()=>v("top")}),jsx(ContextMenuItem,{name:"Middle",icon:jsx(AlignCenterVerticalIcon,{}),onClick:()=>v("middle")}),jsx(ContextMenuItem,{name:"Bottom",icon:jsx(AlignBottomIcon,{}),onClick:()=>v("bottom")})]})}),jsx("div",{css:{marginTop:8,marginBottom:8,height:1,borderBottom:"1px solid rgba(57,76,96,.15)",width:"100%"}})]}),1<n.length&&jsx(ContextMenuItem,{name:"Group",icon:jsx(BoundingBoxIcon,{}),onClick:()=>{c.group(n),c.hideContextMenu()}}),y&&jsx(ContextMenuItem,{name:"Ungroup",icon:jsx(ShapesIcon,{}),onClick:()=>{1===n.length&&c.ungroup(n[0]),c.hideContextMenu()}}),!n.includes("ROOT")&&jsx(ContextMenuItem,{name:"Lock",icon:jsx(LockKeyIcon,{}),onClick:()=>{c.lock(u,n),c.hideContextMenu()}}),1===n.length&&isFrameLayer(r[0])&&r[0].data.props.image&&jsx(ContextMenuItem,{name:"Detach Image",icon:jsx(SelectionBackgroundIcon,{}),onClick:()=>{var e,t,n;isFrameLayer(r[0])&&(e=r[0].data.props.image)&&(n={boxSize:{width:0,height:0}},d.width/d.height<(t=e.boxSize.width/e.boxSize.height)?(n.boxSize.width=.8*d.width,n.boxSize.height=n.boxSize.width/t):(n.boxSize.height=.8*d.height,n.boxSize.width=n.boxSize.height*t),c.addImageLayer({url:e.url,thumb:e.thumb},n.boxSize),c.history.merge().setProp(u,r[0].id,{image:null}),c.hideContextMenu())}}),f&&1===n.length&&jsx(ContextMenuItem,{name:"Set as Background Image",icon:jsx(SelectionForegroundIcon,{}),onClick:()=>{var e,t,n;f&&(e=d.width/d.height,t=(n=f.data.props.image).boxSize.width/n.boxSize.height,n=Object.assign(Object.assign({},lodashExports.cloneDeep(n)),{rotate:0}),t<e?(n.boxSize.width=d.width,n.boxSize.height=d.width/t,n.position.y=(n.boxSize.height-d.height)/-2,n.position.x=0):(n.boxSize.height=d.height,n.boxSize.width=d.height*t,n.position.x=(n.boxSize.width-d.width)/-2,n.position.y=0),c.setProp(u,"ROOT",{image:n}),c.history.merge().deleteLayer(u,f.id)),c.hideContextMenu()}}),1===n.length&&n.includes("ROOT")&&(null==(t=null===p||void 0===p?void 0:p.data.props)?void 0:t.image)&&jsx(ContextMenuItem,{name:"Set Background as Image Layer",icon:jsx(SelectionBackgroundIcon,{}),onClick:()=>{var e,t,n;p&&(e=p.data.props.image)&&(n={boxSize:{width:0,height:0}},d.width/d.height<(t=e.boxSize.width/e.boxSize.height)?(n.boxSize.width=.8*d.width,n.boxSize.height=n.boxSize.width/t):(n.boxSize.height=.8*d.height,n.boxSize.width=n.boxSize.height*t),c.addImageLayer({url:e.url,thumb:e.thumb},n.boxSize),c.history.merge().setProp(u,"ROOT",{image:null}),c.hideContextMenu())}})]})]})):null};var LayerContextMenu$1=forwardRef(LayerContextMenu);const useClickOutside=(n,e,t="mousedown",r)=>{const o=useRef(e),i=useCallback(e=>{var t=null==n?void 0:n.current;t&&!t.contains(e.target)&&o.current(e)},[n,o]);useEffect(()=>(window.addEventListener(t,i,r),()=>{window.removeEventListener(t,i,r)}),[i])},TransformLayer=({boxSize:e,rotate:t,position:n,transparency:r,children:o},i)=>jsx("div",{ref:i,css:{touchAction:"pan-x pan-y pinch-zoom",pointerEvents:"auto",position:"absolute"},style:{width:e.width,height:e.height,transform:getTransformStyle({position:n,rotate:t}),opacity:r},children:o});var TransformLayer$1=forwardRef(TransformLayer);const RenderLayer=()=>{const{id:n,comp:r,props:o,layers:i,type:e,actions:t,parent:a}=useLayer(e=>({id:e.id,comp:e.data.comp,props:e.data.props,layers:e.data.child,type:e.data.type,parent:e.data.parent})),{isResize:s,pageSize:l,isDragging:c,isRotate:u}=useEditor(e=>({isResize:e.resizeData.status,isDragging:e.dragData.status,isRotate:e.rotateData.status,pageSize:e.pageSize})),d=e=>{s||!["ROOT",null].includes(a)||c||u||(e.stopPropagation(),t.hover())},p=()=>{t.hover(null)};return useMemo(()=>{if(!r)return null;let e=null;if(i&&0<i.length&&(e=jsx(Fragment$1,{children:i.map(e=>jsx(LayerElement,{id:e},e))})),"ROOT"===n){const t=createElement(r,o,e);return jsx("div",{onMouseOver:d,onMouseLeave:p,onMouseOut:p,children:t})}const t=createElement(r,o,e);return jsx(TransformLayer$1,{boxSize:o.boxSize,rotate:o.rotate,position:o.position,transparency:o.transparency,children:jsx("div",{onMouseOver:d,onMouseLeave:p,onMouseOut:p,children:t})})},[e,r,o,i,s,l,u,c])};var RenderLayer$1=React__default$1.memo(RenderLayer);const LayerElement=({id:e})=>jsx(LayerProvider,{id:e,children:jsx(RenderLayer$1,{})}),PageElement=()=>jsx(LayerElement,{id:"ROOT"}),ImageEditorHandler=({direction:t,onResizeStart:n})=>{var e=useMemo(()=>{var e={};return t.toLowerCase().includes("top")&&(e.top=-16),t.toLowerCase().includes("left")&&(e.left=-16),t.toLowerCase().includes("bottom")&&(e.bottom=-16),t.toLowerCase().includes("right")&&(e.right=-16),e},[t]),r=useCallback(e=>{e.stopPropagation(),n(e.nativeEvent,t)},[n,t]);return jsx("div",{css:Object.assign({height:32,width:32,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"auto",zIndex:50},e),onMouseDown:r,onTouchStart:r,children:jsx("div",{css:{borderRadius:"50%",cursor:"auto",width:12,height:12,background:"white",boxShadow:"0 0 4px 1px rgba(57,76,96,.15), 0 0 0 1px rgba(43,59,74,.3)"}})})},distanceBetweenPoints=(e,t,n)=>{var r=t.clientX-e.clientX,t=t.clientY-e.clientY;return Math.sqrt(r*r+t*t)/(n||1)},horizontalAndVerticalChange=(e,t,n)=>{t=(t-e)*Math.PI/180;return{width:n*Math.cos(t),height:n*Math.sin(t)}},angleBetweenPoints=(e,t)=>180*Math.atan2(t.clientY-e.clientY,t.clientX-e.clientX)/Math.PI,getSizeWithRatio=(e,t,n)=>{return n?t<(n=e.width/e.height)?Object.assign(Object.assign({},e),{height:e.width/t}):n<t?Object.assign(Object.assign({},e),{width:e.height*t}):e:e},applyToPoint=(e,t)=>({x:e.a*t.x+e.c*t.y,y:e.b*t.x+e.d*t.y}),visualCorners=(e,t,n)=>{var r=e.width/2,e=e.height/2,o={x:-r,y:-e},i={x:r,y:-e},a={x:-r,y:e},s={x:r,y:e},o=applyToPoint(t,o),i=applyToPoint(t,i),a=applyToPoint(t,a),t=applyToPoint(t,s);return{nw:{x:o.x+r+n.x,y:o.y+e+n.y},ne:{x:i.x+r+n.x,y:i.y+e+n.y},sw:{x:a.x+r+n.x,y:a.y+e+n.y},se:{x:t.x+r+n.x,y:t.y+e+n.y}}},getPositionChangesBetweenTwoCorners=(e,t,n)=>{let r,o;switch(n){case"topRight":r=t.sw.x-e.sw.x,o=t.sw.y-e.sw.y;break;case"bottomLeft":r=t.ne.x-e.ne.x,o=t.ne.y-e.ne.y;break;case"top":case"left":case"topLeft":r=t.se.x-e.se.x,o=t.se.y-e.se.y;break;default:r=t.nw.x-e.nw.x,o=t.nw.y-e.nw.y}return{changeX:r,changeY:o}},useResize=d=>{const p=useEditor(e=>({frameScale:e.scale}))["frameScale"];return useMemo(()=>({getResized:(e,t,n,r)=>{var{boxSize:o,position:i,rotate:a,scale:s}=d(),l=o.width/o.height,c=new WebKitCSSMatrix(getTransformStyle({position:i,rotate:a})),u=distanceBetweenPoints(t,n,p),t=horizontalAndVerticalChange(a,angleBetweenPoints(t,n),u),n=getNewSize(o,t,i,e),u=Object.assign(Object.assign({},n),{width:Math.max(20,n.width),height:Math.max(20,n.height)}),t=getSizeWithRatio(u,l,r),n=visualCorners(o,c,i),u=visualCorners(t,c,t),{changeX:l,changeY:r}=getPositionChangesBetweenTwoCorners(n,u,e);return{boxSize:t,position:{x:t.x-l,y:t.y-r},rotate:a,scale:s}}}),[d,p])},getNewSize=(e,t,n,r)=>{switch(r){case"top":return{x:n.x,y:n.y+t.height,width:e.width,height:e.height-t.height};case"bottom":return{x:n.x,y:n.y,width:e.width,height:e.height+t.height};case"left":return{x:n.x+t.width,y:n.y,width:e.width-t.width,height:e.height};case"right":return{x:n.x,y:n.y,width:e.width+t.width,height:e.height};case"topLeft":return{x:n.x+t.width,y:n.y+t.height,width:e.width-t.width,height:e.height-t.height};case"bottomLeft":return{x:n.x+t.width,y:n.y,width:e.width-t.width,height:e.height+t.height};case"bottomRight":return{x:n.x,y:n.y,width:e.width+t.width,height:e.height+t.height};default:return{x:n.x,y:n.y+t.height,width:e.width+t.width,height:e.height-t.height}}},getImageSize$1=(e,t,n,r)=>{var o,i=lodashExports.cloneDeep({boxSize:e.boxSize,position:e.position,rotate:e.rotate,scale:e.scale,image:{boxSize:t.boxSize,position:t.position,rotate:t.rotate}}),a=t.boxSize.width/t.boxSize.height;return 0!==r.width&&(i.boxSize.width+=r.width,n.toLowerCase().includes("left")&&(r.width>Math.abs(i.image.position.x)?(i.image.position.x=0,o=r.width-Math.abs(t.position.x),i.image.boxSize.width+=o,i.image.boxSize.height+=o*a):i.image.position.x+=r.width),n.toLowerCase().includes("right"))&&r.width+e.boxSize.width-t.position.x>t.boxSize.width&&(o=r.width+e.boxSize.width-t.position.x-t.boxSize.width,i.image.boxSize.width+=o,i.image.boxSize.height+=o*a),0!==r.height&&(i.boxSize.height+=r.height,n.toLowerCase().includes("top")&&(r.height>Math.abs(i.image.position.y)?(i.image.position.y=0,o=r.height-Math.abs(t.position.y),i.image.boxSize.height+=o,i.image.boxSize.width+=o/a):i.image.position.y+=r.height),n.toLowerCase().includes("bottom"))&&r.height+e.boxSize.height-t.position.y>t.boxSize.height&&(o=r.height+e.boxSize.height-t.position.y-t.boxSize.height,i.image.boxSize.height+=o,i.image.boxSize.width+=o/a),i},useResizeImage=({getData:e,onResizeStart:o,onResize:r,onResizeEnd:n,lockAspect:i=!1})=>{const a=useRef({clientX:0,clientY:0,last:{clientX:0,clientY:0},direction:"topRight",isResizing:!1,lockAspect:i}),s=useResize(e)["getResized"],l=(e,t)=>s(a.current.direction,a.current,{clientX:e,clientY:t},a.current.lockAspect),c=lodashExports.throttle(e=>{e.stopPropagation(),a.current.e=e;var{clientX:e,clientY:t}=getPosition(e),n=(a.current.last={clientX:e,clientY:t},l(e,t));r(n,a.current.direction,a.current,{clientX:e,clientY:t})},16),u=e=>{e.stopPropagation();var{clientX:e,clientY:t}=a.current.last,e=l(e,t);n&&n(e),window.removeEventListener("mousemove",c),window.removeEventListener("touchmove",c),window.removeEventListener("mouseup",u),window.removeEventListener("mouseleave",u),window.removeEventListener("touchend",u)};useEffect(()=>{const e=e=>{a.current.lockAspect=i||e.shiftKey,a.current.e&&a.current.isResizing&&c(a.current.e)};return window.addEventListener("keydown",e),window.addEventListener("keyup",e),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",e)}},[c]);return{startResize:(e,t)=>{var{clientX:n,clientY:r}=getPosition(e);a.current={clientX:n,clientY:r,last:{clientX:n,clientY:r},direction:t,e:e,isResizing:!0,lockAspect:i},o(e,t),window.addEventListener("mousemove",c),window.addEventListener("touchmove",c),window.addEventListener("mouseup",u,{once:!0}),window.addEventListener("mouseleave",u,{once:!0}),window.addEventListener("touchend",u,{once:!0})}}};function useLinkedRef(e){const t=void 0===e?useRef():useRef(e);var e=useCallback(()=>t.current,[]),n=useCallback(e=>{t.current=e},[]);return[t,e,n]}const boundingRect=(e,t,n)=>{var n=n*Math.PI/180,r=Math.cos(n),n=Math.sin(n),o=e.width*Math.abs(r)+e.height*Math.abs(n),n=e.width*Math.abs(n)+e.height*Math.abs(r),r=t.x+e.width/2,t=t.y+e.height/2;return{width:o,height:n,centerX:r,centerY:t,x:r-o/2,y:t-n/2}},useDrag=({getData:r,onDragStart:n})=>{const{imageEditor:o,actions:i,scale:a}=useEditor(e=>{return{imageEditor:e.imageEditor,scale:e.scale}}),s=useRef(),l=()=>{window.removeEventListener("mousemove",u),window.removeEventListener("touchmove",u),window.removeEventListener("mouseup",d),window.removeEventListener("mouseleave",d),window.removeEventListener("touchend",d)},c=({clientX:e,clientY:t})=>{var n=distanceBetweenPoints(s.current,{clientX:e,clientY:t},a),e=horizontalAndVerticalChange(r(),angleBetweenPoints(s.current,{clientX:e,clientY:t}),n);return{x:e.width,y:e.height}},u=lodashExports.throttle(e=>{var t;o&&s.current&&(e.stopPropagation(),{clientX:e,clientY:t}=getPosition(e),s.current.moveX=e,s.current.moveY=t,e=c({clientX:e,clientY:t}),t=boundingRect(o.boxSize,{x:o.image.position.x+e.x,y:o.image.position.y+e.y},0),e=Math.min(Math.max(t.x,t.width-o.image.boxSize.width),0),t=Math.min(Math.max(t.y,t.height-o.image.boxSize.height),0),o)&&i.updateImageEditor({image:{position:{x:e,y:t}}})},16),d=()=>{var e,t;o&&s.current&&({moveX:e,moveY:t}=s.current,e=c({clientX:e,clientY:t}),t=boundingRect(o.boxSize,{x:o.image.position.x+e.x,y:o.image.position.y+e.y},0),e=Math.min(Math.max(t.x,t.width-o.image.boxSize.width),0),t=Math.min(Math.max(t.y,t.height-o.image.boxSize.height),0),o&&i.updateImageEditor({image:{position:{x:e,y:t}}}),l())};return{startDrag:e=>{e.stopPropagation();var{clientX:e,clientY:t}=getPosition(e.nativeEvent);s.current={clientX:e,clientY:t,moveX:e,moveY:t},n&&n(),window.addEventListener("mousemove",u),window.addEventListener("touchmove",u),window.addEventListener("mouseup",d,{once:!0}),window.addEventListener("mouseleave",d,{once:!0}),window.addEventListener("touchend",d,{once:!0})}}},ImageEditorControl=()=>{const r=useRef(null),o=useRef(null),[m,e,t]=useLinkedRef(),[,n,i]=useLinkedRef(),{imageEditor:g,actions:v,originalLayer:a,scale:u}=useEditor(e=>{var t=e.imageEditor;return{imageEditor:t,scale:e.scale,originalLayer:e.pages[t.pageIndex].layers[t.layerId]}});var s=useDrag({getData:n,onDragStart:()=>{g&&i(g.rotate)}})["startDrag"],l=(useEffect(()=>{const e=e=>{var t=null===o||void 0===o?void 0:o.current,n=null===r||void 0===r?void 0:r.current;!t||t.contains(e.target)||"ROOT"!==g.layerId&&null!=n&&n.contains(e.target)||v.closeImageEditor()};return window.addEventListener("mousedown",e,{capture:!0}),()=>{window.removeEventListener("mousedown",e,{capture:!0})}},[]),useResizeImage({lockAspect:!0,getData:e,onResizeStart:()=>{g&&t({boxSize:g.image.boxSize,position:g.image.position,rotate:g.image.rotate})},onResize:({boxSize:o,position:i,rotate:a},s)=>{if(g&&m.current){let e=Math.min(i.x,0),t=Math.min(i.y,0),n=o.width,r=o.height;var l,c,u,d=m.current.boxSize.width/m.current.boxSize.height,p=-1*m.current.position.x- -1*m.current.position.y*d,f=-1*m.current.position.y- -1*m.current.position.x/d,h=m.current.position.x/m.current.position.y;["topLeft"].includes(s)?(c=g.boxSize.width/g.boxSize.height,l=i.y-t,u=i.x-e,(0<l||0<u)&&(c<h?(e=-p,n+=i.x-e,r+=+i.y):(t=-f,n+=i.x,r+=+i.y-t))):"bottomRight"===s&&(o.width<g.boxSize.width-g.image.position.x||o.height<g.boxSize.height-g.image.position.y)?d<(l=Math.max(o.width,g.boxSize.width-g.image.position.x))/(u=Math.max(o.height,g.boxSize.height-g.image.position.y))?(n=g.boxSize.width-g.image.position.x,r=n/d):l/u<d&&(r=g.boxSize.height-g.image.position.y,n=r*d):"topRight"===s&&(0<i.y||o.width<g.boxSize.width-m.current.position.x)?(c=g.boxSize.width-m.current.position.x,d<(p=(null==(h=m.current)?void 0:h.boxSize.width)-c)/m.current.position.y*-1?(r=Math.max(m.current.boxSize.height+m.current.position.y,o.height),n=r*d):(n=Math.max(g.boxSize.width-m.current.position.x,o.width),r=n/d,t=m.current.position.y+p/d)):"bottomLeft"===s&&(0<i.x||o.height<g.boxSize.height-m.current.position.y)&&(f=g.boxSize.height-m.current.position.y,d<((u=(null==(l=m.current)?void 0:l.boxSize.height)-f)/m.current.position.x*-1||0)?(n=Math.max(m.current.boxSize.width+m.current.position.x,o.width),r=n/d):(r=Math.max(g.boxSize.height-m.current.position.y,o.height),n=r*d,e=m.current.position.x+u*d)),v.updateImageEditor({image:{boxSize:{width:n,height:r},position:{x:e,y:t},rotate:a}})}}}))["startResize"];return useResizeImage({getData:e,onResizeStart:()=>{g&&t({boxSize:g.boxSize,position:g.position,rotate:g.rotate})},onResize:({boxSize:n,position:r,rotate:o},i,a,s)=>{if(g&&m.current){var l=distanceBetweenPoints(a,s,u),c=horizontalAndVerticalChange(g.rotate,angleBetweenPoints(a,s),l);let e=g.image.position.x,t=g.image.position.y;switch(i){case"topLeft":e-=c.width,t-=c.height;break;case"bottomLeft":e-=c.width;break;case"topRight":t-=c.height}a=Math.min(e,0),s=Math.min(t,0);v.updateImageEditor({boxSize:{width:Math.min(n.width+(a-e),g.image.boxSize.width+a),height:Math.min(n.height+(s-t),g.image.boxSize.height+s)},position:{x:Math.max(r.x,m.current.position.x+g.image.position.x),y:Math.max(r.y,m.current.position.y+g.image.position.y)},rotate:o,image:{position:{x:a,y:s}}})}},onResizeEnd:({boxSize:e,position:t,rotate:n})=>{g&&v.setProp(g.pageIndex,g.layerId,{boxSize:e,position:t,rotate:n})}}),jsxs("div",{css:{position:"absolute",inset:0,pointerEvents:"none",zIndex:4},children:["ROOT"!==g.layerId&&!isFrameLayer(a)&&jsx("div",{ref:r,css:{position:"absolute",top:0,left:0,width:g.boxSize.width*u,height:g.boxSize.height*u,outline:"2px solid #3d8eff",boxShadow:"0 0 0 1px hsla(0,0%,100%,.07), inset 0 0 0 1px hsla(0,0%,100%,.07)",transform:getTransformStyle({position:{x:g.position.x*u,y:g.position.y*u},rotate:g.rotate})},children:!1}),jsx("div",{css:{width:g.boxSize.width*u,height:g.boxSize.height*u,left:0,top:0,position:"absolute",transform:getTransformStyle({position:{x:g.position.x*u,y:g.position.y*u},rotate:g.rotate})},children:jsxs("div",{ref:o,css:{width:g.image.boxSize.width*u,height:g.image.boxSize.height*u,left:0,top:0,position:"absolute",outline:"2px solid rgba(61, 142, 255,.5)",boxShadow:"0 0 0 1px hsla(0,0%,100%,.07), inset 0 0 0 1px hsla(0,0%,100%,.07)",transform:getTransformStyle({position:{x:g.image.position.x*u,y:g.image.position.y*u},rotate:g.image.rotate})},onTouchStart:s,onMouseDown:s,children:[jsx("div",{css:{position:"absolute",inset:-12,pointerEvents:"auto",cursor:"move"}}),jsx(ImageEditorHandler,{direction:"topLeft",onResizeStart:l}),jsx(ImageEditorHandler,{direction:"topRight",onResizeStart:l}),jsx(ImageEditorHandler,{direction:"bottomRight",onResizeStart:l}),jsx(ImageEditorHandler,{direction:"bottomLeft",onResizeStart:l})]})})]})},positionOfObjectInsideAnother=(e,t)=>{var n=boundingRect(e.boxSize,e.position,e.rotate),r=boundingRect(t.boxSize,{x:e.position.x+t.position.x*(e.scale||1),y:e.position.y+t.position.y*(e.scale||1)},e.rotate),o=n.centerX,n=n.centerY,i=r.centerX,r=r.centerY,a=Math.cos(e.rotate*Math.PI/180),s=Math.sin(e.rotate*Math.PI/180);const l=o+(i-o)*a-(r-n)*s,c=n+(i-o)*s+(r-n)*a;o=l-i,s=c-r;return{x:e.position.x+t.position.x*(e.scale||1)+o,y:e.position.y+t.position.y*(e.scale||1)+s,rotate:e.rotate+t.rotate}},ImageEditor=()=>{var e,t=useRef(null),{imageEditor:n,originalLayer:r,scale:o}=useEditor(e=>{var t=e.imageEditor;return{imageEditor:t,scale:e.scale,originalLayer:t?e.pages[t.pageIndex].layers[t.layerId]:null}});return n&&r?(e=positionOfObjectInsideAnother(n,n.image),jsxs("div",{css:{position:"absolute",inset:0,pointerEvents:"none"},children:[jsx("div",{css:{width:n.image.boxSize.width*o,height:n.image.boxSize.height*o,left:0,top:0,position:"absolute",transform:getTransformStyle({position:{x:e.x*o,y:e.y*o},rotate:e.rotate}),opacity:.5},children:jsx("div",{css:{width:"100%",height:"100%"},children:jsx("img",{src:n.image.url,crossOrigin:"anonymous",css:{display:"block",height:"100%",width:"100%",position:"absolute",pointerEvents:"none",objectFit:"fill"}})})}),jsx("div",{ref:t,css:{position:"absolute",top:0,left:0,width:n.boxSize.width*o,height:n.boxSize.height*o,transform:getTransformStyle({position:{x:n.position.x*o,y:n.position.y*o},rotate:n.rotate}),overflow:"hidden",clipPath:isFrameLayer(r)?scalePath(r.data.props.clipPath,r.data.props.scale*o):void 0},children:jsx("div",{css:{width:n.image.boxSize.width*o,height:n.image.boxSize.height*o,transform:getTransformStyle({position:{x:n.image.position.x*o,y:n.image.position.y*o},rotate:n.image.rotate}),opacity:1,position:"absolute",left:0,top:0},children:jsx("div",{css:{width:"100%",height:"100%"},children:jsx("img",{src:n.image.url,crossOrigin:"anonymous",css:{display:"block",height:"100%",width:"100%",position:"absolute",pointerEvents:"none",objectFit:"fill"}})})})}),jsx(ImageEditorControl,{})]})):null},getVirtualDomHeight=(e,t,n)=>{var r=document.createElement("div"),t=(r.style.width=t/n+"px",r.style.visibility="hidden",r.style.top="-9999px",r.style.transform=`scale(${n})`,r.style.position="fixed",r.appendChild(e),document.body.appendChild(r),e.clientHeight*n);return document.body.removeChild(r),{clientHeight:t}},useResizeLayer=({options:{scalable:a},getLayerData:e,setLayerData:o,controlBox:s,getControlBoxData:l,setControlBoxData:c,onResize:r,onResizeStop:n})=>{const u=useRef({clientX:0,clientY:0,lastClientX:0,lastClientY:0,direction:"right",isResizing:!1,shiftKey:!1}),d=useResize(l)["getResized"],{selectedLayers:p,selectedLayerIds:f}=useSelectedLayers(),h=useEditor()["actions"],i=(e,t)=>{var n,r,o,i=1===p.length&&isImageLayer(p[0]);return a?(n=!["top","left","right","bottom"].includes(u.current.direction),r=d(u.current.direction,u.current,{clientX:e,clientY:t},n),o=l(),Object.assign(Object.assign({},r),{scale:n?r.boxSize.width/o.boxSize.width*(o.scale||1):o.scale})):d(u.current.direction,u.current,{clientX:e,clientY:t},u.current.shiftKey&&!i||1<f.length||i&&!u.current.shiftKey&&!["top","left","right","bottom"].includes(u.current.direction))},m=({clientX:e,clientY:t})=>{var n=u.current,e=i(e,t);return!a||!["top","left","right","bottom"].includes(n.direction)||1<f.length||!isTextLayer(p[0])?e:(n=getVirtualDomHeight(null==(t=p[0].data.editor)?void 0:t.dom,e.boxSize.width,e.scale||1)["clientHeight"],mergeWithoutArray(e,{boxSize:{height:n}}))},g=r=>{const o=e(),i=l(),a=r.boxSize.width/i.boxSize.width,s={};return p.forEach(({id:e})=>{var t=o[e],n={width:t.boxSize.width*a,height:t.boxSize.height*a};s[e]={position:{x:i.position.x-(i.position.x-t.position.x)*a+(r.position.x-i.position.x),y:i.position.y-(i.position.y-t.position.y)*a+(r.position.y-i.position.y)},boxSize:n,scale:void 0!==t.scale?t.scale*a:void 0,rotate:t.rotate}}),s},v=lodashExports.throttle(e=>{var t,n;u.current.isResizing&&({clientX:t,clientY:n}=getPosition(e),u.current.lastClientX=t,u.current.lastClientY=n,u.current.e=e,e=m({clientX:t,clientY:n}),h.setResizeData(!0,f,u.current.direction,e.rotate,e.boxSize,{clientX:t,clientY:n}),1===f.length?r({controlBox:e,layers:{[f[0]]:e},direction:u.current.direction,lockAspect:!u.current.shiftKey&&!["top","left","right","bottom"].includes(u.current.direction)&&isImageLayer(p[0])||u.current.shiftKey&&!isImageLayer(p[0])}):r({controlBox:e,layers:g(e),direction:u.current.direction,lockAspect:!0}))},16),y=()=>{var e,t;u.current.isResizing&&({lastClientX:t,lastClientY:e}=u.current,t=m({clientX:t,clientY:e}),1===f.length?n({controlBox:t,layers:{[f[0]]:t},direction:u.current.direction,lockAspect:!u.current.shiftKey&&!["top","left","right","bottom"].includes(u.current.direction)&&isImageLayer(p[0])||u.current.shiftKey&&!isImageLayer(p[0])}):n({controlBox:t,layers:g(t),direction:u.current.direction,lockAspect:!0}),u.current.isResizing=!1,h.setResizeData(!1),window.removeEventListener("mousemove",v),window.removeEventListener("touchmove",v))};useEffect(()=>{const e=e=>{u.current.shiftKey=e.shiftKey,u.current.e&&u.current.isResizing&&v(u.current.e)};return window.addEventListener("keydown",e),window.addEventListener("keyup",e),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",e)}},[i]);return{startResizing:(e,t)=>{if(s){var{clientX:n,clientY:r}=getPosition(e);u.current={clientX:n,clientY:r,lastClientX:n,lastClientY:r,direction:t,e:e,isResizing:!0,shiftKey:!1},h.setResizeData(!0,f,u.current.direction,s.rotate,s.boxSize,{clientX:n,clientY:r}),c(s);const i={};p.forEach(({id:e,data:{props:{boxSize:t,position:n,rotate:r,scale:o}}})=>{i[e]=lodashExports.cloneDeep({boxSize:t,position:n,rotate:r,scale:o})}),o(i),h.history.new(),window.addEventListener("mousemove",v),window.addEventListener("touchmove",v),window.addEventListener("mouseup",y,{once:!0}),window.addEventListener("mouseleave",y,{once:!0}),window.addEventListener("touchend",y,{once:!0})}}}},setRightAngle=e=>e<1&&0<=e||e<=360&&359<e?0:44<e&&e<46?45:89<e&&e<91?90:134<e&&e<136?135:179<e&&e<181?180:224<e&&e<226?225:269<e&&e<271?270:e,useRotateLayer=({pageIndex:r,getLayerData:t,setLayerData:i,pageOffset:n,getControlBoxData:o,setControlBoxData:a,onRotate:s})=>{const f=useRef(),{selectedLayers:l,selectedLayerIds:h}=useSelectedLayers(),{scale:c,controlBox:u,actions:d}=useEditor((e,t)=>{var n=e.hoveredLayer[r];return{scale:e.scale,controlBox:e.controlBox,hoveredLayer:n&&t.getLayer(r,n)}}),p=e=>{const a=e-o().rotate,s=Math.cos(a*Math.PI/180),l=Math.sin(a*Math.PI/180),c=t(),u={},d=(null==(e=f.current)?void 0:e.centerX)||0,p=(null==(e=f.current)?void 0:e.centerY)||0;return h.map(e=>{var t=c[e],{centerX:n,centerY:r}=Object.assign({centerX:0,centerY:0},t);const o=d+(n-d)*s-(r-p)*l,i=p+(n-d)*l+(r-p)*s;u[e]={boxSize:t.boxSize,rotate:t.rotate+a,position:{x:t.position.x+(o-n),y:t.position.y+(i-r)},scale:t.scale}}),u},m=lodashExports.throttle(e=>{var t;f.current&&({clientX:e,clientY:t}=getPosition(e),f.current.last={clientX:e,clientY:t},t=180*Math.atan2(t-n.y-f.current.centerY*c,e-n.x-f.current.centerX*c)/Math.PI-(f.current.prevDegree<230&&130<f.current.prevDegree?0:90),t=setRightAngle((360+t)%360),d.setRotateData(!0,t),1===h.length?s({controlBox:Object.assign(Object.assign({},u),{rotate:t}),layers:{[l[0].id]:{boxSize:l[0].data.props.boxSize,position:l[0].data.props.position,scale:l[0].data.props.scale,rotate:t}}}):s({controlBox:Object.assign(Object.assign({},u),{rotate:t}),layers:p(t)}))},16),g=()=>{var e,t;f.current&&({clientX:e,clientY:t}=f.current.last,t=180*Math.atan2(t-n.y-f.current.centerY*c,e-n.x-f.current.centerX*c)/Math.PI-(f.current.prevDegree<230&&130<f.current.prevDegree?0:90),t=setRightAngle((360+t)%360),1===h.length?s({controlBox:Object.assign(Object.assign({},u),{rotate:t}),layers:{[l[0].id]:{boxSize:l[0].data.props.boxSize,position:l[0].data.props.position,scale:l[0].data.props.scale,rotate:t}}}):s({controlBox:Object.assign(Object.assign({},u),{rotate:t}),layers:p(t)}),f.current=void 0,d.setRotateData(!1),window.removeEventListener("touchmove",m),window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",g),window.removeEventListener("mouseleave",g),window.removeEventListener("touchend",g))};return{startRotate:e=>{var{clientX:e,clientY:t}=getPosition(e),{centerX:n,centerY:r}=boundingRect(u.boxSize,u.position,u.rotate);f.current={centerX:n,centerY:r,last:{clientX:e,clientY:t},prevDegree:u.rotate};const o={};l.forEach(e=>{var{centerX:t,centerY:n}=boundingRect(e.data.props.boxSize,e.data.props.position,e.data.props.rotate);o[e.id]=lodashExports.cloneDeep({position:e.data.props.position,boxSize:e.data.props.boxSize,rotate:e.data.props.rotate,scale:e.data.props.scale,centerX:t,centerY:n})}),a(u),i(o),d.setRotateData(!0,setRightAngle(u.rotate)),d.history.new(),window.addEventListener("touchmove",m),window.addEventListener("mousemove",m),window.addEventListener("mouseup",g,{once:!0}),window.addEventListener("mouseleave",g,{once:!0}),window.addEventListener("touchend",g,{once:!0})}}},useDisabledFeatures=()=>{const e=useSelectedLayers()["selectedLayers"],n=useMemo(()=>!!e.find(e=>isTextLayer(e)||isGroupLayer(e)||isFrameLayer(e)||isShapeLayer(e)),[JSON.stringify(e.map(e=>e.id))]);return useMemo(()=>{const t={vertical:1<e.length,horizontal:1<e.length,corners:!1,locked:!1,rotate:!1,scalable:!n};return e.forEach(e=>{e.data.locked&&(t.locked=!0,t.vertical=!0,t.horizontal=!0,t.corners=!0,t.rotate=!0),isTextLayer(e)&&(t.vertical=!0),(isFrameLayer(e)||isSvgLayer(e))&&(t.horizontal=!0,t.vertical=!0,t.scalable=!1),isGroupLayer(e)&&(t.horizontal=!0,t.vertical=!0)}),t},[e])},HANDLER_CORNER_SIZE=16,CornerResizeHandler=({isActive:e,top:t,left:n,bottom:r,right:o,direction:i,rotate:a,onResizeStart:s})=>{var l=useContext(EditorContext)["config"]["assetPath"],a=Math.round((a+{bottomLeft:45,topLeft:135,topRight:225,bottomRight:315}[i]+90)%180/10);const c=e=>{s(e.nativeEvent,i)};return jsx("div",{css:{top:t,left:n,bottom:r,right:o,position:"absolute",width:32,height:32,display:"flex",justifyContent:"center",alignItems:"center"},children:jsx("div",{onTouchStart:e=>{e.stopPropagation(),c(e)},onMouseDown:e=>{e.stopPropagation(),c(e)},css:{width:HANDLER_CORNER_SIZE,height:HANDLER_CORNER_SIZE,pointerEvents:"auto",display:"flex",alignItems:"center",justifyContent:"center",":hover":{cursor:`url('${l}/cursors/resize/${a}.png') 12 12, auto`}},children:jsx("div",{css:{background:e?"#3d8eff":"white",width:12,height:12,position:"absolute",borderRadius:"50%",boxShadow:"0 0 4px 1px rgba(57,76,96,.15), 0 0 0 1px rgba(43,59,74,.3)",pointerEvents:"none",":hover":{background:"#3d8eff"}}})})})},HANDLER_SIZE=16,ResizeHandler=({isActive:e,boxSize:t,width:n,height:r,top:o,left:i,right:a,bottom:s,direction:l,rotate:c,onResizeStart:u})=>{var d=useContext(EditorContext)["config"]["assetPath"],c=Math.round((c+{left:90,top:180,right:270,bottom:0}[l]+90)%180/10);const p=e=>{u(e.nativeEvent,l)};return jsx("div",{css:{width:n,height:r,top:o,left:i,right:a,bottom:s,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"auto",clipPath:["top","bottom"].includes(l)?`inset(0 ${HANDLER_SIZE/2}px)`:`inset(${HANDLER_SIZE/2}px 0)`,":hover":{cursor:`url('${d}/cursors/resize/${c}.png') 12 12, auto`}},onTouchStart:e=>{e.stopPropagation(),p(e)},onMouseDown:e=>{e.stopPropagation(),p(e)},children:(50<t.width&&["top","bottom"].includes(l)||50<t.height&&["left","right"].includes(l))&&jsx("div",{css:{background:e?"#3d8eff":"white",width:["top","bottom"].includes(l)?18:6,height:["top","bottom"].includes(l)?6:18,borderRadius:3,position:"absolute",boxShadow:"0 0 4px 1px rgba(57,76,96,.15), 0 0 0 1px rgba(43,59,74,.3)",":hover":{background:"#3d8eff",boxShadow:"0 0 0 1px rgba(57,76,96,.15)"}}})})};var ArrowsClockwiseIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M197.67 186.37a8 8 0 0 1 0 11.29C196.58 198.73 170.82 224 128 224c-37.39 0-64.53-22.4-80-39.85V208a8 8 0 0 1-16 0v-48a8 8 0 0 1 8-8h48a8 8 0 0 1 0 16H55.44C67.76 183.35 93 208 128 208c36 0 58.14-21.46 58.36-21.68a8 8 0 0 1 11.31.05ZM216 40a8 8 0 0 0-8 8v23.85C192.53 54.4 165.39 32 128 32c-42.82 0-68.58 25.27-69.66 26.34a8 8 0 0 0 11.3 11.34C69.86 69.46 92 48 128 48c35 0 60.24 24.65 72.56 40H168a8 8 0 0 0 0 16h48a8 8 0 0 0 8-8V48a8 8 0 0 0-8-8Z"})}))};const RotateHandle=({rotate:e,onRotateStart:t})=>{var n=useEditor(e=>({isRotating:e.rotateData.status}))["isRotating"],{assetPath:r}=useContext(EditorContext)["config"],o=useCallback(e=>{e.stopPropagation(),t(e.nativeEvent)},[t]),i=Math.round(e/10);return jsxs("div",{css:{bottom:e<230&&130<e?"50%":-48,position:"absolute",left:e<230&&130<e?"calc(100% + 48px)":"50%",transform:e<230&&130<e?"translateY(50%)":"translateX(-50%)",pointerEvents:"auto",display:n?"none":"block"},children:[jsx("div",{children:jsx("div",{css:{background:"white",boxShadow:"0 0 4px 1px rgba(57,76,96,.15), 0 0 0 1px rgba(43,59,74,.3)",width:24,height:24,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",padding:4,color:"#0d1216",":hover":{cursor:`url('${r}/cursors/rotate/${36===i?0:i}.png') 12 12, auto;`}},onMouseDown:o,onTouchStart:o,children:jsx(ArrowsClockwiseIcon,{})})}),n&&jsxs("div",{css:{position:"absolute",left:60,top:36,whiteSpace:"nowrap",background:"#1E1E2D",padding:"3px 8px",borderRadius:4,textAlign:"center",color:"white",fontSize:12,fontWeight:700},children:[Math.round(e),""]})]})},ControlBox=({boxSize:e,position:t,rotate:n,disabled:r,locked:o,onResizeStart:i,onRouteStart:a},s)=>{s=useForwardedRef(s);const l=useContext(PageContext)["pageIndex"];var{imageEditor:c,isRotating:u,isDragging:d,frameScale:p,selectState:f,isGroup:h,resizeDirection:m,isPageLocked:g}=useEditor(e=>({isGroup:1<e.selectedLayers[l].length,imageEditor:e.imageEditor,isDragging:e.dragData.status,isRotating:e.rotateData.status,resizeDirection:e.resizeData.direction,frameScale:e.scale,selectState:e.selectData.status,isPageLocked:e.pages[l].locked})),v=(e,t)=>{i&&i(e,t)};return c?null:jsx("div",{ref:s,css:{position:"absolute"},style:{transform:getTransformStyle({position:{x:t.x*p,y:t.y*p},rotate:n}),width:e.width*p,height:e.height*p},children:!d&&!o&&!f&&!g&&jsxs(Fragment$1,{children:[!r.corners&&!u&&jsxs(Fragment$1,{children:[(!m||"topLeft"===m)&&jsx(CornerResizeHandler,{top:-HANDLER_CORNER_SIZE,left:-HANDLER_CORNER_SIZE,direction:"topLeft",isActive:"topLeft"===m,rotate:n,onResizeStart:v}),(!m||"topRight"===m)&&jsx(CornerResizeHandler,{top:-HANDLER_CORNER_SIZE,right:-HANDLER_CORNER_SIZE,direction:"topRight",isActive:"topRight"===m,rotate:n,onResizeStart:v}),(!m||"bottomLeft"===m)&&jsx(CornerResizeHandler,{bottom:-HANDLER_CORNER_SIZE,left:-HANDLER_CORNER_SIZE,direction:"bottomLeft",isActive:"bottomLeft"===m,rotate:n,onResizeStart:v}),(!m||"bottomRight"===m)&&jsx(CornerResizeHandler,{bottom:-HANDLER_CORNER_SIZE,right:-HANDLER_CORNER_SIZE,direction:"bottomRight",isActive:"bottomRight"===m,rotate:n,onResizeStart:v})]}),!h&&!u&&jsxs(Fragment$1,{children:[!r.vertical&&jsxs(Fragment$1,{children:[(!m||"top"===m)&&jsx(ResizeHandler,{width:"100%",height:HANDLER_SIZE,top:-HANDLER_SIZE/2,boxSize:e,direction:"top",isActive:"top"===m,rotate:n,onResizeStart:v}),(!m||"bottom"===m)&&jsx(ResizeHandler,{width:"100%",height:HANDLER_SIZE,bottom:-HANDLER_SIZE/2,direction:"bottom",isActive:"bottom"===m,boxSize:e,rotate:n,onResizeStart:v})]}),!r.horizontal&&!u&&jsxs(Fragment$1,{children:[(!m||"left"===m)&&jsx(ResizeHandler,{width:HANDLER_SIZE,height:"100%",left:-HANDLER_SIZE/2,direction:"left",isActive:"left"===m,boxSize:e,rotate:n,onResizeStart:v}),(!m||"right"===m)&&jsx(ResizeHandler,{width:HANDLER_SIZE,height:"100%",right:-HANDLER_SIZE/2,direction:"right",isActive:"right"===m,boxSize:e,rotate:n,onResizeStart:v})]})]}),!o&&!r.rotate&&!m&&jsx(RotateHandle,{rotate:n,onRotateStart:a})]})})};var ControlBox$1=forwardRef(ControlBox),DotsThreeBoldIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M144 128a16 16 0 1 1-16-16 16 16 0 0 1 16 16Zm-84-16a16 16 0 1 0 16 16 16 16 0 0 0-16-16Zm136 0a16 16 0 1 0 16 16 16 16 0 0 0-16-16Z"})}))};const Toolbar=()=>{const e=useContext(PageContext)["pageIndex"],t=useRef(null),{selectedLayerIds:n,selectedLayers:r}=useSelectedLayers(),{actions:o,state:i,isDragging:a,isResizing:s,isRotating:l,controlBox:c,pageSize:u,isOpenMenu:d,scale:p,isPageLocked:f}=useEditor(e=>({isGroup:1<e.selectedLayers[e.activePage].length,isDragging:e.dragData.status,isResizing:e.resizeData.status,isRotating:e.rotateData.status,controlBox:e.controlBox,pageSize:e.pageSize,isPageLocked:e.pages[e.activePage].locked,isOpenMenu:!!e.openMenu,scale:e.scale}));var h,m=r.find(e=>e.data.locked),g=useMemo(()=>c?boundingRect(c.boxSize,c.position,c.rotate):{x:0,y:80,width:u.width,height:u.height},[c]);return a||s||l||n.includes("ROOT")&&!m&&!f||!c?null:(h=!!r.find(e=>isGroupLayer(e)),jsx("div",{ref:t,css:{position:"absolute",left:(g.x+g.width/2)*p,top:g.y*p-60,transform:"translateX(-50%)"},children:jsx("div",{css:{height:40,borderRadius:4,padding:"0 4px",display:"inline-flex",alignItems:"center",background:"#fff",boxShadow:"0 0 0 1px rgba(64,87,109,.07),0 2px 12px rgba(53,71,90,.2)",overflow:"hidden",pointerEvents:"auto",color:"#0d1216"},onMouseDown:e=>{e.stopPropagation()},children:jsxs("div",{css:{alignItems:"center",display:"flex",whiteSpace:"nowrap"},children:[!f&&!m&&!n.includes("ROOT")&&jsxs(Fragment$1,{children:[1<n.length&&jsx("div",{css:{lineHeight:"32px",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",fontSize:14,padding:"0 8px",fontWeight:700,":hover":{backgroundColor:"rgba(64,87,109,.07)"}},onClick:()=>{o.group(n)},children:"Group"}),h&&jsx("div",{css:{lineHeight:"32px",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",fontSize:14,padding:"0 8px",fontWeight:700,":hover":{backgroundColor:"rgba(64,87,109,.07)"}},onClick:()=>{1===n.length&&o.ungroup(n[0])},children:"Ungroup"}),jsx("div",{css:{width:32,height:32,display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",fontSize:24,":hover":{backgroundColor:"rgba(64,87,109,.07)"}},onClick:()=>{duplicate(i,{pageIndex:e,layerIds:n,actions:o})},children:jsx(DuplicateIcon,{})}),jsx("div",{css:{width:32,height:32,display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",fontSize:24,":hover":{backgroundColor:"rgba(64,87,109,.07)"}},onClick:()=>o.deleteLayer(e,n),children:jsx(TrashIcon,{})}),jsx("div",{css:{width:32,height:32,display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",fontSize:24,":hover":{backgroundColor:"rgba(64,87,109,.07)"}},onClick:()=>{var e;d?o.hideContextMenu():(e=null==(e=t.current)?void 0:e.getBoundingClientRect(),o.showContextMenu({clientX:e.right-42,clientY:e.bottom+4}))},children:jsx(DotsThreeBoldIcon,{})})]}),(m||f)&&jsx("div",{css:{width:32,height:32,display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",fontSize:24,color:f?"rgba(36,49,61,.4)":void 0,":hover":{backgroundColor:f?void 0:"rgba(64,87,109,.07)"}},onClick:()=>{o.unlock(e,n)},children:jsx(LockKeyIcon,{})})]})})}))};var Toolbar$1=React__default$1.memo(Toolbar);const LayerBorderBox=({boxSize:e,position:t,rotate:n,type:r="solid"},o)=>{var i=useEditor(e=>({scale:e.scale}))["scale"];return jsxs("div",{ref:o,css:{width:e.width*i,height:e.height*i,boxShadow:"0 0 0 1px rgba(57,76,96,.15)",position:"absolute",transform:t?getTransformStyle({position:{x:t.x*i,y:t.y*i},rotate:n}):void 0},children:["solid"===r&&jsx("div",{css:{border:"2px solid #3d8eff",boxShadow:"0 0 0 1px hsla(0,0%,100%,.07), inset 0 0 0 1px hsla(0,0%,100%,.07)",position:"absolute",inset:-1}}),"dashed"===r&&jsx("div",{css:{inset:-1,position:"absolute",backgroundImage:"linear-gradient(90deg,#fff 60%,rgba(53,71,90,.2) 0),linear-gradient(180deg,#fff 60%,rgba(53,71,90,.2) 0),linear-gradient(90deg,#fff 60%,rgba(53,71,90,.2) 0),linear-gradient(180deg,#fff 60%,rgba(53,71,90,.2) 0),linear-gradient(90deg,rgba(57,76,96,.15),rgba(57,76,96,.15)),linear-gradient(180deg,rgba(57,76,96,.15),rgba(57,76,96,.15)),linear-gradient(90deg,rgba(57,76,96,.15),rgba(57,76,96,.15)),linear-gradient(180deg,rgba(57,76,96,.15),rgba(57,76,96,.15))",backgroundPosition:"top,100%,bottom,0,center 2px,calc(100% - 2px),center calc(100% - 2px),2px",backgroundRepeat:"repeat-x,repeat-y,repeat-x,repeat-y,no-repeat,no-repeat,no-repeat,no-repeat",backgroundSize:"6px 2px,2px 6px,6px 2px,2px 6px,calc(100% - 6px) 1px,1px calc(100% - 4px),calc(100% - 6px) 1px,1px calc(100% - 4px)"}})]})};var LayerBorderBox$1=forwardRef(LayerBorderBox),CaretUpIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M213.66 165.66a8 8 0 0 1-11.32 0L128 91.31l-74.34 74.35a8 8 0 0 1-11.32-11.32l80-80a8 8 0 0 1 11.32 0l80 80a8 8 0 0 1 0 11.32Z"})}))},CaretDownIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"m213.66 101.66-80 80a8 8 0 0 1-11.32 0l-80-80a8 8 0 0 1 11.32-11.32L128 164.69l74.34-74.35a8 8 0 0 1 11.32 11.32Z"})}))},FilePlusIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"m213.66 82.34-56-56A8 8 0 0 0 152 24H56a16 16 0 0 0-16 16v176a16 16 0 0 0 16 16h144a16 16 0 0 0 16-16V88a8 8 0 0 0-2.34-5.66ZM160 51.31 188.69 80H160ZM200 216H56V40h88v48a8 8 0 0 0 8 8h48v120Zm-40-64a8 8 0 0 1-8 8h-16v16a8 8 0 0 1-16 0v-16h-16a8 8 0 0 1 0-16h16v-16a8 8 0 0 1 16 0v16h16a8 8 0 0 1 8 8Z"})}))},LockKeyOpenIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M208 80H96V56a32 32 0 0 1 32-32c15.37 0 29.2 11 32.16 25.59a8 8 0 0 0 15.68-3.18C171.32 24.15 151.2 8 128 8a48.05 48.05 0 0 0-48 48v24H48a16 16 0 0 0-16 16v112a16 16 0 0 0 16 16h160a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16Zm0 128H48V96h160v112Zm-80-96a28 28 0 0 0-8 54.83V184a8 8 0 0 0 16 0v-17.17a28 28 0 0 0-8-54.83Zm0 40a12 12 0 1 1 12-12 12 12 0 0 1-12 12Z"})}))};const EditorContent=({editor:t})=>{const n=useRef(null),r=useEditor()["actions"];return useEffect(()=>{r.history.new();var e=createEditor({content:t.dom.innerHTML,ele:n.current,handleDOMEvents:{blur:()=>{isMobile_1&&r.closeTextEditor()}}});selectText({from:e.state.doc.content.size,to:e.state.doc.content.size})(e.state,e.dispatch),e.focus(),r.setOpeningEditor(e)},[r]),jsx("div",{ref:n})};var EditorContent$1=React__default$1.memo(EditorContent);const TextEditor=()=>{var e,t,n,r,o,i,a,s,{editorScale:l,layer:c}=useEditor(e=>{var t=e.textEditor,n=e.pages[t.pageIndex].layers[t.layerId];return{editorScale:e.scale,textEditor:t,layer:n}});return c?(e=c.data.editor,{boxSize:c,position:t,scale:n,rotate:r,transparency:o,effect:i,colors:a,fontSizes:s}=c.data.props,jsx("div",{css:{touchAction:"pan-x pan-y pinch-zoom",pointerEvents:"auto",position:"absolute",width:c.width*l,height:c.height*l,transform:getTransformStyle({position:{x:t.x*l,y:t.y*l},rotate:r}),opacity:o,top:0,left:0},children:jsx("div",{css:Object.assign({width:c.width/n,height:c.height/n,transform:`scale(${n*l})`,transformOrigin:"0 0",p:{"&:before":Object.assign({},getTextEffectStyle((null==i?void 0:i.name)||"none",null==i?void 0:i.settings,a[0],s[0]))}},getTextEffectStyle((null==i?void 0:i.name)||"none",null==i?void 0:i.settings,a[0],s[0])),onMouseDown:e=>e.stopPropagation(),children:e&&jsx(EditorContent$1,{editor:e})})})):null};function resolveUrl(e,t){var n,r,o;return e.match(/^[a-z]+:\/\//i)?e:e.match(/^\/\//)?window.location.protocol+e:e.match(/^[a-z]+:/i)?e:(r=(n=document.implementation.createHTMLDocument()).createElement("base"),o=n.createElement("a"),n.head.appendChild(r),n.body.appendChild(o),t&&(r.href=t),o.href=e,o.href)}const uuid=(()=>{let e=0;return()=>(e+=1,"u"+("0000"+(Math.random()*36**4<<0).toString(36)).slice(-4)+e)})();function toArray(n){var r=[];for(let e=0,t=n.length;e<t;e++)r.push(n[e]);return r}function px(e,t){e=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return e?parseFloat(e.replace("px","")):0}function getNodeWidth(e){var t=px(e,"border-left-width"),n=px(e,"border-right-width");return e.clientWidth+t+n}function getNodeHeight(e){var t=px(e,"border-top-width"),n=px(e,"border-bottom-width");return e.clientHeight+t+n}function getImageSize(e,t={}){return{width:t.width||getNodeWidth(e),height:t.height||getNodeHeight(e)}}function getPixelRatio(){let e,t;try{t=process}catch(e){}var n=t&&t.env?t.env.devicePixelRatio:null;return(e=n&&(e=parseInt(n,10),Number.isNaN(e))?1:e)||window.devicePixelRatio||1}const canvasDimensionLimit=16384;function checkCanvasDimensions(e){(e.width>canvasDimensionLimit||e.height>canvasDimensionLimit)&&(e.width>canvasDimensionLimit&&e.height>canvasDimensionLimit?e.width>e.height?(e.height*=canvasDimensionLimit/e.width,e.width=canvasDimensionLimit):(e.width*=canvasDimensionLimit/e.height,e.height=canvasDimensionLimit):e.width>canvasDimensionLimit?(e.height*=canvasDimensionLimit/e.width,e.width=canvasDimensionLimit):(e.width*=canvasDimensionLimit/e.height,e.height=canvasDimensionLimit))}function createImage(r){return new Promise((e,t)=>{const n=new Image;n.decode=()=>e(n),n.onload=()=>e(n),n.onerror=t,n.crossOrigin="anonymous",n.decoding="async",n.src=r})}async function svgToDataURL(e){return Promise.resolve().then(()=>(new XMLSerializer).serializeToString(e)).then(encodeURIComponent).then(e=>"data:image/svg+xml;charset=utf-8,"+e)}async function nodeToDataURL(e,t,n){var r="http://www.w3.org/2000/svg",o=document.createElementNS(r,"svg"),r=document.createElementNS(r,"foreignObject");return o.setAttribute("width",""+t),o.setAttribute("height",""+n),o.setAttribute("viewBox",`0 0 ${t} `+n),r.setAttribute("width","100%"),r.setAttribute("height","100%"),r.setAttribute("x","0"),r.setAttribute("y","0"),r.setAttribute("externalResourcesRequired","true"),o.appendChild(r),r.appendChild(e),svgToDataURL(o)}const isInstanceOfElement=(e,t)=>{return e instanceof t||null!==(e=Object.getPrototypeOf(e))&&(e.constructor.name===t.name||isInstanceOfElement(e,t))};function formatCSSText(e){var t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function formatCSSProperties(t){return toArray(t).map(e=>{return e+`: ${t.getPropertyValue(e)}${t.getPropertyPriority(e)?" !important":""};`}).join(" ")}function getPseudoElementStyle(e,t,n){e=`.${e}:`+t,t=(n.cssText?formatCSSText:formatCSSProperties)(n);return document.createTextNode(e+`{${t}}`)}function clonePseudoElement(e,t,n){var e=window.getComputedStyle(e,n),r=e.getPropertyValue("content");if(""!==r&&"none"!==r){r=uuid();try{t.className=t.className+" "+r}catch(e){return}var o=document.createElement("style");o.appendChild(getPseudoElementStyle(r,n,e)),t.appendChild(o)}}function clonePseudoElements(e,t){clonePseudoElement(e,t,":before"),clonePseudoElement(e,t,":after")}const WOFF="application/font-woff",JPEG="image/jpeg",mimes={woff:WOFF,woff2:WOFF,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:JPEG,jpeg:JPEG,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function getExtension(e){e=/\.([^./]*?)$/g.exec(e);return e?e[1]:""}function getMimeType(e){e=getExtension(e).toLowerCase();return mimes[e]||""}function getContentFromDataUrl(e){return e.split(/,/)[1]}function isDataUrl(e){return-1!==e.search(/^(data:)/)}function makeDataUrl(e,t){return`data:${t};base64,`+e}async function fetchAsDataURL(e,t,r){const o=await fetch(e,t);if(404===o.status)throw new Error(`Resource "${o.url}" not found`);const i=await o.blob();return new Promise((e,t)=>{const n=new FileReader;n.onerror=t,n.onloadend=()=>{try{e(r({res:o,result:n.result}))}catch(e){t(e)}},n.readAsDataURL(i)})}const cache={};function getCacheKey(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]`+r:r}async function resourceToDataURL(n,r,o){var e=getCacheKey(n,r,o.includeQueryParams);if(null!=cache[e])return cache[e];o.cacheBust&&(n+=(/\?/.test(n)?"&":"?")+(new Date).getTime());let i;try{var t=await fetchAsDataURL(n,o.fetchRequestInit,({res:e,result:t})=>(r=r||e.headers.get("Content-Type")||"",getContentFromDataUrl(t)));i=makeDataUrl(t,r)}catch(e){i=o.imagePlaceholder||"";let t="Failed to fetch resource: "+n;(t=e?"string"==typeof e?e:e.message:t)&&console.warn(t)}return cache[e]=i}async function cloneCanvasElement(e){var t=e.toDataURL();return"data:,"===t?e.cloneNode(!1):createImage(t)}async function cloneVideoElement(e,t){if(e.currentSrc){var n=document.createElement("canvas"),r=n.getContext("2d");n.width=e.clientWidth,n.height=e.clientHeight,null!=r&&r.drawImage(e,0,0,n.width,n.height);const o=n.toDataURL();return createImage(o)}r=e.poster;const o=await resourceToDataURL(r,getMimeType(r),t);return createImage(o)}async function cloneIFrameElement(e){var t;try{if(null!=(t=null==e?void 0:e.contentDocument)&&t.body)return await cloneNode(e.contentDocument.body,{},!0)}catch(e){}return e.cloneNode(!1)}async function cloneSingleNode(e,t){return isInstanceOfElement(e,HTMLCanvasElement)?cloneCanvasElement(e):isInstanceOfElement(e,HTMLVideoElement)?cloneVideoElement(e,t):isInstanceOfElement(e,HTMLIFrameElement)?cloneIFrameElement(e):e.cloneNode(!1)}const isSlotElement=e=>null!=e.tagName&&"SLOT"===e.tagName.toUpperCase();async function cloneChildren(e,n,r){var t;let o=[];return 0===(o=isSlotElement(e)&&e.assignedNodes?toArray(e.assignedNodes()):isInstanceOfElement(e,HTMLIFrameElement)&&null!=(t=e.contentDocument)&&t.body?toArray(e.contentDocument.body.childNodes):toArray((null!=(t=e.shadowRoot)?t:e).childNodes)).length||isInstanceOfElement(e,HTMLVideoElement)||await o.reduce((e,t)=>e.then(()=>cloneNode(t,r)).then(e=>{e&&n.appendChild(e)}),Promise.resolve()),n}function cloneCSSStyle(r,o){const i=o.style;if(i){const a=window.getComputedStyle(r);a.cssText?(i.cssText=a.cssText,i.transformOrigin=a.transformOrigin):toArray(a).forEach(e=>{let t=a.getPropertyValue(e);var n;"font-size"===e&&t.endsWith("px")&&(n=Math.floor(parseFloat(t.substring(0,t.length-2)))-.1,t=n+"px"),isInstanceOfElement(r,HTMLIFrameElement)&&"display"===e&&"inline"===t&&(t="block"),"d"===e&&o.getAttribute("d")&&(t=`path(${o.getAttribute("d")})`),i.setProperty(e,t,a.getPropertyPriority(e))})}}function cloneInputValue(e,t){isInstanceOfElement(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),isInstanceOfElement(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function cloneSelectValue(t,e){isInstanceOfElement(t,HTMLSelectElement)&&(e=Array.from(e.children).find(e=>t.value===e.getAttribute("value")))&&e.setAttribute("selected","")}function decorate(e,t){return isInstanceOfElement(t,Element)&&(cloneCSSStyle(e,t),clonePseudoElements(e,t),cloneInputValue(e,t),cloneSelectValue(e,t)),t}async function ensureSVGSymbols(t,n){var r=t.querySelectorAll?t.querySelectorAll("use"):[];if(0!==r.length){var o={};for(let e=0;e<r.length;e++){var i,a,s=r[e].getAttribute("xlink:href");s&&(i=t.querySelector(s),a=document.querySelector(s),i||!a||o[s]||(o[s]=await cloneNode(a,n,!0)))}var l=Object.values(o);if(l.length){var e="http://www.w3.org/1999/xhtml",c=document.createElementNS(e,"svg"),u=(c.setAttribute("xmlns",e),c.style.position="absolute",c.style.width="0",c.style.height="0",c.style.overflow="hidden",c.style.display="none",document.createElementNS(e,"defs"));c.appendChild(u);for(let e=0;e<l.length;e++)u.appendChild(l[e]);t.appendChild(c)}}return t}async function cloneNode(t,n,e){return e||!n.filter||n.filter(t)?Promise.resolve(t).then(e=>cloneSingleNode(e,n)).then(e=>cloneChildren(t,e,n)).then(e=>decorate(t,e)).then(e=>ensureSVGSymbols(e,n)):null}const URL_REGEX=/url\((['"]?)([^'"]+?)\1\)/g,URL_WITH_FORMAT_REGEX=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,FONT_SRC_REGEX=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function toRegex(e){e=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function parseURLs(e){const r=[];return e.replace(URL_REGEX,(e,t,n)=>(r.push(n),e)),r.filter(e=>!isDataUrl(e))}async function embed(t,n,r,o,i){try{var a=r?resolveUrl(n,r):n,s=getMimeType(n);let e;return e=i?makeDataUrl(await i(a),s):await resourceToDataURL(a,s,o),t.replace(toRegex(n),`$1${e}$3`)}catch(e){}return t}function filterPreferredFontFormat(e,{preferredFontFormat:r}){return r?e.replace(FONT_SRC_REGEX,e=>{for(;;){var[t,,n]=URL_WITH_FORMAT_REGEX.exec(e)||[];if(!n)return"";if(n===r)return`src: ${t};`}}):e}function shouldEmbed(e){return-1!==e.search(URL_REGEX)}async function embedResources(e,n,r){var t;return shouldEmbed(e)?parseURLs(t=filterPreferredFontFormat(e,r)).reduce((e,t)=>e.then(e=>embed(e,t,n,r)),Promise.resolve(t)):e}async function embedProp(e,t,n){var r=null==(r=t.style)?void 0:r.getPropertyValue(e);return!!r&&(r=await embedResources(r,null,n),t.style.setProperty(e,r,t.style.getPropertyPriority(e)),!0)}async function embedBackground(e,t){await embedProp("background",e,t)||await embedProp("background-image",e,t),await embedProp("mask",e,t)||await embedProp("mask-image",e,t)}async function embedImageNode(n,e){const r=isInstanceOfElement(n,HTMLImageElement);if(r&&!isDataUrl(n.src)||isInstanceOfElement(n,SVGImageElement)&&!isDataUrl(n.href.baseVal)){var t=r?n.src:n.href.baseVal;const o=await resourceToDataURL(t,getMimeType(t),e);await new Promise((e,t)=>{n.onload=e,n.onerror=t;t=n;t.decode&&(t.decode=e),"lazy"===t.loading&&(t.loading="eager"),r?(n.srcset="",n.src=o):n.href.baseVal=o})}}async function embedChildren(e,t){var n=toArray(e.childNodes).map(e=>embedImages(e,t));await Promise.all(n).then(()=>e)}async function embedImages(e,t){isInstanceOfElement(e,Element)&&(await embedBackground(e,t),await embedImageNode(e,t),await embedChildren(e,t))}function applyStyle(e,t){const n=e["style"],r=(t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=t.width+"px"),t.height&&(n.height=t.height+"px"),t.style);return null!=r&&Object.keys(r).forEach(e=>{n[e]=r[e]}),e}const cssFetchCache={};async function fetchCSS(e){var t=cssFetchCache[e];return null==t&&(t={url:e,cssText:await(await fetch(e)).text()},cssFetchCache[e]=t),t}async function embedFonts(n,r){let o=n.cssText;const i=/url\(["']?([^"')]+)["']?\)/g;var e=(o.match(/url\([^)]+\)/g)||[]).map(async t=>{let e=t.replace(i,"$1");return fetchAsDataURL(e=e.startsWith("https://")?e:new URL(e,n.url).href,r.fetchRequestInit,({result:e})=>(o=o.replace(t,`url(${e})`),[t,e]))});return Promise.all(e).then(()=>o)}function parseCSS(e){if(null==e)return[];var t=[];let n=e.replace(/(\/\*[\s\S]*?\*\/)/gi,"");for(var r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");;){var o=r.exec(n);if(null===o)break;t.push(o[0])}n=n.replace(r,"");for(var i=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,a=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");;){let e=i.exec(n);if(null===e){if(null===(e=a.exec(n)))break;i.lastIndex=a.lastIndex}else a.lastIndex=i.lastIndex;t.push(e[0])}return t}async function getCSSRules(n,o){const r=[],i=[];return n.forEach(r=>{if("cssRules"in r)try{toArray(r.cssRules||[]).forEach((e,t)=>{if(e.type===CSSRule.IMPORT_RULE){let n=t+1;t=fetchCSS(e.href).then(e=>embedFonts(e,o)).then(e=>parseCSS(e).forEach(t=>{try{r.insertRule(t,t.startsWith("@import")?n+=1:r.cssRules.length)}catch(e){console.error("Error inserting rule from remote css",{rule:t,error:e})}})).catch(e=>{console.error("Error loading remote css",e.toString())});i.push(t)}})}catch(e){const t=n.find(e=>null==e.href)||document.styleSheets[0];null!=r.href&&i.push(fetchCSS(r.href).then(e=>embedFonts(e,o)).then(e=>parseCSS(e).forEach(e=>{t.insertRule(e,r.cssRules.length)})).catch(e=>{console.error("Error loading remote stylesheet",e)})),console.error("Error inlining remote css file",e)}}),Promise.all(i).then(()=>(n.forEach(t=>{if("cssRules"in t)try{toArray(t.cssRules||[]).forEach(e=>{r.push(e)})}catch(e){console.error("Error while reading CSS rules from "+t.href,e)}}),r))}function getWebFontRules(e){return e.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>shouldEmbed(e.style.getPropertyValue("src")))}async function parseWebFontRules(e,t){if(null==e.ownerDocument)throw new Error("Provided element is not within a Document");return getWebFontRules(await getCSSRules(toArray(e.ownerDocument.styleSheets),t))}async function getWebFontCSS(e,n){e=await parseWebFontRules(e,n);return(await Promise.all(e.map(e=>{var t=e.parentStyleSheet?e.parentStyleSheet.href:null;return embedResources(e.cssText,t,n)}))).join("\n")}async function embedWebFonts(e,t){var n,t=null!=t.fontEmbedCSS?t.fontEmbedCSS:t.skipFonts?null:await getWebFontCSS(e,t);t&&(n=document.createElement("style"),t=document.createTextNode(t),n.appendChild(t),e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n))}async function toSvg(e,t={}){var{width:n,height:r}=getImageSize(e,t),e=await cloneNode(e,t,!0),t=(await embedWebFonts(e,t),await embedImages(e,t),applyStyle(e,t),await nodeToDataURL(e,n,r));return t}async function toCanvas(e,t={}){var{width:n,height:r}=getImageSize(e,t),e=await createImage(await toSvg(e,t)),o=document.createElement("canvas"),i=o.getContext("2d"),a=t.pixelRatio||getPixelRatio(),n=t.canvasWidth||n,r=t.canvasHeight||r;return o.width=n*a,o.height=r*a,t.skipAutoScale||checkCanvasDimensions(o),o.style.width=""+n,o.style.height=""+r,t.backgroundColor&&(i.fillStyle=t.backgroundColor,i.fillRect(0,0,o.width,o.height)),i.drawImage(e,0,0,o.width,o.height),o}async function toPng(e,t={}){return(await toCanvas(e,t)).toDataURL()}var DownloadIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M240 136v64a16 16 0 0 1-16 16H32a16 16 0 0 1-16-16v-64a16 16 0 0 1 16-16h40a8 8 0 0 1 0 16H32v64h192v-64h-40a8 8 0 0 1 0-16h40a16 16 0 0 1 16 16Zm-117.66-2.34a8 8 0 0 0 11.32 0l48-48a8 8 0 0 0-11.32-11.32L136 108.69V24a8 8 0 0 0-16 0v84.69L85.66 74.34a8 8 0 0 0-11.32 11.32ZM200 168a12 12 0 1 0-12 12 12 12 0 0 0 12-12Z"})}))};const Guideline=()=>{const{guideline:e,frameScale:n}=useEditor(e=>({guideline:e.guideline,frameScale:e.scale}));return e.vertical.length||e.horizontal.length?jsxs("div",{children:[e.horizontal.map((e,t)=>jsx("div",{css:{position:"absolute",top:e.y*n,left:e.x1*n,width:(e.x2-e.x1)*n,borderTopWidth:1,borderStyle:"dashed",borderColor:"#3d8eff"}},t)),e.vertical.map((e,t)=>jsx("div",{css:{position:"absolute",top:e.y1*n,left:e.x*n,height:(e.y2-e.y1)*n,borderLeftWidth:1,borderStyle:"dashed",borderColor:"#3d8eff"}},t))]}):null},isPointInsideBox=(e,{nw:t,ne:n,se:r,sw:o})=>{var i=Math.sqrt((t.x-n.x)*(t.x-n.x)+(t.y-n.y)*(t.y-n.y)),a=Math.sqrt((n.x-r.x)*(n.x-r.x)+(n.y-r.y)*(n.y-r.y)),s=Math.sqrt((r.x-o.x)*(r.x-o.x)+(r.y-o.y)*(r.y-o.y)),l=Math.sqrt((o.x-t.x)*(o.x-t.x)+(o.y-t.y)*(o.y-t.y)),t=Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)),n=Math.sqrt((n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y)),r=Math.sqrt((r.x-e.x)*(r.x-e.x)+(r.y-e.y)*(r.y-e.y)),o=Math.sqrt((o.x-e.x)*(o.x-e.x)+(o.y-e.y)*(o.y-e.y)),e=(i+t+n)/2,c=(a+n+r)/2,u=(s+r+o)/2,d=(l+o+t)/2;return Math.sqrt(e*(e-i)*(e-t)*(e-n))+Math.sqrt(c*(c-a)*(c-n)*(c-r))+Math.sqrt(u*(u-s)*(u-r)*(u-o))+Math.sqrt(d*(d-l)*(d-o)*(d-t))-i*a<1},getControlBoxSizeFromLayers=e=>{if(1<Object.keys(e).length){const n={left:0,right:0,top:0,bottom:0};return Object.values(e).forEach((e,t)=>{e=boundingRect(e.boxSize,e.position,e.rotate);n.left=0===t?e.x:Math.min(n.left,e.x),n.top=0===t?e.y:Math.min(n.top,e.y),n.right=Math.max(n.right,e.x+e.width),n.bottom=Math.max(n.bottom,e.y+e.height)}),{position:{x:n.left,y:n.top},boxSize:{width:n.right-n.left,height:n.bottom-n.top},rotate:0}}if(1===Object.keys(e).length)return{position:{x:(e=Object.values(e)[0]).position.x,y:e.position.y},boxSize:{width:e.boxSize.width,height:e.boxSize.height},rotate:e.rotate,scale:e.scale}},DesignPage=({pageIndex:c,width:e,height:t,transform:n},r)=>{const o=useRef(null),i=useRef(null);var[a]=useLinkedRef(null);const s=useRef({}),[l,u,d]=useLinkedRef(),[p,f,h]=useLinkedRef({}),{selectedLayerIds:m,selectedLayers:g}=useSelectedLayers();var v=useDisabledFeatures();const{actions:y,hoveredLayer:b,scale:w,activePage:x,controlBox:S,imageEditor:k,textEditor:C,totalPages:E,isLocked:T}=useEditor(e=>{var t=e.hoveredLayer[c];return{activePage:e.activePage,controlBox:e.controlBox,scale:e.scale,isLocked:e.pages[c]&&e.pages[c].locked,hoveredLayer:t?e.pages[c].layers[t]:null,selectStatus:e.selectData.status,imageEditor:e.imageEditor,textEditor:e.textEditor,totalPages:e.pages.length}});useEffect(()=>{l.current&&d({boxSize:{width:l.current.boxSize.width*w,height:l.current.boxSize.height*w},position:{x:l.current.position.x*w,y:l.current.position.y*w},rotate:l.current.rotate,scale:l.current.scale}),p.current&&Object.entries(p.current).forEach(([e,t])=>{t.centerX&&(p.current[e].centerX=t.centerX*w),t.centerY&&(p.current[e].centerY=t.centerY*w),p.current[e].position.x=t.position.x*w,p.current[e].position.y=t.position.y*w,p.current[e].boxSize.width=t.boxSize.width*w,p.current[e].boxSize.height=t.boxSize.height*w})},[w]);var _=({controlBox:e,layers:t,direction:s,lockAspect:l})=>{y.setControlBox(e),Object.entries(t).forEach(([t,e])=>{var n,r,o,i,a=g.find(e=>e.id===t);a&&(isImageLayer(a)?(n=e.boxSize.width-a.data.props.boxSize.width,r=e.boxSize.height-a.data.props.boxSize.height,o=a.data.props,l?(i=e.boxSize.width/a.data.props.boxSize.width,y.history.merge().setProp(c,t,Object.assign(Object.assign({},e),{image:{boxSize:{width:a.data.props.image.boxSize.width*i,height:a.data.props.image.boxSize.height*i},position:{x:a.data.props.image.position.x*i,y:a.data.props.image.position.y*i},rotate:0}}))):(a=getImageSize$1(o,o.image,s,{width:n,height:r}),y.history.merge().setProp(c,t,Object.assign(Object.assign({},a),{position:{x:e.position.x,y:e.position.y}})))):y.history.merge().setProp(c,t,e))})},_=useResizeLayer({options:{scalable:!v.scalable},getLayerData:f,setLayerData:h,controlBox:S,getControlBoxData:u,setControlBoxData:d,onResize:_,onResizeStop:_})["startResizing"],R=(useEffect(()=>{var e=g.filter(e=>"ROOT"!==e.id).reduce((e,t)=>(e[t.id]=t.data.props,e),{});y.setControlBox(getControlBoxSizeFromLayers(e))},[JSON.stringify(m),w]),({controlBox:e,layers:t})=>{y.setControlBox(e),Object.entries(t).forEach(([e,t])=>{y.history.merge().setProp(c,e,t)})}),O=useRotateLayer({pageIndex:c,getLayerData:f,setLayerData:h,pageOffset:{x:(null==(O=o.current)?void 0:O.getBoundingClientRect().x)||0,y:(null==(O=o.current)?void 0:O.getBoundingClientRect().y)||0},getControlBoxData:u,setControlBoxData:d,onRotate:R,onRotateEnd:R})["startRotate"];return jsxs(PageProvider,{pageIndex:c,children:[jsxs("div",{css:{fontWeight:"bold",marginTop:24,height:28,display:"flex",alignItems:"center",marginBottom:4,width:e*w,whiteSpace:"nowrap","@media (max-width: 900px)":{display:"none"}},children:[jsxs("div",{css:{flexGrow:1},children:["Page ",c+1]}),jsxs("div",{css:{display:"flex",alignItems:"center",fontSize:20,color:"#0d1216",height:28,opacity:.7},children:[jsx("div",{css:{marginLeft:8,width:28,height:28,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:4,cursor:0===c?"not-allowed":"pointer",color:0===c?"rgba(36,49,61,.4)":"#0d1216",":hover":{background:0===c?void 0:"rgba(64, 87, 109, 0.07)"}},onClick:()=>y.movePageUp(c),children:jsx(CaretUpIcon,{})}),jsx("div",{css:{marginLeft:8,width:28,height:28,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:4,cursor:c===E-1?"not-allowed":"pointer",color:c===E-1?"rgba(36,49,61,.4)":"#0d1216",":hover":{background:c===E-1?void 0:"rgba(64, 87, 109, 0.07)"}},onClick:()=>y.movePageDown(c),children:jsx(CaretDownIcon,{})}),jsxs("div",{css:{marginLeft:8,width:28,height:28,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:4,cursor:"pointer",":hover":{background:"rgba(64, 87, 109, 0.07)"}},onClick:()=>{T?y.unlockPage(c):y.lockPage(c)},children:[!T&&jsx(LockKeyOpenIcon,{}),T&&jsx(LockKeyIcon,{})]}),jsx("div",{css:{marginLeft:8,width:28,height:28,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:4,cursor:"pointer",":hover":{background:"rgba(64, 87, 109, 0.07)"}},onClick:()=>y.duplicatePage(c),children:jsx(DuplicateIcon,{})}),jsx("div",{css:{marginLeft:8,width:28,height:28,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:4,cursor:"pointer",":hover":{background:"rgba(64, 87, 109, 0.07)"}},onClick:()=>(async e=>{if(i.current)try{var t=await toPng(i.current),n=document.createElement("a");n.download=`design-id-page-${e+1}.png`,n.href=t,n.click()}catch(e){window.alert("Cannot download: "+e.message)}})(c),children:jsx(DownloadIcon,{})}),jsx("div",{css:{marginLeft:8,width:28,height:28,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:4,cursor:T||E<=1?"not-allowed":"pointer",color:T||E<=1?"rgba(36,49,61,.4)":"#0d1216",":hover":{background:T||E<=1?void 0:"rgba(64, 87, 109, 0.07)"}},onClick:()=>!T&&1<E&&y.deletePage(c),children:jsx(TrashIcon,{})}),jsx("div",{css:{marginLeft:8,width:28,height:28,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:4,cursor:"pointer",":hover":{background:"rgba(64, 87, 109, 0.07)"}},onClick:()=>y.addPage(c),children:jsx(FilePlusIcon,{})})]})]}),jsxs("div",{ref:r,css:{position:"relative",margin:0,boxShadow:"0 2px 8px rgba(14,19,24,.07)","@media (max-width: 900px)":{boxShadow:"none"}},style:{width:e*w*n.scale,height:t*w*n.scale,transform:getTransformStyle({position:n,scale:n.scale})},children:[jsx("div",{ref:o,css:{userSelect:"none",background:"white",overflow:"hidden",transformOrigin:"0 0"},style:{width:e,height:t,transform:`scale(${w*n.scale})`},onContextMenu:e=>{var t,n;e.preventDefault(),b&&b.data.locked||(S&&o.current&&b?(n=new WebKitCSSMatrix(getTransformStyle({rotate:S.rotate})),t=o.current.getBoundingClientRect(),n=visualCorners({width:S.boxSize.width*w,height:S.boxSize.height*w},n,{x:t.x+S.position.x*w,y:t.y+S.position.y*w}),isPointInsideBox({x:e.clientX,y:e.clientY},n)||y.selectLayers(c,b.id)):b&&y.selectLayers(c,b.id),y.showContextMenu(getPosition(e.nativeEvent)))},children:jsx("div",{ref:i,css:{width:e,height:t,position:"relative",left:0,top:0,zIndex:1,"@media (max-width: 900px)":{width:e*w,height:t*w}},children:jsx(PageElement,{})})}),jsxs("div",{css:{position:"absolute",inset:0,pointerEvents:"none",zIndex:2},children:[!k&&c===x&&S&&1<g.length&&jsx(LayerBorderBox$1,{boxSize:S.boxSize,position:S.position,rotate:S.rotate,type:"dashed"}),!k&&c===x&&g.map(t=>jsx(LayerBorderBox$1,{ref:e=>e&&(s.current[t.id]=e),boxSize:t.data.props.boxSize,position:t.data.props.position,rotate:t.data.props.rotate},t.id)),!k&&b&&!m.includes(b.id)&&jsx(LayerBorderBox$1,{ref:e=>e&&(s.current[b.id]=e),boxSize:b.data.props.boxSize,position:b.data.props.position,rotate:b.data.props.rotate}),!k&&c===x&&0<m.length&&jsxs(Fragment$1,{children:[S&&jsx(ControlBox$1,{ref:a,boxSize:S.boxSize,position:S.position,rotate:S.rotate,scale:S.scale,locked:v.locked,disabled:v,onRouteStart:O,onResizeStart:_}),jsx(Toolbar$1,{})]}),c===x&&jsx(Guideline,{})]}),k&&k.pageIndex===c&&jsx(ImageEditor,{}),C&&C.pageIndex===c&&jsx(TextEditor,{})]})]})};var DesignPage$1=forwardRef(DesignPage);const useShortcut=t=>{const{actions:r,state:e,activePage:o,rootLayer:n,scale:i}=useEditor(e=>({rootLayer:e.pages[e.activePage]&&e.pages[e.activePage].layers.ROOT,activePage:e.activePage,scale:e.scale})),a=useSelectedLayers()["selectedLayerIds"],s=useCallback(async()=>{await paste({actions:r}),r.hideContextMenu()},[r]),l=useCallback(async()=>{await copy(e,{pageIndex:o,layerIds:a}),r.hideContextMenu()},[r,e,o,copy,a]),c=useCallback(()=>{duplicate(e,{pageIndex:o,layerIds:a,actions:r}),r.hideContextMenu()},[e,o,a]),u=useCallback(()=>{a.includes("ROOT")||r.deleteLayer(e.activePage,a)},[a,e,r]),d=0===(null==n?void 0:n.data.child.findIndex(e=>a.includes(e))),p=(null==n?void 0:n.data.child.findLastIndex(e=>a.includes(e)))===((null==n?void 0:n.data.child.length)||0)-1,f=useCallback(async e=>{var t=keyName(e),t=modifiers$1(t,e),n=0<a.length;switch(t){case normalizeKeyName$1("Mod-a"):r.selectAllLayers(),e.preventDefault();break;case normalizeKeyName$1("Mod-z"):r.history.undo(),e.preventDefault();break;case normalizeKeyName$1("Mod-y"):r.history.redo(),e.preventDefault();break;case normalizeKeyName$1("Mod-v"):await s(),e.preventDefault();break;case normalizeKeyName$1("Mod-c"):n&&await l(),e.preventDefault();break;case normalizeKeyName$1("Mod-d"):n&&await c(),e.preventDefault();break;case normalizeKeyName$1("Mod-]"):!n||p||r.bringForward(o,a),e.preventDefault();break;case normalizeKeyName$1("Mod-Alt-]"):!n||p||r.bringToFront(o,a),e.preventDefault();break;case normalizeKeyName$1("Mod-["):!n||d||r.sendBackward(o,a),e.preventDefault();break;case normalizeKeyName$1("Mod-Alt-["):!n||d||r.sendToBack(o,a),e.preventDefault();break;case normalizeKeyName$1("Delete"):case normalizeKeyName$1("Backspace"):n&&u(),e.preventDefault();break;case normalizeKeyName$1("ArrowLeft"):r.moveSelectedLayers("left",1);break;case normalizeKeyName$1("ArrowRight"):r.moveSelectedLayers("right",1);break;case normalizeKeyName$1("ArrowUp"):r.moveSelectedLayers("top",1);break;case normalizeKeyName$1("ArrowDown"):r.moveSelectedLayers("bottom",1);break;case normalizeKeyName$1("Mod-0"):r.setScale(1),e.preventDefault();break;case normalizeKeyName$1("Mod--"):i<=.25?r.setScale(.1):i<=.5?r.setScale(.25):i<=.75?r.setScale(.5):i<=1?r.setScale(.75):i<=1.25?r.setScale(1):i<=1.5?r.setScale(1.25):i<=2?r.setScale(1.5):i<=3?r.setScale(2):i<=4?r.setScale(3):r.setScale(4),e.preventDefault();break;case normalizeKeyName$1("Mod-="):4<=i?r.setScale(5):3<=i?r.setScale(4):2<=i?r.setScale(3):1.5<=i?r.setScale(2):1.25<=i?r.setScale(1.5):1<=i?r.setScale(1.25):.75<=i?r.setScale(1):.5<=i?r.setScale(.75):.25<=i?r.setScale(.5):r.setScale(.25),e.preventDefault()}},[r,l,s,c,u]);useEffect(()=>{const e=e=>{var t;e.ctrlKey&&(t=Math.exp(-e.deltaY/600),t=Math.min(Math.max(i*t,.1),5),r.setScale(t),e.preventDefault(),e.stopPropagation())};return null!=t&&t.addEventListener("wheel",e,{passive:!1}),()=>{null!=t&&t.removeEventListener("wheel",e)}},[i]),useEffect(()=>(null!=t&&t.addEventListener("keydown",f),()=>{null!=t&&t.removeEventListener("keydown",f)}),[t,f])};var PlusIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M224 128a8 8 0 0 1-8 8h-80v80a8 8 0 0 1-16 0v-80H40a8 8 0 0 1 0-16h80V40a8 8 0 0 1 16 0v80h80a8 8 0 0 1 8 8Z"})}))},SquaresFourBoldIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M100 36H56a20 20 0 0 0-20 20v44a20 20 0 0 0 20 20h44a20 20 0 0 0 20-20V56a20 20 0 0 0-20-20Zm-4 60H60V60h36Zm104-60h-44a20 20 0 0 0-20 20v44a20 20 0 0 0 20 20h44a20 20 0 0 0 20-20V56a20 20 0 0 0-20-20Zm-4 60h-36V60h36Zm-96 40H56a20 20 0 0 0-20 20v44a20 20 0 0 0 20 20h44a20 20 0 0 0 20-20v-44a20 20 0 0 0-20-20Zm-4 60H60v-36h36Zm104-60h-44a20 20 0 0 0-20 20v44a20 20 0 0 0 20 20h44a20 20 0 0 0 20-20v-44a20 20 0 0 0-20-20Zm-4 60h-36v-36h36Z"})}))};const Page=({pageIndex:e,width:t,height:n,scale:r,isActive:o},i)=>jsx(PageProvider,{pageIndex:e,children:jsx("div",{ref:i,css:{position:"absolute",left:0,top:0,width:t*r,height:n*r,zIndex:0,margin:0},style:{visibility:o?"visible":"hidden",opacity:o?1:0},children:jsx("div",{css:{width:t,height:n,transform:`scale(${r})`,transformOrigin:"0 0",userSelect:"none",background:"white",overflow:"hidden"},children:jsx("div",{css:{width:t*r,height:n*r,position:"relative",left:0,top:0},children:jsx(PageElement,{})})})})});var Page$1=forwardRef(Page);const PageSettings=({onClose:n})=>{const{actions:r,pages:e,pageSize:o}=useEditor(e=>({pages:e.pages,pageSize:e.pageSize}));const i=(window.innerWidth/2-36-6)/o.width;return jsxs("div",{css:{top:0,left:0,width:"100vw",height:"100vh",position:"fixed",background:"#fff",zIndex:2050},children:[jsxs("div",{css:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,height:48,borderBottom:"1px solid rgba(57,76,96,.15)",padding:"0 20px"},children:[jsx("p",{css:{lineHeight:"48px",fontWeight:600,color:"#181C32",flexGrow:1},children:"Pages"}),jsx("div",{css:{fontSize:20,flexShrink:0,width:32,height:32,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>n(),children:jsx(XIcon,{})})]}),jsx("div",{css:{display:"grid",gridTemplateColumns:"repeat(2,minmax(0,1fr))",gridGap:24,padding:24},children:e.map((e,t)=>jsxs("div",{css:{position:"relative"},children:[jsx("div",{css:{position:"relative",width:o.width*i+6,height:o.height*i+6,border:"3px solid #fff",boxShadow:"0 0 0 1px rgba(64,87,109,.07),0 2px 8px rgba(57,76,96,.15)",borderRadius:8},children:jsx(Page$1,{pageIndex:t,width:o.width,height:o.height,scale:i,isActive:!0})}),jsx("p",{css:{fontSize:14,fontWeight:700,textAlign:"center",lineHeight:2},children:t+1}),jsx("div",{css:{position:"absolute",inset:0},onClick:()=>{return e=t,r.setActivePage(e),void n();var e}})]},t))})]})},isElementInViewport=(e,t)=>{var n=t.offsetTop;return e.scrollTop+e.offsetHeight>=n&&e.scrollTop<t.offsetHeight+n},useZoomPage=(p,f,n)=>{const h=useRef({isMoving:!1,isZoom:!1,touchStart:[{clientX:0,clientY:0},{clientX:0,clientY:0}],lastTouch:[{clientX:0,clientY:0},{clientX:0,clientY:0}],start:{clientX:0,clientY:0},last:{clientX:0,clientY:0}}),[m,g]=useState({scale:1,x:0,y:0}),{actions:v,scale:y,activePage:b,pageSize:w,isDragging:r,isRotating:o,isResizing:i,openImageEditor:a,openTextEditor:s,pageLength:t}=useEditor(e=>({scale:e.scale,activePage:e.activePage,pageSize:e.pageSize,isDragging:e.dragData.status,isRotating:e.rotateData.status,isResizing:e.resizeData.status,openImageEditor:!!e.imageEditor,openTextEditor:!!e.textEditor,pageLength:e.pages.length})),l=useCallback(()=>{h.current.isZoom=!0,h.current.isMoving=!1},[]),c=useCallback(e=>{var t,n,r,o;p.current&&h.current.isZoom&&f.current&&(r=window.innerWidth-32,o=window.innerHeight-70-72-32,{x:t,y:n}=m,r=(r=(r-w.width*y)/2)===t?0:t-r,o=(o=(o-w.height*y)/2)===n?0:n-o,f.current[b].style.transform=getTransformStyle({position:{x:t+r*(e-1),y:n+o*(e-1)},scale:e}))},[w,y]),u=useCallback(n=>{if(p.current&&h.current.isZoom&&f.current){h.current.isZoom=!1;let e=n;var{x:r,y:o}=m,i=window.innerWidth-32,a=window.innerHeight-70-72-32;let t=w.width*y*e;t<i&&(e=i/y/w.width,t=i);var s=w.width*y,l=w.height*y*e,c=w.height*y,u=(i-s)/2,d=(a-c)/2,s=(t-s)/2-(u===r?0:r-u)*(e-1),u=(l-c)/2-(d===o?0:o-d)*(e-1),c=Math.max(-(t-i),Math.min(r-s,0)),d=Math.max(-(l-a/2),Math.min(o-u,a/2));e>n&&(f.current[b].style.transform=getTransformStyle({position:{x:c,y:d},scale:1})),g({scale:1,x:c,y:d}),v.setScale(Math.max(y*e))}},[w,y,v]);var e=useCallback(e=>{e=e.nativeEvent.touches;2===e.length&&(h.current.touchStart=[e[0],e[1]],h.current.lastTouch=[e[0],e[1]],l())},[l]),d=useCallback(lodashExports.throttle(e=>{var t,e=e.nativeEvent["touches"];2===e.length&&(t=distanceBetweenPoints(h.current.touchStart[0],h.current.touchStart[1]),t=distanceBetweenPoints(e[0],e[1])/t,h.current.lastTouch=[e[0],e[1]],c(t))},16),[c]),x=useCallback(e=>{var t,e=e.nativeEvent["touches"];h.current.isZoom&&(t=distanceBetweenPoints(h.current.touchStart[0],h.current.touchStart[1]),t=distanceBetweenPoints(h.current.lastTouch[0],h.current.lastTouch[1])/t,h.current.lastTouch=[e[0],e[1]],u(t))},[u]);return useEffect(()=>{var e,t;p.current&&(e=w.width/w.height,t=window.innerWidth<=900?16:56,t=p.current.clientWidth-2*t,t=Math.min(1,{width:t,height:t*e}.width/w.width),v.setScale(t),isMobile_1)&&(e=(window.innerWidth-w.width*t-32)/2,t=(window.innerHeight-w.height*t-70-72-16)/2,g({scale:1,x:e,y:t}))},[w,g]),useEffect(()=>{const e=e=>{e.preventDefault(),l(),document.addEventListener("gesturechange",t),document.addEventListener("gestureend",n,{once:!0})},t=lodashExports.throttle(e=>{c(e.scale),e.preventDefault()},16),n=e=>{u(e.scale),e.preventDefault(),document.removeEventListener("gesturechange",t),document.removeEventListener("gestureend",n)};return document.addEventListener("gesturestart",e),()=>{document.removeEventListener("gesturestart",e)}},[y,m,g,v]),{pageTransform:m,onZoomStart:e,onZoomMove:d,onZoomEnd:x,onMoveStart:e=>{var{clientX:e,clientY:t}=getPosition(e);h.current.isMoving=!0,h.current.start={clientX:e,clientY:t},h.current.last={clientX:e,clientY:t}},onMove:e=>{var t,n,r,o,i;h.current.isMoving&&(i=window.innerWidth-32,t=window.innerHeight-70-72-32,h.current.isZoom||!h.current.isMoving||i>=w.width*y||({clientX:e,clientY:n}=getPosition(e.nativeEvent),h.current.last={clientX:e,clientY:n},o=w.width*y,r=w.height*y,o=Math.max(-(o-i),Math.min(m.x+e-h.current.start.clientX,0)),i=Math.max(-(r-t/2),Math.min(m.y+n-h.current.start.clientY,t/2)),f.current&&(f.current[b].style.transform=getTransformStyle({position:{x:o,y:i},scale:m.scale}))))},onMoveEnd:()=>{var e,t,n,r,o,i;h.current.isMoving&&(i=window.innerWidth-32,e=window.innerHeight-70-72-32,h.current.isZoom||!h.current.isMoving||i>=w.width*y||({clientX:n,clientY:t}=h.current.last,n=n-h.current.start.clientX,o=w.width*y,r=w.height*y,o=Math.max(-(o-i),Math.min(m.x+n,0)),i=Math.max(-(r-e/2),Math.min(m.y+t-h.current.start.clientY,e/2)),g({scale:m.scale,x:o,y:i}),h.current.isMoving=!1))},onMovePage:e=>{var t;!n.current||h.current.isZoom||!h.current.isMoving||o||i||r||a||s||({clientX:e,clientY:t}=getPosition(e.nativeEvent),h.current.last={clientX:e,clientY:t},t=e-h.current.start.clientX,window.innerWidth-32>=w.width*y&&(n.current.style.transform=getTransformStyle({position:{x:-(window.innerWidth*b)+t,y:0}})))},onMovePageEnd:()=>{var e;!n.current||h.current.isZoom||!h.current.isMoving||o||i||r||a||s||(e=h.current.last["clientX"],e=e-h.current.start.clientX,window.innerWidth-32>=w.width*y&&(e<=-.35*window.innerWidth&&b+1<=t-1?(n.current.style.transform=getTransformStyle({position:{x:-(window.innerWidth*(b+1)),y:0}}),v.setActivePage(Math.min(b+1,t-1))):e>=.35*window.innerWidth&&0<=b-1?(n.current.style.transform=getTransformStyle({position:{x:-(window.innerWidth*(b-1)),y:0}}),v.setActivePage(Math.max(b-1,0))):n.current.style.transform=getTransformStyle({position:{x:-(window.innerWidth*b),y:0}})))}}},isIntersection=(e,t)=>{var n=[e,t];let r,o,i,a,s,l,c,u;for(a=0;a<n.length;a++){var d=n[a];for(s=0;s<d.length;s++){var p=(s+1)%d.length,f=d[s],p=d[p],h={x:p.y-f.y,y:f.x-p.x};for(r=o=void 0,l=0;l<e.length;l++)i=h.x*e[l].x+h.y*e[l].y,(!r||i<r)&&(r=i),(!o||i>o)&&(o=i);for(c=u=void 0,l=0;l<t.length;l++)i=h.x*t[l].x+h.y*t[l].y,(!c||i<c)&&(c=i),(!u||i>u)&&(u=i);if(o<c||u<r)return!1}}return!0},useSelectLayer=({frameRef:p,pageListRef:f,selectionBoxRef:h})=>{const[e,n]=useState(),[r,m]=useLinkedRef({clientX:0,clientY:0,moveClientX:0,moveClientY:0,isMultipleSelect:!1}),{actions:o,scale:g,isSelecting:i,pages:v}=useEditor(e=>({scale:e.scale,isSelecting:e.selectData.status,pages:e.pages})),y=()=>v.map(({layers:i},a)=>({layers:[...i.ROOT.data.child,"ROOT"].reverse().reduce((e,t)=>{var n,r,{id:t,data:{props:o}}=i[t];return f.current[a]&&(r=f.current[a].getBoundingClientRect(),n=new WebKitCSSMatrix(getTransformStyle({rotate:o.rotate})),r=visualCorners({width:o.boxSize.width*g,height:o.boxSize.height*g},n,{x:r.x+((null==(n=p.current)?void 0:n.scrollLeft)||0)+o.position.x*g,y:r.y+((null==(n=p.current)?void 0:n.scrollTop)||0)+o.position.y*g}),e.push({id:t,delta:[r.nw,r.ne,r.se,r.sw]})),e},[])})),a=useCallback(({clientX:e,clientY:t},i=!1)=>{if(h.current&&p.current){const c=p.current.getBoundingClientRect();var n=p.current.scrollTop||0,r=p.current.scrollLeft||0,a=m(),s=Math.abs(e+r-a.clientX),l=Math.abs(t+n-a.clientY),e=e+r>a.clientX?a.clientX:e+r,r=t+n>a.clientY?a.clientY:t+n;h.current.style.left=e-c.x+"px",h.current.style.top=r-c.y+"px",h.current.style.width=s+"px",h.current.style.height=l+"px";const u=[{x:e,y:r},{x:e+s,y:r},{x:e+s,y:r+l},{x:e,y:r+l}],d={};let o=null;if(y().forEach(({layers:e},n)=>{const r=f.current[n].getBoundingClientRect();e.forEach(({id:e,delta:t})=>{!isIntersection(u,t)||null!==o&&o!==n||"ROOT"===e||(!i||null!==o)&&i||(o=n,d[e]={boxSize:{width:v[o].layers[e].data.props.boxSize.width*g,height:v[o].layers[e].data.props.boxSize.height*g},position:{x:r.x-c.x+((null==(t=p.current)?void 0:t.scrollLeft)||0)+v[o].layers[e].data.props.position.x*g,y:r.y-c.y+((null==(t=p.current)?void 0:t.scrollTop)||0)+v[o].layers[e].data.props.position.y*g},rotate:v[o].layers[e].data.props.rotate})});var e=e.find(e=>"ROOT"===e.id);i&&e&&isIntersection(u,e.delta)&&null===o&&(o=n,d.ROOT={boxSize:{width:v[o].layers.ROOT.data.props.boxSize.width*g,height:v[o].layers.ROOT.data.props.boxSize.height*g},position:{x:r.x-c.x+v[o].layers.ROOT.data.props.position.x*g,y:r.y-c.y+((null==(e=p.current)?void 0:e.scrollTop)||0)+v[o].layers.ROOT.data.props.position.y*g},rotate:v[o].layers.ROOT.data.props.rotate})}),null!==o)return{selectedPage:o,selectedLayers:d}}},[y,m]),t=useCallback(e=>{o.setSelectData(!0);var{clientX:e,clientY:t}=getPosition(e),e=(r.current.moveClientX=e,r.current.moveClientY=t,a({clientX:e,clientY:t}));n(e)},[a]),s=useCallback(e=>{var{clientX:e,clientY:t}=getPosition(e),e=a({clientX:e,clientY:t},e+p.current.scrollLeft===m().clientX&&t+p.current.scrollTop===m().clientY);e?o.selectLayers(e.selectedPage,Object.keys(e.selectedLayers),m().isMultipleSelect?"add":"replace"):(o.resetSelectLayer(),o.setSidebar()),c(),o.setSelectData(!1)},[a]),l=useCallback(()=>{window.addEventListener("mousemove",t),window.addEventListener("mouseup",s,{once:!0})},[t,s]),c=useCallback(()=>{window.removeEventListener("mousemove",t),window.removeEventListener("mouseup",s)},[t]);return useEffect(()=>{var e;const t=()=>{var e;i&&(e=a({clientX:r.current.moveClientX||r.current.clientX,clientY:r.current.moveClientY||r.current.clientY}))&&n(e)};return null!=(e=p.current)&&e.addEventListener("scroll",t),()=>{var e;null!=(e=p.current)&&e.removeEventListener("scroll",t)}},[i]),{tmpSelected:e,onSelectStart:e=>{var{clientX:e,clientY:t}=getPosition(e);n(void 0),o.setSelectData(!0),r.current.clientX=e+p.current.scrollLeft,r.current.clientY=t+p.current.scrollTop,l()}}};var arrayProto=Array.prototype,nativeReverse=arrayProto.reverse;function reverse(e){return null==e?e:nativeReverse.call(e)}var reverse_1=reverse,reverse$1=getDefaultExportFromCjs(reverse);const useTrackingShiftKey=()=>{const t=useRef(!1);return useEffect(()=>{const e=e=>{t.current=e.shiftKey};return window.addEventListener("keydown",e,{capture:!0}),window.addEventListener("keyup",e,{capture:!0}),()=>{window.removeEventListener("keydown",e,{capture:!0}),window.removeEventListener("keyup",e,{capture:!0})}},[]),t},rectangleInsideAnother=(e,t)=>{var n=new WebKitCSSMatrix(getTransformStyle({rotate:e.rotate})),n=visualCorners({width:e.boxSize.width,height:e.boxSize.height},n,{x:e.position.x,y:e.position.y}),e=new WebKitCSSMatrix(getTransformStyle({rotate:t.rotate}));const r=visualCorners({width:t.boxSize.width,height:t.boxSize.height},e,{x:t.position.x,y:t.position.y});return![n.nw,n.ne,n.se,n.sw].find(e=>!isPointInsideBox(e,r))},useDragLayer=({frameRef:d,pageListRef:p})=>{const f=useRef(null),h=useRef(null),m=useTrackingShiftKey(),[,s,u]=useLinkedRef({}),[,g,v]=useLinkedRef(),{selectedLayers:y,selectedLayerIds:b}=useSelectedLayers(),{actions:w,state:x,hoveredLayer:S,controlBox:k,scale:C,hoveredPage:E,activePage:T,pageSize:i,layers:_,mainLayers:R}=useEditor(t=>{const n=parseInt(Object.keys(t.hoveredLayer)[0]);var e=t.hoveredLayer[n];return{scale:t.scale,hoveredPage:n,controlBox:t.controlBox,hoveredLayer:e?t.pages[n].layers[e]:null,activePage:t.activePage,pageSize:t.pageSize,fontList:t.fontList,layers:t.pages[n]&&t.pages[n].layers,mainLayers:t.pages[n]&&reverse$1(t.pages[n].layers.ROOT.data.child.map(e=>t.pages[n].layers[e]))}}),O=({clientX:e,clientY:t})=>{var n=s(),r=null==(r=f.current)?void 0:r.start;const o=(e-r.clientX)/C,i=(t-r.clientY)/C,a={layers:{}};Object.entries(n).forEach(([e,t])=>{a.layers[e]={x:t.position.x+o,y:t.position.y+i}});e=g();return e&&(a.controlBox={x:e.position.x+o,y:e.position.y+i}),a},I=lodashExports.throttle(e=>{if(f.current){const{clientX:s,clientY:l}=getPosition(e);f.current.last={clientX:s+d.current.scrollLeft,clientY:l+d.current.scrollTop},f.current.e=e;var e=O(f.current.last),t=g();const c=e.controlBox&&t&&!m.current?getChange(Object.assign(Object.assign({},t),{position:e.controlBox}),Object.keys(e.layers),_,C):null;m.current||f.current.last.clientX===f.current.start.clientX&&f.current.last.clientY===f.current.start.clientY||w.setGuideline({horizontal:(null===c||void 0===c?void 0:c.line.horizontal)||[],vertical:(null===c||void 0===c?void 0:c.line.vertical)||[]}),w.setDragData(!0,Object.keys(e.layers)),Object.entries(e.layers).forEach(([e,t])=>{f.current&&w.history.merge().setProp(f.current.pageIndex,e,{position:{x:t.x+((null===c||void 0===c?void 0:c.x)||0),y:t.y+((null===c||void 0===c?void 0:c.y)||0)}})});var n,r,o,i,a=Object.keys(e.layers);const u=x.pages[f.current.pageIndex].layers[a[0]];1===a.length&&isImageLayer(u)&&(n=R.find(e=>{var t,n;return e.id!==u.id&&(n=new WebKitCSSMatrix(getTransformStyle({rotate:e.data.props.rotate})),t=p.current[T].getBoundingClientRect(),n=visualCorners({width:e.data.props.boxSize.width*C,height:e.data.props.boxSize.height*C},n,{x:t.x+e.data.props.position.x*C,y:t.y+e.data.props.position.y*C}),isPointInsideBox({x:s,y:l},n)?e:void 0)}),h.current&&(w.history.merge().setProp(f.current.pageIndex,u.id,{transparency:h.current.imageLayer.data.props.image.transparency||1}),w.history.merge().setProp(f.current.pageIndex,h.current.affectedFrame.id,{image:h.current.affectedFrame.data.props.image?{url:h.current.affectedFrame.data.props.image.url,boxSize:h.current.affectedFrame.data.props.image.boxSize,position:h.current.affectedFrame.data.props.image.position,rotate:h.current.affectedFrame.data.props.image.rotate}:null}),h.current=null),n)&&isFrameLayer(n)&&(r=u.data.props.image,o=n.data.props.boxSize.width/n.data.props.boxSize.height,i=r.boxSize.width/r.boxSize.height,h.current={imageLayer:lodashExports.cloneDeep(u),affectedFrame:lodashExports.cloneDeep(n)},w.history.merge().setProp(f.current.pageIndex,u.id,{transparency:.5}),i<o?w.history.merge().setProp(f.current.pageIndex,n.id,{image:{url:r.url,thumb:r.thumb,boxSize:{width:n.data.props.boxSize.width/n.data.props.scale,height:n.data.props.boxSize.width/n.data.props.scale/i},rotate:0,position:{x:0,y:-(n.data.props.boxSize.width/n.data.props.scale/i-n.data.props.boxSize.height/n.data.props.scale)/2}}}):w.history.merge().setProp(f.current.pageIndex,n.id,{image:{url:r.url,thumb:r.thumb,boxSize:{width:n.data.props.boxSize.height/n.data.props.scale*i,height:n.data.props.boxSize.height/n.data.props.scale},position:{x:-(n.data.props.boxSize.height/n.data.props.scale*i-n.data.props.boxSize.width/n.data.props.scale)/2,y:0},rotate:0}})),e.controlBox&&t&&(w.setDragData(!0,a),w.setControlBox(Object.assign(Object.assign({},t),{position:{x:e.controlBox.x+((null===c||void 0===c?void 0:c.x)||0),y:e.controlBox.y+((null===c||void 0===c?void 0:c.y)||0)}})))}},16),M=()=>{if(f.current){var{clientX:t,clientY:n}=f.current.last;if(w.setGuideline({vertical:[],horizontal:[]}),t===f.current.start.clientX&&n===f.current.start.clientY)S&&w.selectLayers(E,S.id,m.current?"add":"replace"),w.history.back();else{var r=g();let e=!1;t=O({clientX:t,clientY:n});const o=t.controlBox&&r&&!m.current?getChange(Object.assign(Object.assign({},r),{position:t.controlBox}),Object.keys(t.layers),_,C):null;t.controlBox&&r&&(n=Object.assign(Object.assign({},r),{position:{x:t.controlBox.x+((null===o||void 0===o?void 0:o.x)||0),y:t.controlBox.y+((null===o||void 0===o?void 0:o.y)||0)}}),(n=boundingRect(n.boxSize,n.position,n.rotate)).x>=i.width||n.y>=i.height||n.x+n.width<0||n.y+n.height<0)&&(w.deleteLayer(null==(n=f.current)?void 0:n.pageIndex,Object.keys(t.layers)),e=!0),e||Object.entries(t.layers).forEach(([e,t])=>{f.current&&w.history.merge().setProp(f.current.pageIndex,e,{position:{x:t.x+((null===o||void 0===o?void 0:o.x)||0),y:t.y+((null===o||void 0===o?void 0:o.y)||0)}})}),h.current&&(w.history.merge().deleteLayer(f.current.pageIndex,h.current.imageLayer.id),h.current=null),t.controlBox&&r&&!e&&w.setControlBox(Object.assign(Object.assign({},r),{position:{x:t.controlBox.x+((null===o||void 0===o?void 0:o.x)||0),y:t.controlBox.y+((null===o||void 0===o?void 0:o.y)||0)}}))}f.current=null,u({}),w.setDragData(!1),window.removeEventListener("mousemove",I),window.removeEventListener("mouseup",M),window.removeEventListener("mouseleave",M),window.removeEventListener("touchmove",I),window.removeEventListener("touchend",M)}};useEffect(()=>{var e;const t=()=>{f.current&&I(f.current.e)};return null!=(e=d.current)&&e.addEventListener("scroll",t),()=>{var e;null!=(e=d.current)&&e.removeEventListener("scroll",t)}},[d,I]);return{onDragStart:e=>{var{clientX:t,clientY:n}=getPosition(e);f.current={start:{clientX:t+d.current.scrollLeft,clientY:n+d.current.scrollTop},last:{clientX:t+d.current.scrollLeft,clientY:n+d.current.scrollTop},pageIndex:T,e:e};const i={};let r=!1,o=!1;if(k&&(e=new WebKitCSSMatrix(getTransformStyle({rotate:k.rotate})),a=p.current[T].getBoundingClientRect(),e=visualCorners({width:k.boxSize.width*C,height:k.boxSize.height*C},e,{x:a.x+k.position.x*C,y:a.y+k.position.y*C}),r=isPointInsideBox({x:t,y:n},e))&&S&&!b.includes(S.id)&&(o=rectangleInsideAnother(S.data.props,k)),(m.current||r&&!o)&&y.forEach(({id:e,data:{props:{position:t,boxSize:n,rotate:r,scale:o}}})=>{i[e]=lodashExports.cloneDeep({position:t,boxSize:n,rotate:r,scale:o})}),S&&(!r||r&&o)){const{position:s,boxSize:l,rotate:c,scale:C}=S.data.props;i[S.id]=lodashExports.cloneDeep({position:s,boxSize:l,rotate:c,scale:C}),f.current&&(f.current.pageIndex=E);var a=getControlBoxSizeFromLayers(i);a&&v(a)}else k&&v(k);u(i),isMobile_1&&w.setDragData(!0,Object.keys(i)),w.history.new(),window.addEventListener("touchmove",I),window.addEventListener("mousemove",I),window.addEventListener("mouseup",M,{once:!0}),window.addEventListener("mouseleave",M,{once:!0}),window.addEventListener("touchend",M,{once:!0})}}},getChange=(e,i,t,a)=>{const s={x:null,y:null,line:{horizontal:[],vertical:[]}};if(e){e=boundingRect(e.boxSize,e.position,e.rotate);const l={top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height,centerX:e.centerX,centerY:e.centerY};Object.entries(t).forEach(([e,t])=>{if(!i.includes(e)&&"ROOT"===t.data.parent){e=boundingRect(t.data.props.boxSize,t.data.props.position,t.data.props.rotate);const n={top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height,centerX:e.centerX,centerY:e.centerY},r=["top","bottom","centerY"],o=["left","right","centerX"];Object.keys(l).forEach(t=>{r.includes(t)&&r.forEach(e=>{isInRange(l[t],n[e],a)&&((null===s.y||s.y<n[e]-l[t])&&(s.y=n[e]-l[t]),l[t]+s.y===n[e])&&s.line.horizontal.push({y:n[e],x1:Math.min(l.left,n.left),x2:Math.max(l.right,n.right)})}),o.includes(t)&&o.forEach(e=>{isInRange(l[t],n[e],a)&&((null===s.x||s.x<n[e]-l[t])&&(s.x=n[e]-l[t]),l[t]+s.x===n[e])&&s.line.vertical.push({x:n[e],y1:Math.min(l.top,n.top),y2:Math.max(l.bottom,n.bottom)})})})}})}return s},ALIGN_MARGIN=4,isInRange=(e,t,n)=>Math.abs(Math.round(e)-Math.round(t))<=ALIGN_MARGIN/n,useUsedFont=()=>{var e=useEditor(e=>{const t=[];return e.pages.forEach(e=>{Object.entries(e.layers).forEach(([,e])=>{isTextLayer(e)&&t.push(...e.data.props.fonts)})}),{fontFamilyList:lodashExports.uniqBy(t,"name")}})["fontFamilyList"];return{usedFonts:e}},DesignFrame=({data:e})=>{const a=useTrackingShiftKey(),t=useRef(null);var n=useRef(null);const s=useRef([]);var r=useRef(null),o=useUsedFont()["usedFonts"];const i=useContext(EditorContext)["config"]["assetPath"],[l,c]=useState(!1),{actions:u,scale:d,pages:p,hoveredPage:f,hoveredLayer:h,selectStatus:m,rotateData:g,resizeData:v,controlBox:y,activePage:b,dragData:w,imageEditor:x,pageSize:S}=(useShortcut(t.current),useEditor(e=>{var t=parseInt(Object.keys(e.hoveredLayer)[0]),n=e.hoveredLayer[t];return{scale:e.scale,pages:e.pages,hoveredPage:t,hoveredLayer:n?e.pages[t].layers[n]:null,selectStatus:e.selectData.status,rotateData:e.rotateData,resizeData:e.resizeData,controlBox:e.controlBox,activePage:e.activePage,dragData:e.dragData,imageEditor:e.imageEditor,pageSize:e.pageSize}})),{pageTransform:k,onZoomStart:C,onZoomMove:E,onZoomEnd:T,onMoveStart:_,onMove:R,onMoveEnd:O,onMovePage:I,onMovePageEnd:L}=useZoomPage(t,s,n);useEffect(()=>{u.setData(e)},[e,u]),useClickOutside(r,()=>{u.hideContextMenu()},"mousedown",{capture:!0});var M=useRef(null);const D=useSelectedLayers()["selectedLayerIds"],{tmpSelected:N,onSelectStart:j}=useSelectLayer({frameRef:t,pageListRef:s,selectionBoxRef:M}),A=useDragLayer({frameRef:t,pageListRef:s})["onDragStart"],P=useCallback(t=>{if(!(isMouseEvent(t)&&2===t.button||x||isTouchEvent(t)&&1<t.touches.length)){var n=s.current.find(e=>e.contains(t.target)),r=s.current.find(e=>t.target.contains(e)),{clientX:o,clientY:i}=getPosition(t);if(n||r){let e=!1;y&&(n=new WebKitCSSMatrix(getTransformStyle({rotate:y.rotate})),r=s.current[b].getBoundingClientRect(),n=visualCorners({width:y.boxSize.width*d,height:y.boxSize.height*d},n,{x:r.x+y.position.x*d,y:r.y+y.position.y*d}),e=isPointInsideBox({x:o,y:i},n)),h&&"ROOT"!==h.id&&!D.includes(h.id)&&(!e||y&&rectangleInsideAnother(h.data.props,y))&&u.selectLayers(f,h.id,a.current?"add":"replace"),h&&"ROOT"!==h.id&&!h.data.locked||e?(A(t),t.stopPropagation()):isMouseEvent(t)?(j(t),t.stopPropagation()):isTouchEvent(t)&&_(t)}}},[h,y,D,w]);var z;return jsxs(Fragment$1,{children:[jsxs("div",{ref:t,css:Object.assign(Object.assign({display:"flex",position:"relative",height:"100%",overflow:"scroll"},g.status?(z=Math.round((g.rotate||0)/10),{cursor:`url('${i}/cursors/rotate/${36===z?0:z}.png') 12 12, auto;`}):v.status?(z={bottomLeft:45,left:90,topLeft:135,top:180,topRight:225,right:270,bottomRight:315,bottom:0},z=(v.rotate||0)+z[v.direction||"bottom"]+90,z=Math.round(z%180/10),{cursor:`url('${i}/cursors/resize/${z}.png') 12 12, auto`}):w.status?{cursor:"move"}:{}),{"@media (max-width: 900px)":{overflow:"hidden",height:"calc(100% - 72px)"}}),tabIndex:0,onTouchStart:C,onTouchMove:E,onTouchEnd:T,onScroll:()=>{if(!w.status&&!m){const n=t.current;s.current[b]&&!isElementInViewport(n,s.current[b])&&s.current.some((e,t)=>{if(isElementInViewport(n,e))return u.selectLayers(t,"ROOT"),!0})}},children:[jsx("div",{css:{position:"absolute",display:"flex",minWidth:"100%",minHeight:"100%"},onMouseDown:e=>P(e.nativeEvent),onTouchStart:e=>P(e.nativeEvent),children:jsxs("div",{css:{position:"relative",display:"flex",flexGrow:1,touchAction:"pinch-zoom"},children:[jsxs("div",{ref:n,css:{display:"flex",position:"relative",flexDirection:"row",justifyContent:"center",margin:"auto","@media (max-width: 900px)":{transition:"transform 250ms linear 0s",margin:"initial"}},style:{transform:`translateX(-${isMobile_1?window.innerWidth*b:0}px)`},children:[jsxs("div",{css:{marginLeft:56,"@media (max-width: 900px)":{display:"flex",marginLeft:0}},onTouchMove:e=>{R(e),I(e)},onTouchEnd:()=>{O(),L()},children:[jsx(GlobalStyle,{fonts:o,mode:"editor"}),p.map((e,t)=>jsx("div",{css:{"@media (max-width: 900px)":{padding:"0 16px",width:window.innerWidth,height:window.innerHeight,overflow:"hidden"}},children:jsx(DesignPage$1,{ref:e=>e&&(s.current[t]=e),pageIndex:t,width:S.width,height:S.height,transform:k})},t)),jsx("div",{css:{marginTop:20,marginBottom:20,background:"rgba(64,87,109,.07)",color:"#0d1216",width:S.width*d,textAlign:"center",paddingTop:8,paddingBottom:8,borderRadius:8,"@media (max-width: 900px)":{display:"none"}},onClick:()=>{u.addPage()},children:"Add Page"})]}),jsx("div",{css:{width:56,pointerEvents:"none","@media (max-width: 900px)":{width:0}}})]}),jsx(LayerContextMenu$1,{ref:r}),m&&jsx(SelectionBox$1,{ref:M,selectedLayers:null==N?void 0:N.selectedLayers})]})}),jsx("div",{css:{display:"none","@media (max-width: 900px)":{pointerEvents:"auto",display:"flex",position:"absolute",bottom:24,left:24,background:"#3d8eff",width:48,height:48,alignItems:"center",justifyContent:"center",borderRadius:"50%",color:"#fff",fontSize:24}},onClick:()=>{u.addPage()},children:jsx(PlusIcon,{})}),jsx("div",{css:{display:"none","@media (max-width: 900px)":{pointerEvents:"auto",display:"flex",position:"absolute",bottom:24,right:24,background:"#fff",width:48,height:48,alignItems:"center",justifyContent:"center",borderRadius:"50%",fontSize:24,boxShadow:"0 0 0 1px rgba(64,87,109,.07),0 2px 12px rgba(53,71,90,.2)"}},onClick:()=>{c(!0)},children:jsx(SquaresFourBoldIcon,{})})]}),v.status&&jsxs("div",{css:{position:"fixed",top:((null==(z=v.cursor)?void 0:z.clientY)||0)+36+"px",left:((null==(n=v.cursor)?void 0:n.clientX)||0)+60+"px",whiteSpace:"nowrap",background:"#3a3a4c",padding:"3px 8px",borderRadius:4,textAlign:"center",color:"white",fontSize:12,fontWeight:700},children:["w: ",Math.round((null==(o=v.boxSize)?void 0:o.width)||0)," h: ",Math.round((null==(r=v.boxSize)?void 0:r.height)||0)]}),l&&jsx(PageSettings,{onClose:()=>c(!1)})]})},getPositionWhenLayerCenter=(e,t)=>({x:(e.width-t.width)/2,y:(e.height-t.height)/2}),ActionMethods=(v,e)=>{const n=(e,{rootId:t,layers:r},n="ROOT")=>{const o=(e,t)=>{return{id:getRandomId(),data:deserializeLayer(Object.assign(Object.assign({},e),{parent:t,child:[]}))}},i=o(r[t],n);t=((e,t)=>{const n=[];return r[e].child.forEach(e=>{e=o(r[e],t);n.push([e.id,e]),i.data.child.push(e.id)}),n})(t,i.id),t=Object.fromEntries([[i.id,i],...t]);return Object.entries(t).forEach(([e,t])=>{v.pages[v.activePage].layers[e]=t}),v.pages[e].layers[n].data.child.push(i.id),i};return{setProp(t,e,n,r){var o=[];lodashExports.isArray(e)?o.push(...e):o.push(e),o.forEach(e=>{v.pages[t].layers[e].data.props=mergeWithoutArray(v.pages[t].layers[e].data.props,n,r)})},moveSelectedLayers:(t,n)=>{v.controlBox=void 0,v.selectedLayers[v.activePage].forEach(e=>{"right"===t?v.pages[v.activePage].layers[e].data.props.position.x+=n:"left"===t?v.pages[v.activePage].layers[e].data.props.position.x-=n:"top"===t?v.pages[v.activePage].layers[e].data.props.position.y-=n:"bottom"===t&&(v.pages[v.activePage].layers[e].data.props.position.y+=n)})},changePageSize:n=>{const r=n.width-v.pageSize.width,o=n.height-v.pageSize.height,i=(v.pageSize=n).width/n.height;v.pages.forEach(e=>{Object.entries(e.layers).forEach(([,e])=>{var t;!isRootLayer(e)&&isMainLayer(e)&&(e.data.props.position.x+=r/2,e.data.props.position.y+=o/2),isRootLayer(e)&&(e.data.props.boxSize=n,e.data.props.image)&&((t=e.data.props.image.boxSize.width/e.data.props.image.boxSize.height)>i?(e.data.props.image.boxSize.height=n.height,e.data.props.image.boxSize.width=n.height*t):(e.data.props.image.boxSize.width=n.width,e.data.props.image.boxSize.height=n.width/t),e.data.props.image.position.y=(n.height-e.data.props.image.boxSize.height)/2,e.data.props.image.position.x=(n.width-e.data.props.image.boxSize.width)/2)})})},setScale:e=>{v.scale=e},setGuideline:({vertical:e,horizontal:t})=>{v.guideline.vertical=e,v.guideline.horizontal=t},selectLayers(e,t,n="replace"){t="object"==typeof t?t:[t];v.textEditor=void 0,v.imageEditor=void 0,e!==v.activePage&&(v.selectedLayers={}),"replace"===n||v.selectedLayers[e]&&v.selectedLayers[e].includes("ROOT")||t.includes("ROOT")?(v.selectedLayers={[e]:t},(n=v.hoveredLayer[e])&&t.includes(n)&&(v.hoveredLayer={[e]:null})):v.selectedLayers[e]=lodashExports.uniq([...v.selectedLayers[e]||[],...t]),v.activePage=e},selectAllLayers:()=>{v.imageEditor=void 0,v.textEditor=void 0,v.selectedLayers={[v.activePage]:Object.entries(v.pages[v.activePage].layers).reduce((e,[t,n])=>("ROOT"===n.data.parent&&e.push(t),e),[])}},resetSelectLayer:()=>{v.selectedLayers={},v.hoveredLayer={},v.textEditor=void 0,v.imageEditor=void 0},hoverLayer:(e,t)=>{v.hoveredLayer={[e]:t}},setAlign(r){const t=(e,t)=>{var n=boundingRect(t.data.props.boxSize,t.data.props.position,t.data.props.rotate);return"left"===r?e.position.x-(t.data.props.boxSize.width-n.width)/2:"right"===r?e.position.x+e.boxSize.width-n.width-(t.data.props.boxSize.width-n.width)/2:e.position.x+(e.boxSize.width-t.data.props.boxSize.width)/2},n=(e,t)=>{var n=boundingRect(t.data.props.boxSize,t.data.props.position,t.data.props.rotate);return"top"===r?e.position.y-(t.data.props.boxSize.height-n.height)/2:"bottom"===r?e.position.y+e.boxSize.height-n.height-(t.data.props.boxSize.height-n.height)/2:e.position.y+(e.boxSize.height-t.data.props.boxSize.height)/2};var e=v.selectedLayers[v.activePage].map(e=>v.pages[v.activePage].layers[e]);if(1===e.length)["left","right","center"].includes(r)?(o=t(v.pages[v.activePage].layers.ROOT.data.props,e[0]),v.pages[v.activePage].layers[e[0].id].data.props.position.x=o,v.controlBox&&(v.controlBox.position.x=o)):(o=n(v.pages[v.activePage].layers.ROOT.data.props,e[0]),v.pages[v.activePage].layers[e[0].id].data.props.position.y=o,v.controlBox&&(v.controlBox.position.y=o));else if(1<e.length){var o=e.reduce((e,t)=>(e[t.id]=t.data.props,e),{});const i=getControlBoxSizeFromLayers(o),a={};e.forEach(e=>{["left","right","center"].includes(r)?v.pages[v.activePage].layers[e.id].data.props.position.x=t(i,e):v.pages[v.activePage].layers[e.id].data.props.position.y=n(i,e),a[e.id]=v.pages[v.activePage].layers[e.id].data.props}),v.controlBox=getControlBoxSizeFromLayers(a)}},setTextEditor:(e,t,n)=>{v.pages[e].layers[t].data.editor=n},setData:e=>{v.activePage=0,v.selectedLayers={},v.hoveredLayer={};const t=[],s=(e,t)=>{return{id:null===e.parent?"ROOT":getRandomId(),data:deserializeLayer(Object.assign(Object.assign({},e),{parent:t,child:[]}))}};e.forEach((o,e)=>{0===e&&(v.pageSize=o.layers.ROOT.props.boxSize);const i={locked:o.locked,layers:{}},a=(i.layers.ROOT=s(o.layers.ROOT,null),(e,n)=>{const r=[];return o.layers[e].child.forEach(e=>{var t=s(o.layers[e],n);r.push([t.id,t]),i.layers[t.id]=t,i.layers[n].data.child.push(t.id),0<o.layers[e].child.length&&r.push(...a(e,t.id))}),r});e=a("ROOT","ROOT"),e=Object.fromEntries(e);Object.entries(e).forEach(([e,t])=>{i.layers[e]=t}),t.push(i)}),v.pages=t},setPage:(e,o)=>{const i={locked:o.locked,layers:{}},a=(e,t)=>{return{id:null===e.parent?"ROOT":getRandomId(),data:deserializeLayer(Object.assign(Object.assign({},e),{parent:t,child:[]}))}},s=(i.layers.ROOT=a(o.layers.ROOT,null),(e,n)=>{const r=[];return o.layers[e].child.forEach(e=>{var t=a(o.layers[e],n);r.push([t.id,t]),i.layers[t.id]=t,i.layers[n].data.child.push(t.id),0<o.layers[e].child.length&&r.push(...s(e,t.id))}),r});var t=s("ROOT","ROOT"),t=Object.fromEntries(t);Object.entries(t).forEach(([e,t])=>{i.layers[e]=t}),v.selectedLayers={},v.pages[e]=i},setActivePage(e){v.selectedLayers={},v.hoveredLayer={},v.textEditor=void 0,v.activePage=e},deleteLayer:(n,e)=>{const t=[];"object"==typeof e?t.push(...e):t.push(e),v.selectedLayers[n]=v.selectedLayers[n].filter(e=>!t.includes(e)),t.forEach(t=>{var e=v.pages[n].layers[t].data.parent;delete v.pages[n].layers[t],e&&v.pages[n].layers[e]&&(v.pages[n].layers[e].data.child=v.pages[n].layers[e].data.child.filter(e=>e!==t))})},openTextEditor(e,t){v.textEditor={pageIndex:e,layerId:t,editor:null}},setOpeningEditor(e){v.textEditor&&(v.textEditor.editor=e)},closeTextEditor(){v.textEditor=void 0},lockPage:e=>{v.pages[e].locked=!0},unlockPage:e=>{v.pages[e].locked=!1},deletePage:e=>{v.selectedLayers={},v.hoveredLayer={},v.pages.splice(e,1)},duplicatePage(e){v.textEditor=void 0,v.imageEditor=void 0;const n={locked:v.pages[e].locked,layers:{}};Object.entries(lodashExports.cloneDeep(serializeLayers(v.pages[e].layers,"ROOT"))).map(([e,t])=>{n.layers[e]={id:e,data:deserializeLayer(t)}}),v.pages.splice(e,0,n),v.activePage=e+1,v.selectedLayers={[e+1]:["ROOT"]}},addPage:e=>{var t={locked:!1,layers:{}};t.layers.ROOT={id:"ROOT",data:deserializeLayer({type:{resolvedName:"RootLayer"},props:{boxSize:{width:v.pageSize.width,height:v.pageSize.height},position:{x:0,y:0},rotate:0,color:"#fff",image:null},locked:!1,parent:null,child:[]})},void 0!==e?(v.pages.splice(e+1,0,t),v.activePage=e+1):(v.pages.push(t),v.activePage=v.activePage+1)},movePageUp:e=>{var t=lodashExports.cloneDeep(v.pages[e]);v.pages.splice(e,1),v.pages.splice(e-1,0,t),v.activePage=e-1},movePageDown:e=>{var t=lodashExports.cloneDeep(v.pages[e]);v.pages.splice(e,1),v.pages.splice(e+1,0,t),v.activePage=e+1},lock:(t,e)=>{var n=[];"object"==typeof e?n.push(...e):n.push(e),n.forEach(e=>{v.pages[t].layers[e].data.locked=!0})},unlock:(t,e)=>{var n=[];"object"==typeof e?n.push(...e):n.push(e),n.forEach(e=>{v.pages[t].layers[e].data.locked=!1})},ungroup(e){const n=v.activePage,r=v.pages[v.activePage].layers,o=r[e];var t=r[e].data.child,i=r[e].data.parent,a=r[i];const s=t.reduce((e,t)=>(e[t]=positionOfObjectInsideAnother(o.data.props,r[t].data.props),e),{});a=a.data.child.indexOf(e);return t.forEach(e=>{var t=v.pages[n].layers[e];t.data.parent="ROOT",t.data.props.position.x=s[e].x,t.data.props.position.y=s[e].y,t.data.props.rotate=s[e].rotate,t.data.props.boxSize.width=t.data.props.boxSize.width*o.data.props.scale,t.data.props.boxSize.height=t.data.props.boxSize.height*o.data.props.scale,isTextLayer(t)||isFrameLayer(t)?t.data.props.scale=t.data.props.scale*o.data.props.scale:isImageLayer(t)&&(t.data.props.image.boxSize.width=t.data.props.image.boxSize.width*o.data.props.scale,t.data.props.image.boxSize.height=t.data.props.image.boxSize.height*o.data.props.scale,t.data.props.image.position.x=t.data.props.image.position.x*o.data.props.scale,t.data.props.image.position.y=t.data.props.image.position.y*o.data.props.scale)}),v.pages[n].layers[i].data.child.splice(a,1),v.pages[n].layers[i].data.child.splice(a,0,...t),delete v.pages[n].layers[e],v.selectedLayers={[n]:t},t},group(e){const t=[],n=v.activePage,r=v.pages[v.activePage].layers,{left:o,right:i,top:a,bottom:s}=(e.forEach(e=>{isGroupLayer(r[e])?t.push(...this.ungroup(e)):t.push(e)}),t.reduce((e,t)=>{t=r[t].data.props,t=boundingRect(t.boxSize,t.position,t.rotate);return(null===e.left||e.left>t.x)&&(e.left=t.x),(null===e.right||e.right<t.x+t.width)&&(e.right=t.x+t.width),(null===e.top||e.top>t.y)&&(e.top=t.y),(null===e.bottom||e.bottom<t.y+t.height)&&(e.bottom=t.y+t.height),e},{left:null,right:null,top:null,bottom:null}));var l={type:{resolvedName:"GroupLayer"},props:{position:{x:o,y:a},boxSize:{width:i-o,height:s-a},scale:1,rotate:0},locked:!1,hidden:!1,parent:"ROOT",child:t};const c=getRandomId();l=deserializeLayer(l);const u=r.ROOT.data.child;v.pages[n].layers[c]={id:c,data:l},t.sort((e,t)=>u.indexOf(e)-u.indexOf(t));l=v.pages[n].layers.ROOT.data.child.findLastIndex(e=>t.includes(e));return t.forEach(t=>{var e=v.pages[n].layers.ROOT.data.child.findIndex(e=>e===t),e=(v.pages[n].layers.ROOT.data.child.splice(e,1),v.pages[n].layers[t].data.parent=c,v.pages[n].layers[t].data.props);v.pages[n].layers[t].data.props.position.x=e.position.x-o,v.pages[n].layers[t].data.props.position.y=e.position.y-a}),v.pages[n].layers.ROOT.data.child.splice(l-e.length+1,0,c),v.selectedLayers={[n]:[c]},c},bringToFront:(e,t)=>{var n=[];"object"==typeof t?n.push(...t):n.push(t);const r=v.pages[e].layers.ROOT.data.child;n.sort((e,t)=>r.indexOf(e)-r.indexOf(t)),n.forEach(t=>{var e=r.findIndex(e=>e===t);r.splice(e,1),r.splice(r.length,0,t)})},bringForward:(e,t)=>{const n=[],r=("object"==typeof t?n.push(...t):n.push(t),v.pages[e].layers.ROOT.data.child),o=r.findLastIndex(e=>n.includes(e));n.sort((e,t)=>r.indexOf(e)-r.indexOf(t)),n.forEach(t=>{var e=r.findIndex(e=>e===t);r.splice(e,1),r.splice(o+1,0,t)})},sendToBack:(e,t)=>{var n=[];"object"==typeof t?n.push(...t):n.push(t);const r=v.pages[e].layers.ROOT.data.child;n.sort((e,t)=>r.indexOf(t)-r.indexOf(e)),n.forEach(t=>{var e=r.findIndex(e=>e===t);r.splice(e,1),r.splice(0,0,t)})},sendBackward:(e,t)=>{const n=[],r=("object"==typeof t?n.push(...t):n.push(t),v.pages[e].layers.ROOT.data.child),o=r.findIndex(e=>n.includes(e));n.sort((e,t)=>r.indexOf(t)-r.indexOf(e)),n.forEach(t=>{var e=r.findIndex(e=>e===t);r.splice(e,1),r.splice(o-1,0,t)})},setFontList(e){v.fontList=e},appendFontList(e){v.fontList.push(...e)},addLayer(e,t="ROOT"){var n=getRandomId(),e=deserializeLayer(Object.assign(Object.assign({},e),{locked:!1,parent:t,child:[]}));v.pages[v.activePage].layers[n]={id:n,data:mergeWithoutArray(e,{props:{position:getPositionWhenLayerCenter(v.pageSize,e.props.boxSize)}})},v.pages[v.activePage].layers[t].data.child.push(n),this.selectLayers(v.activePage,n)},addShapeLayer(e,t="ROOT"){var n=getRandomId(),e=deserializeLayer(Object.assign(Object.assign({},e),{locked:!1,parent:t,child:[]})),r=v.pageSize.width/v.pageSize.height,o=e.props.boxSize.width/e.props.boxSize.height;let i=1,a=e.props.boxSize.width,s=e.props.boxSize.height;i=r<o?(a=.3*v.pageSize.width,s=a/o,a/e.props.boxSize.width):(s=.3*v.pageSize.height,a=s*o,s/e.props.boxSize.height),v.pages[v.activePage].layers[n]={id:n,data:mergeWithoutArray(lodashExports.cloneDeep(e),{props:{boxSize:{width:a,height:s},position:getPositionWhenLayerCenter(v.pageSize,e.props.boxSize),scale:i}})},v.pages[v.activePage].layers[t].data.child.push(n),this.selectLayers(v.activePage,n)},addImageLayer({thumb:e,url:t},n,r="ROOT"){var o=getRandomId(),i=v.pageSize,a=i.width/i.height,n=n.width/n.height,a=a<n?.8*i.width:i.height*n*.8,i=a/n,n=deserializeLayer({type:{resolvedName:"ImageLayer"},props:{image:{url:t,thumb:e,boxSize:{width:a,height:i},position:{x:0,y:0},rotate:0},position:{x:0,y:0},boxSize:{width:a,height:i},rotate:0},locked:!1,parent:r,child:[]});v.pages[v.activePage].layers[o]={id:o,data:mergeWithoutArray(n,{props:{position:getPositionWhenLayerCenter(v.pageSize,n.props.boxSize)}})},v.pages[v.activePage].layers[r].data.child.push(o),this.selectLayers(v.activePage,o)},addSvgLayer(e,t,n,r="ROOT"){var o=getRandomId(),i=v.pageSize,a=i.width/i.height,t=t.width/t.height,a=a<t?.5*i.width:i.height*t*.5,i=a/t,s=[],l=n.getElementsByTagName("g"),c=n.getAttribute("stroke")||n.style.stroke||"none",u=n.getAttribute("fill")||n.style.fill||"#000000";if(1<l.length)for(let e=0;e<l.length;e++){var d,p,f=l[e].getAttribute("id");f&&(f=f.match(/^[a-z]+(\d+)(_)*(\d*)$/i))&&2<=f.length&&(f=parseInt(f[1],10)-1,0<(p=l[e].querySelectorAll("path, circle, ellipse,line, rect, polygon,polyline, text")).length)&&(d=p[0].getAttribute("stroke")||c,p=p[0].getAttribute("fill")||u,s[f]=("none"!==d?new Color(d):new Color(p)).toRgbString())}else{var h=n.querySelectorAll("path, circle, ellipse,line, rect, polygon,polyline, text");for(let n=0;n<h.length;n++){var m=h[n].getAttribute("style");let e=h[n].getAttribute("stroke")||"none",t=h[n].getAttribute("fill")||"#000000";const g={};m&&m.split(";").forEach(e=>{var[e,t]=e.split(":");g[e.trim()]=t.trim()}),g.stroke&&(e=g.stroke),g.fill&&(t=g.fill),e&&"none"!==e&&!s.includes(new Color(e).toRgbString())?s.push(new Color(e).toRgbString()):t&&"none"!==t&&!s.includes(new Color(t).toRgbString())&&s.push(new Color(t).toRgbString())}}t=deserializeLayer({type:{resolvedName:"SvgLayer"},props:{image:e,position:{x:0,y:0},boxSize:{width:a,height:i},colors:s,rotate:0},locked:!1,parent:r,child:[]});v.pages[v.activePage].layers[o]={id:o,data:mergeWithoutArray(t,{props:{position:getPositionWhenLayerCenter(v.pageSize,t.props.boxSize)}})},v.pages[v.activePage].layers[r].data.child.push(o),this.selectLayers(v.activePage,o)},addFrameLayer(e,t,n="ROOT"){var r=getRandomId(),o=v.pageSize,i=o.width/o.height,i=e.width/e.height<i?.5*o.height/e.height:.5*o.width/e.width,o=deserializeLayer({type:{resolvedName:"FrameLayer"},props:{clipPath:t,position:{x:0,y:0},boxSize:{width:e.width*i,height:e.height*i},rotate:0,scale:i},locked:!1,parent:n,child:[]});v.pages[v.activePage].layers[r]={id:r,data:mergeWithoutArray(o,{props:{position:getPositionWhenLayerCenter(v.pageSize,o.props.boxSize)}})},v.pages[v.activePage].layers[n].data.child.push(r),this.selectLayers(v.activePage,r)},addLayerTree({layers:e,rootId:t}){e=n(v.activePage,{layers:e,rootId:t});this.selectLayers(v.activePage,e.id)},addLayerTrees(e){const t=[];e=e.map(e=>{e=n(v.activePage,e);return t.push(e.id),e});return this.selectLayers(v.activePage,t),e},showContextMenu:({clientX:e,clientY:t})=>{v.openMenu={clientX:e,clientY:t}},hideContextMenu:()=>{v.openMenu=null},setSelectData:e=>{v.selectData.status=e},setResizeData:(e,t,n,r,o,i)=>{v.resizeData={status:e,layerIds:t,direction:n,rotate:r,boxSize:o,cursor:i}},setRotateData:(e,t)=>{v.rotateData={status:e,rotate:t}},setDragData:(e,t)=>{v.dragData={status:e,layerIds:t}},setControlBox:e=>{v.controlBox=e},setSidebar:e=>{v.sidebar=e||null},openImageEditor(e,t,{boxSize:n,position:r,rotate:o,image:i}){v.imageEditor=lodashExports.cloneDeep({pageIndex:e,layerId:t,boxSize:n,position:r,rotate:o,image:i})},updateImageEditor(e){v.imageEditor&&(v.imageEditor=mergeWithoutArray(v.imageEditor,e))},closeImageEditor(){var e,t=v.imageEditor;t&&(e=v.pages[t.pageIndex].layers[t.layerId],v.pages[t.pageIndex].layers[t.layerId].data.props=mergeWithoutArray(v.pages[t.pageIndex].layers[t.layerId].data.props,{boxSize:t.boxSize,position:t.position,rotate:t.rotate,image:{boxSize:{width:t.image.boxSize.width/(e.data.props.scale||1),height:t.image.boxSize.height/(e.data.props.scale||1)},position:{x:t.image.position.x/(e.data.props.scale||1),y:t.image.position.y/(e.data.props.scale||1)},rotate:t.image.rotate}})),v.imageEditor=void 0}}};var NOTHING=Symbol.for("immer-nothing"),DRAFTABLE=Symbol.for("immer-draftable"),DRAFT_STATE=Symbol.for("immer-state"),errors="production"!==process.env.NODE_ENV?[function(e){return`The plugin for '${e}' has not been loaded into Immer. To enable the plugin, import and call \`enable${e}()\` when initializing your application.`},function(e){return`produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${e}'`},"This object has been frozen and should not be mutated",function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.","Immer forbids circular references","The first or second argument to `produce` must be a function","The third argument to `produce` must be a function or undefined","First argument to `createDraft` must be a plain object, an array, or an immerable object","First argument to `finishDraft` must be a draft returned by `createDraft`",function(e){return"'current' expects a draft, got: "+e},"Object.defineProperty() cannot be used on an Immer draft","Object.setPrototypeOf() cannot be used on an Immer draft","Immer only supports deleting array indices","Immer only supports setting array indices and the 'length' property",function(e){return"'original' expects a draft, got: "+e}]:[];function die(e,...t){var n;if("production"!==process.env.NODE_ENV)throw t="function"==typeof(n=errors[e])?n.apply(null,t):n,new Error("[Immer] "+t);throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var getPrototypeOf=Object.getPrototypeOf;function isDraft(e){return!!e&&!!e[DRAFT_STATE]}function isDraftable(e){return!!e&&(isPlainObject(e)||Array.isArray(e)||!!e[DRAFTABLE]||!!e.constructor?.[DRAFTABLE]||isMap(e)||isSet(e))}var objectCtorString=Object.prototype.constructor.toString();function isPlainObject(e){return!(!e||"object"!=typeof e)&&(null===(e=getPrototypeOf(e))||(e=Object.hasOwnProperty.call(e,"constructor")&&e.constructor)===Object||"function"==typeof e&&Function.toString.call(e)===objectCtorString)}function each(n,r){0===getArchtype(n)?Object.entries(n).forEach(([e,t])=>{r(e,t,n)}):n.forEach((e,t)=>r(t,e,n))}function getArchtype(e){var t=e[DRAFT_STATE];return t?t.type_:Array.isArray(e)?1:isMap(e)?2:isSet(e)?3:0}function has(e,t){return 2===getArchtype(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function get(e,t){return 2===getArchtype(e)?e.get(t):e[t]}function set(e,t,n){var r=getArchtype(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function is(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function isMap(e){return e instanceof Map}function isSet(e){return e instanceof Set}function latest(e){return e.copy_||e.base_}function shallowCopy(t,e){if(isMap(t))return new Map(t);if(isSet(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&isPlainObject(t))return getPrototypeOf(t)?{...t}:Object.assign(Object.create(null),t);var n=Object.getOwnPropertyDescriptors(t),r=(delete n[DRAFT_STATE],Reflect.ownKeys(n));for(let e=0;e<r.length;e++){var o=r[e],i=n[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(n[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:t[o]})}return Object.create(getPrototypeOf(t),n)}function freeze(e,t=!1){return isFrozen(e)||isDraft(e)||!isDraftable(e)||(1<getArchtype(e)&&(e.set=e.add=e.clear=e.delete=dontMutateFrozenCollections),Object.freeze(e),t&&each(e,(e,t)=>freeze(t,!0))),e}function dontMutateFrozenCollections(){die(2)}function isFrozen(e){return Object.isFrozen(e)}var currentScope,plugins={};function getPlugin(e){var t=plugins[e];return t||die(0,e),t}function loadPlugin(e,t){plugins[e]||(plugins[e]=t)}function getCurrentScope(){return currentScope}function createScope(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function usePatchesInScope(e,t){t&&(getPlugin("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function revokeScope(e){leaveScope(e),e.drafts_.forEach(revokeDraft),e.drafts_=null}function leaveScope(e){e===currentScope&&(currentScope=e.parent_)}function enterScope(e){return currentScope=createScope(currentScope,e)}function revokeDraft(e){e=e[DRAFT_STATE];0===e.type_||1===e.type_?e.revoke_():e.revoked_=!0}function processResult(e,t){t.unfinalizedDrafts_=t.drafts_.length;var n=t.drafts_[0];return void 0!==e&&e!==n?(n[DRAFT_STATE].modified_&&(revokeScope(t),die(4)),isDraftable(e)&&(e=finalize(t,e),t.parent_||maybeFreeze(t,e)),t.patches_&&getPlugin("Patches").generateReplacementPatches_(n[DRAFT_STATE].base_,e,t.patches_,t.inversePatches_)):e=finalize(t,n,[]),revokeScope(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==NOTHING?e:void 0}function finalize(r,n,o){if(isFrozen(n))return n;const i=n[DRAFT_STATE];if(!i)return each(n,(e,t)=>finalizeProperty(r,i,n,e,t,o)),n;if(i.scope_!==r)return n;if(!i.modified_)return maybeFreeze(r,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let e=a,n=!1;3===i.type_&&(e=new Set(a),a.clear(),n=!0),each(e,(e,t)=>finalizeProperty(r,i,a,e,t,o,n)),maybeFreeze(r,a,!1),o&&r.patches_&&getPlugin("Patches").generatePatches_(i,o,r.patches_,r.inversePatches_)}return i.copy_}function finalizeProperty(e,t,n,r,o,i,a){if("production"!==process.env.NODE_ENV&&o===n&&die(5),isDraft(o)){i=finalize(e,o,i&&t&&3!==t.type_&&!has(t.assigned_,r)?i.concat(r):void 0);if(set(n,r,i),!isDraft(i))return;e.canAutoFreeze_=!1}else a&&n.add(o);!isDraftable(o)||isFrozen(o)||!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||(finalize(e,o),t&&t.scope_.parent_)||maybeFreeze(e,o)}function maybeFreeze(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&freeze(t,n)}function createProxyProxy(e,t){var n=Array.isArray(e),t={type_:n?1:0,scope_:t?t.scope_:getCurrentScope(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=t,o=objectTraps;n&&(r=[t],o=arrayTraps);var{revoke:e,proxy:n}=Proxy.revocable(r,o);return t.draft_=n,t.revoke_=e,n}var objectTraps={get(e,t){var n,r;return t===DRAFT_STATE?e:has(n=latest(e),t)?(r=n[t],!e.finalized_&&isDraftable(r)&&r===peek(e.base_,t)?(prepareCopy(e),e.copy_[t]=createProxy(r,e)):r):readPropFromProto(e,n,t)},has(e,t){return t in latest(e)},ownKeys(e){return Reflect.ownKeys(latest(e))},set(e,t,n){var r=getDescriptorFromProto(latest(e),t);if(r?.set)r.set.call(e.draft_,n);else{if(!e.modified_){var r=peek(latest(e),t),o=r?.[DRAFT_STATE];if(o&&o.base_===n)return e.copy_[t]=n,!(e.assigned_[t]=!1);if(is(n,r)&&(void 0!==n||has(e.base_,t)))return!0;prepareCopy(e),markChanged(e)}e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0)}return!0},deleteProperty(e,t){return void 0!==peek(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,prepareCopy(e),markChanged(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){var n=latest(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}},defineProperty(){die(11)},getPrototypeOf(e){return getPrototypeOf(e.base_)},setPrototypeOf(){die(12)}},arrayTraps={};function peek(e,t){var n=e[DRAFT_STATE];return(n?latest(n):e)[t]}function readPropFromProto(e,t,n){t=getDescriptorFromProto(t,n);return t?"value"in t?t.value:t.get?.call(e.draft_):void 0}function getDescriptorFromProto(t,n){if(n in t){let e=getPrototypeOf(t);for(;e;){var r=Object.getOwnPropertyDescriptor(e,n);if(r)return r;e=getPrototypeOf(e)}}}function markChanged(e){e.modified_||(e.modified_=!0,e.parent_&&markChanged(e.parent_))}function prepareCopy(e){e.copy_||(e.copy_=shallowCopy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}each(objectTraps,(e,t)=>{arrayTraps[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),arrayTraps.deleteProperty=function(e,t){return"production"!==process.env.NODE_ENV&&isNaN(parseInt(t))&&die(13),arrayTraps.set.call(this,e,t,void 0)},arrayTraps.set=function(e,t,n){return"production"!==process.env.NODE_ENV&&"length"!==t&&isNaN(parseInt(t))&&die(14),objectTraps.set.call(this,e[0],t,n,e[0])};var Immer2=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if("function"==typeof t&&"function"!=typeof n){const s=n,l=(n=t,this);return function(e=s,...t){return l.produce(e,e=>n.call(this,e,...t))}}"function"!=typeof n&&die(6),void 0!==r&&"function"!=typeof r&&die(7);let o;if(isDraftable(t)){var i=enterScope(this),a=createProxy(t,void 0);let e=!0;try{o=n(a),e=!1}finally{(e?revokeScope:leaveScope)(i)}return usePatchesInScope(i,r),processResult(o,i)}if(!t||"object"!=typeof t)return(o=void 0===(o=n(t))?t:o)===NOTHING&&(o=void 0),this.autoFreeze_&&freeze(o,!0),r&&(a=[],i=[],getPlugin("Patches").generateReplacementPatches_(t,o,a,i),r(a,i)),o;die(1,t)},this.produceWithPatches=(n,e)=>{if("function"==typeof n)return(e,...t)=>this.produceWithPatches(e,e=>n(e,...t));let r,o;return[this.produce(n,e,(e,t)=>{r=e,o=t}),r,o]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){isDraftable(e)||die(8),isDraft(e)&&(e=current(e));var t=enterScope(this),e=createProxy(e,void 0);return e[DRAFT_STATE].isManual_=!0,leaveScope(t),e}finishDraft(e,t){e=e&&e[DRAFT_STATE],e&&e.isManual_||die(9),e=e.scope_;return usePatchesInScope(e,t),processResult(void 0,e)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;0<=n;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}-1<n&&(t=t.slice(n+1));const o=getPlugin("Patches").applyPatches_;return isDraft(e)?o(e,t):this.produce(e,e=>o(e,t))}};function createProxy(e,t){e=isMap(e)?getPlugin("MapSet").proxyMap_(e,t):isSet(e)?getPlugin("MapSet").proxySet_(e,t):createProxyProxy(e,t);return(t?t.scope_:getCurrentScope()).drafts_.push(e),e}function current(e){return isDraft(e)||die(10,e),currentImpl(e)}function currentImpl(e){if(!isDraftable(e)||isFrozen(e))return e;var t=e[DRAFT_STATE];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=shallowCopy(e,t.scope_.immer_.useStrictShallowCopy_)}else n=shallowCopy(e,!0);return each(n,(e,t)=>{set(n,e,currentImpl(t))}),t&&(t.finalized_=!1),n}function enablePatches(){"production"!==process.env.NODE_ENV&&errors.push('Sets cannot have "replace" patches.',function(e){return"Unsupported patch operation: "+e},function(e){return"Cannot apply patch, path doesn't resolve: "+e},"Patching reserved attributes like __proto__, prototype and constructor is not allowed");const S="replace",k="add",C="remove";function c(e){if(!isDraftable(e))return e;if(Array.isArray(e))return e.map(c);if(isMap(e))return new Map(Array.from(e.entries()).map(([e,t])=>[e,c(t)]));if(isSet(e))return new Set(Array.from(e).map(c));var t=Object.create(getPrototypeOf(e));for(const n in e)t[n]=c(e[n]);return has(e,DRAFTABLE)&&(t[DRAFTABLE]=e[DRAFTABLE]),t}function E(e){return isDraft(e)?c(e):e}loadPlugin("Patches",{applyPatches_:function(l,e){return e.forEach(e=>{var{path:n,op:t}=e;let r=l;for(let t=0;t<n.length-1;t++){var o=getArchtype(r);let e=n[t];"string"!=typeof e&&"number"!=typeof e&&(e=""+e),0!==o&&1!==o||"__proto__"!==e&&"constructor"!==e||die(19),"function"==typeof r&&"prototype"===e&&die(19),"object"!=typeof(r=get(r,e))&&die(18,n.join("/"))}var i=getArchtype(r),a=c(e.value),s=n[n.length-1];switch(t){case S:switch(i){case 2:return r.set(s,a);case 3:die(16);default:return r[s]=a}case k:switch(i){case 1:return"-"===s?r.push(a):r.splice(s,0,a);case 2:return r.set(s,a);case 3:return r.add(a);default:return r[s]=a}case C:switch(i){case 1:return r.splice(s,1);case 2:return r.delete(s);case 3:return r.delete(e.value);default:return delete r[s]}default:die(17,t)}}),l},generatePatches_:function(e,i,a,s){switch(e.type_){case 0:case 2:{var o=e;var l=i;var c=a;var u=s;const{base_:w,copy_:x}=o;each(o.assigned_,(e,t)=>{var n=get(w,e),r=get(x,e),t=t?has(w,e)?S:k:C;n===r&&t===S||(e=l.concat(e),c.push(t===C?{op:t,path:e}:{op:t,path:e,value:r}),u.push(t===k?{op:C,path:e}:t===C?{op:k,path:e,value:E(n)}:{op:S,path:e,value:E(n)}))});return}case 1:{o=e;var d=i;var p=a;var f=s;let{base_:t,assigned_:n}=o,r=o.copy_;r.length<t.length&&([t,r]=[r,t],[p,f]=[f,p]);for(let e=0;e<t.length;e++){var h;n[e]&&r[e]!==t[e]&&(h=d.concat([e]),p.push({op:S,path:h,value:E(r[e])}),f.push({op:S,path:h,value:E(t[e])}))}for(let e=t.length;e<r.length;e++){var m=d.concat([e]);p.push({op:k,path:m,value:E(r[e])})}for(let e=r.length-1;t.length<=e;--e){var g=d.concat([e]);f.push({op:C,path:g})}return}case 3:{var t=e;var v=i;var y=a;var b=s;let{base_:n,copy_:r}=t,o=0;n.forEach(e=>{var t;r.has(e)||(t=v.concat([o]),y.push({op:C,path:t,value:e}),b.unshift({op:k,path:t,value:e})),o++}),o=0,r.forEach(e=>{var t;n.has(e)||(t=v.concat([o]),y.push({op:k,path:t,value:e}),b.unshift({op:C,path:t,value:e})),o++});return}}},generateReplacementPatches_:function(e,t,n,r){n.push({op:S,path:[],value:t===NOTHING?void 0:t}),r.push({op:S,path:[],value:e})}})}var immer=new Immer2,produce=immer.produce,produceWithPatches=immer.produceWithPatches.bind(immer),applyPatches=(immer.setAutoFreeze.bind(immer),immer.setUseStrictShallowCopy.bind(immer),immer.applyPatches.bind(immer));immer.createDraft.bind(immer),immer.finishDraft.bind(immer);const HISTORY_ACTIONS={UNDO:"HISTORY_UNDO",REDO:"HISTORY_REDO",THROTTLE:"HISTORY_THROTTLE",IGNORE:"HISTORY_IGNORE",MERGE:"HISTORY_MERGE",CLEAR:"HISTORY_CLEAR",NEW:"HISTORY_NEW",BACK:"HISTORY_BACK"};class History{constructor(){Object.defineProperty(this,"timeline",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"pointer",{enumerable:!0,configurable:!0,writable:!0,value:-1})}add(e,t){this.pointer=this.pointer+1,this.timeline.length=this.pointer,this.timeline[this.pointer]={patches:e,inversePatches:t,timestamp:Date.now()}}throttleAdd(e,t,n=500){if(this.timeline.length&&0<=this.pointer){var{patches:r,inversePatches:o,timestamp:i}=this.timeline[this.pointer];if((new Date).getTime()-i<n)return void(this.timeline[this.pointer]={timestamp:i,patches:[...r,...e],inversePatches:[...t,...o]})}this.add(e,t)}back(){this.canUndo()&&(this.timeline.splice(this.pointer,1),this.pointer=this.pointer-1)}merge(e,t){var n,r,o;0===e.length&&0===t.length||(this.timeline.length&&0<=this.pointer?({patches:n,inversePatches:r,timestamp:o}=this.timeline[this.pointer],this.timeline[this.pointer]={timestamp:o,patches:[...n,...e],inversePatches:[...t,...r]}):this.add(e,t))}clear(){this.timeline=[],this.pointer=-1}canUndo(){return 0<=this.pointer}canRedo(){return this.pointer<this.timeline.length-1}undo(e){var t;if(this.canUndo())return t=this.timeline[this.pointer]["inversePatches"],this.pointer=this.pointer-1,t=t.filter(e=>"textEditor"!==e.path[0]),applyPatches(e,t)}redo(e){var t;if(this.canRedo())return this.pointer=this.pointer+1,t=this.timeline[this.pointer]["patches"],t=t.filter(e=>"textEditor"!==e.path[0]),applyPatches(e,t)}}function elementFromString(e){e=`<body>${e}</body>`;return(new window.DOMParser).parseFromString(e,"text/html").body}function createNodeFromContent(e,t){return DOMParser$1.fromSchema(t).parse(elementFromString(e))}function createDocument(e,t){return createNodeFromContent(e,t)}const setContent=o=>(e,t)=>{var n=e.tr,r=n["doc"],e=createDocument(o,e.schema);return!!t&&(n.replaceWith(0,r.content.size,e),t(n),!0)},serialize=e=>e.map(e=>({locked:e.locked,layers:serializeLayers(e.layers,"ROOT")})),QueryMethods=n=>({serialize(){return serialize(n.pages)},getLayers(e){return n.pages[e]&&n.pages[e].layers},getLayer(e,t){e=n.pages[e]&&n.pages[e].layers;if(e)return e[t]}}),ignoreHistoryForActions=(enablePatches(),["hoverLayer","selectLayers","setControlBox","setScale","setEditing","selectAllLayers","resetSelectLayer","hoverLayer","setTextEditor","setData","showContextMenu","hideContextMenu","setResizeData","setRotateData","setDragData","setSelectData","setSidebar","imageEditor"]),autoHistoryForActions=["setProp","ungroup","group","setHidden","lock","unlock","lockPage","unlockPage","deletePage","duplicatePage","addPage","movePageUp","movePageDown","bringForward","sendBackward","bringToFront","sendToBack","addLayer","addImageLayer","addFrameLayer","addLayerTree","deleteLayer"],useEditorStore=()=>{const i=useMemo(()=>new History,[]),e=useRef(),r=useCallback(()=>e.current,[]),a=ActionMethods,t=useMemo(()=>{const n=QueryMethods;return Object.keys(n()).reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:(...e)=>{return(0,n(r())[t])(...e)}}),{})},[r,QueryMethods]),n=useMemo(()=>Object.assign(Object.assign({},t),{history:{canUndo(){return i.canUndo()},canRedo(){return i.canRedo()}}}),[t,i]);var[o]=useMemo(()=>[(e,r)=>{let t;var[e,n,o]=produceWithPatches(e,e=>{switch(r.type){case HISTORY_ACTIONS.NEW:break;case HISTORY_ACTIONS.BACK:i.back();break;case HISTORY_ACTIONS.UNDO:return i.undo(e);case HISTORY_ACTIONS.REDO:return i.redo(e);case HISTORY_ACTIONS.CLEAR:return i.clear(),Object.assign({},e);case HISTORY_ACTIONS.IGNORE:case HISTORY_ACTIONS.MERGE:case HISTORY_ACTIONS.THROTTLE:var[t,...n]=r.payload;a(e)[t](...n);break;default:a(e)[r.type](...r.payload)}});return t=e,[HISTORY_ACTIONS.UNDO,HISTORY_ACTIONS.REDO].includes(r.type)&&(t=produce(t,e=>{e.pages.forEach(e=>{Object.entries(e.layers).forEach(([,e])=>{var t;isTextLayer(e)&&(t=e.data.editor)&&setContent(e.data.props.text)(t.state,t.dispatch)})}),e.textEditor=void 0,e.selectedLayers={},e.hoveredLayer={},e.controlBox=void 0})),[...ignoreHistoryForActions,HISTORY_ACTIONS.UNDO,HISTORY_ACTIONS.REDO,HISTORY_ACTIONS.CLEAR,HISTORY_ACTIONS.IGNORE,HISTORY_ACTIONS.NEW].includes(r.type)||(r.type===HISTORY_ACTIONS.THROTTLE?i.throttleAdd(n,o,r.config&&r.config.rate):autoHistoryForActions.includes(r.type)?i.add(n,o):i.merge(n,o)),HISTORY_ACTIONS.NEW===r.type&&i.add(n,o),HISTORY_ACTIONS.MERGE===r.type&&i.merge(n,o),HISTORY_ACTIONS.THROTTLE===r.type&&i.throttleAdd(n,o),t}],[i,n]);const[s,l]=useReducer(o,{selectedLayers:{},hoveredLayer:{},openMenu:null,scale:1,activePage:0,pageSize:{width:0,height:0},pages:[],fontList:[],guideline:{vertical:[],horizontal:[]},sidebar:null,resizeData:{status:!1},dragData:{status:!1},rotateData:{status:!1},selectData:{status:!1}}),c=useMemo(()=>{const e=Object.keys(a(null));var t=e.reduce((e,t)=>(e[t]=(...e)=>l({type:t,payload:e}),e),{}),n={new(){l({type:HISTORY_ACTIONS.NEW})},undo(){return l({type:HISTORY_ACTIONS.UNDO})},redo(){return l({type:HISTORY_ACTIONS.REDO})},clear:()=>l({type:HISTORY_ACTIONS.CLEAR}),back:()=>l({type:HISTORY_ACTIONS.BACK}),ignore:()=>e.filter(e=>!ignoreHistoryForActions.includes(e)).reduce((e,t)=>(e[t]=(...e)=>l({type:HISTORY_ACTIONS.IGNORE,payload:[t,...e]}),e),{}),throttle:n=>e.filter(e=>!ignoreHistoryForActions.includes(e)).reduce((e,t)=>(e[t]=(...e)=>l({type:HISTORY_ACTIONS.THROTTLE,payload:[t,...e],config:{rate:n}}),e),{}),merge:()=>e.filter(e=>!ignoreHistoryForActions.includes(e)).reduce((e,t)=>(e[t]=(...e)=>l({type:HISTORY_ACTIONS.MERGE,payload:[t,...e]}),e),{})};return Object.assign(Object.assign({},t),{history:n})},[a]);return e.current=s,useMemo(()=>({getState:r,actions:c,query:n}),[c,r])},Editor=({getFonts:e,config:t,children:n})=>{var{getState:r,actions:o,query:i}=useEditorStore();return jsx(EditorContext.Provider,{value:{config:t,getState:r,actions:o,query:i,getFonts:e},children:n})};var CaretLeftIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M165.66 202.34a8 8 0 0 1-11.32 11.32l-80-80a8 8 0 0 1 0-11.32l80-80a8 8 0 0 1 11.32 11.32L91.31 128Z"})}))};let timeout;const Preview=()=>{const{pages:n,pageSize:o}=useEditor(e=>({pages:e.pages,pageSize:e.pageSize})),[r,e]=useState(0),[i,a]=useState({width:0,height:0,scale:1});var t=useUsedFont()["usedFonts"];const s=useCallback(t=>{e(e=>{e=(e+t)%n.length;return 0<=e?e:n.length+e})},[e,n.length]);return useEffect(()=>(timeout=setTimeout(()=>{s(1)},5e3),()=>{clearTimeout(timeout)}),[s,r]),useEffect(()=>{const e=()=>{var{clientWidth:e,clientHeight:t}=window.document.body,n=e/t,r=o.width/o.height;r<n?(n=t*r,a({width:n,height:t,scale:n/o.width})):(n=(t=e)/r,a({width:t,height:n,scale:t/o.width}))};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[o]),0===i.width?null:jsxs("div",{css:{position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:[jsx(GlobalStyle,{fonts:t}),jsx("div",{css:{position:"absolute",top:"50%",transform:"translate(0, -50%)",left:"16px",zIndex:1050},children:jsx("div",{css:{border:"1px solid #fff",background:"rgba(255,255,255,0.3)",width:60,height:60,display:"flex",alignItems:"center",justifyContent:"center",fontSize:32,color:"#fff",borderRadius:"50%",cursor:"pointer"},onClick:()=>s(-1),children:jsx(CaretLeftIcon,{})})}),jsx("div",{css:{position:"absolute",top:"50%",transform:"translate(0, -50%)",right:"16px",zIndex:1050},children:jsx("div",{css:{border:"1px solid #fff",background:"rgba(255,255,255,0.3)",width:60,height:60,display:"flex",alignItems:"center",justifyContent:"center",fontSize:32,color:"#fff",borderRadius:"50%",cursor:"pointer"},onClick:()=>s(1),children:jsx(CaretRightIcon,{})})}),jsx("div",{css:{width:i.width,height:i.height},children:jsx("div",{css:{position:"relative"},children:n.map((e,t)=>jsx("div",{children:jsx(Page$1,{pageIndex:t,width:o.width,height:o.height,scale:i.scale,isActive:r===t})},t))})})]})},getMarkAttrs=e=>e.marks.reduce((n,e)=>(Object.entries(e.attrs).forEach(([e,t])=>{n[e]||(n[e]=[]),t&&n[e].push(t)}),n),{}),getAllMarks=e=>{let t=e.marks.reduce((n,e)=>(Object.entries(e.attrs).forEach(([e,t])=>{n[e]||(n[e]=[]),t&&n[e].push(t)}),n),{});return e.content.forEach(e=>{t=lodashExports.mergeWith(t,getAllMarks(e),(e,t)=>{if(lodashExports.isArray(e))return e.concat(t)})}),t},getAttrs=e=>Object.entries(e.attrs).reduce((e,[t,n])=>(n&&(e[t]=[n]),e),{}),getAllAttrs=e=>{const n=Object.entries(e.attrs).reduce((e,[t,n])=>(e[t]=[n],e),{});return e.content.forEach(e=>{Object.entries(e.attrs).forEach(([e,t])=>{n[e]||(n[e]=[]),t&&n[e].push(t)})}),n},getFontFamily=e=>lodashExports.uniq((null==e?void 0:e.fontFamily)||[]),getFontSize=e=>lodashExports.uniq((null==e?void 0:e.fontSize)||[]).map(e=>parseFloat(e)),getLineHeight=e=>lodashExports.uniq((null==e?void 0:e.lineHeight)||[]).map(e=>parseFloat(e)),getLetterSpacing=e=>lodashExports.uniq((null==e?void 0:e.letterSpacing)||[]).map(e=>parseFloat(e)),getColor=(e,t)=>{e=lodashExports.mergeWith(e,t,(e,t)=>{if(lodashExports.isArray(e))return e.concat(t)});return lodashExports.uniq((null==e?void 0:e.color)||[]).map(e=>new Color(e).toRgbString())};var hasRequiredScheduler_production_min,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};function requireScheduler_production_min(){var s,e,t,n,l,c,i,u,d,p,f,h,r,m,o,a,g,v,y,b,w,x,S;return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,s=scheduler_production_min,"object"==typeof performance&&"function"==typeof performance.now?(e=performance,s.unstable_now=function(){return e.now()}):(t=Date,n=t.now(),s.unstable_now=function(){return t.now()-n}),l=[],c=[],i=1,u=null,h=f=p=!(d=3),r="function"==typeof setTimeout?setTimeout:null,m="function"==typeof clearTimeout?clearTimeout:null,o="undefined"!=typeof setImmediate?setImmediate:null,"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling),y=!1,b=null,x=5,S=w=-1,a="function"==typeof o?function(){o(M)}:"undefined"!=typeof MessageChannel?(g=new MessageChannel,v=g.port2,g.port1.onmessage=M,function(){v.postMessage(null)}):function(){r(M,0)},s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(e){e.callback=null},s.unstable_continueExecution=function(){f||p||(f=!0,D(O))},s.unstable_forceFrameRate=function(e){e<0||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},s.unstable_getCurrentPriorityLevel=function(){return d},s.unstable_getFirstCallbackNode=function(){return C(l)},s.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},s.unstable_scheduleCallback=function(e,t,n){var r=s.unstable_now();switch(n="object"==typeof n&&null!==n&&"number"==typeof(n=n.delay)&&0<n?r+n:r,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:i++,callback:t,priorityLevel:e,startTime:n,expirationTime:o=n+o,sortIndex:-1},r<n?(e.sortIndex=n,k(c,e),null===C(l)&&e===C(c)&&(h?(m(w),w=-1):h=!0,N(R,n-r))):(e.sortIndex=o,k(l,e),f||p||(f=!0,D(O))),e},s.unstable_shouldYield=I,s.unstable_wrapCallback=function(t){var n=d;return function(){var e=d;d=n;try{return t.apply(this,arguments)}finally{d=e}}}),scheduler_production_min;function k(e,t){var n=e.length;for(e.push(t);0<n;){var r=n-1>>>1,o=e[r];if(!(0<T(o,t)))break;e[r]=t,e[n]=o,n=r}}function C(e){return 0===e.length?null:e[0]}function E(e){if(0!==e.length){var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var r=0,o=e.length,i=o>>>1;r<i;){var a=2*(r+1)-1,s=e[a],l=1+a,c=e[l];if(T(s,n)<0)r=l<o&&T(c,s)<0?(e[r]=c,e[l]=n,l):(e[r]=s,e[a]=n,a);else{if(!(l<o&&T(c,n)<0))break;e[r]=c,e[l]=n,r=l}}}}}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!=n?n:e.id-t.id}function _(e){for(var t=C(c);null!==t;){if(null===t.callback)E(c);else{if(!(t.startTime<=e))break;E(c),t.sortIndex=t.expirationTime,k(l,t)}t=C(c)}}function R(e){var t;h=!1,_(e),f||(null!==C(l)?(f=!0,D(O)):null!==(t=C(c))&&N(R,t.startTime-e))}function O(e,t){f=!1,h&&(h=!1,m(w),w=-1),p=!0;var n=d;try{for(_(t),u=C(l);null!==u&&(!(u.expirationTime>t)||e&&!I());){var r,o=u.callback;"function"==typeof o?(u.callback=null,d=u.priorityLevel,r=o(u.expirationTime<=t),t=s.unstable_now(),"function"==typeof r?u.callback=r:u===C(l)&&E(l),_(t)):E(l),u=C(l)}var i,a=null!==u||(null!==(i=C(c))&&N(R,i.startTime-t),!1);return a}finally{u=null,d=n,p=!1}}function I(){return!(s.unstable_now()-S<x)}function M(){if(null!==b){var e=s.unstable_now(),t=(S=e,!0);try{t=b(!0,e)}finally{t?a():(y=!1,b=null)}}else y=!1}function D(e){b=e,y||(y=!0,a())}function N(e,t){w=r(function(){e(s.unstable_now())},t)}}var hasRequiredScheduler_development,hasRequiredScheduler,hasRequiredReactDom_production_min,scheduler_development={};function requireScheduler_development(){var l,c,u,t,a,s,r,d,p,L,e,j,A,F,$,B,V,f,h,H,m,g,v,y,b,n,W,o,i,w,x,S,k,C,U,E,T;return hasRequiredScheduler_development||(hasRequiredScheduler_development=1,l=scheduler_development,"production"!==process.env.NODE_ENV&&("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error),u=c=!1,a=1,s=2,r=3,d=4,p=t=5,"object"==typeof performance&&"function"==typeof performance.now?(L=performance,l.unstable_now=function(){return L.now()}):(e=Date,j=e.now(),l.unstable_now=function(){return e.now()-j}),A=-1,F=250,$=5e3,B=1e4,V=1073741823,f=[],h=[],m=null,g=r,b=y=v=!(H=1),n="function"==typeof setTimeout?setTimeout:null,W="function"==typeof clearTimeout?clearTimeout:null,o="undefined"!=typeof setImmediate?setImmediate:null,"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling),i=!1,w=null,S=t,k=x=-1,E=function(){if(null!==w){var e=l.unstable_now(),t=(k=e,!0);try{t=w(!0,e)}finally{t?T():(i=!1,w=null)}}else i=!1},T="function"==typeof o?function(){o(E)}:"undefined"!=typeof MessageChannel?(C=new MessageChannel,U=C.port2,C.port1.onmessage=E,function(){U.postMessage(null)}):function(){n(E,0)},l.unstable_IdlePriority=p,l.unstable_ImmediatePriority=a,l.unstable_LowPriority=d,l.unstable_NormalPriority=r,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=s,l.unstable_cancelCallback=function(e){e.callback=null},l.unstable_continueExecution=function(){y||v||(y=!0,P(N))},l.unstable_forceFrameRate=function(e){e<0||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):t},l.unstable_getCurrentPriorityLevel=function(){return g},l.unstable_getFirstCallbackNode=function(){return R(f)},l.unstable_next=function(e){var t;switch(g){case a:case s:case r:t=r;break;default:t=g}var n=g;g=t;try{return e()}finally{g=n}},l.unstable_pauseExecution=function(){},l.unstable_requestPaint=K,l.unstable_runWithPriority=function(e,t){switch(e){case a:case s:case r:case d:case p:break;default:e=r}var n=g;g=e;try{return t()}finally{g=n}},l.unstable_scheduleCallback=function(e,t,n){var r,o=l.unstable_now();switch(n="object"==typeof n&&null!==n&&"number"==typeof(n=n.delay)&&0<n?o+n:o,e){case a:r=A;break;case s:r=F;break;case p:r=V;break;case d:r=B;break;default:r=$}var i=n+r,t={id:H++,callback:t,priorityLevel:e,startTime:n,expirationTime:i,sortIndex:-1};return o<n?(t.sortIndex=n,_(h,t),null===R(f)&&t===R(h)&&(b?Y():b=!0,z(D,n-o))):(t.sortIndex=i,_(f,t),y||v||(y=!0,P(N))),t},l.unstable_shouldYield=q,l.unstable_wrapCallback=function(t){var n=g;return function(){var e=g;g=n;try{return t.apply(this,arguments)}finally{g=e}}},"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)),scheduler_development;function _(e,t){for(var n=e.length,r=(e.push(t),e),o=t,i=n;0<i;){var a=i-1>>>1,s=r[a];if(!(0<I(s,o)))return;r[a]=o,r[i]=s,i=a}}function R(e){return 0===e.length?null:e[0]}function O(e){if(0!==e.length){var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var r=e,o=n,i=0,a=r.length,s=a>>>1;i<s;){var l=2*(i+1)-1,c=r[l],u=1+l,d=r[u];if(I(c,o)<0)i=u<a&&I(d,c)<0?(r[i]=d,r[u]=o,u):(r[i]=c,r[l]=o,l);else{if(!(u<a&&I(d,o)<0))return;r[i]=d,r[u]=o,i=u}}}}}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!=n?n:e.id-t.id}function M(e){for(var t=R(h);null!==t;){if(null===t.callback)O(h);else{if(!(t.startTime<=e))return;O(h),t.sortIndex=t.expirationTime,_(f,t)}t=R(h)}}function D(e){var t;b=!1,M(e),y||(null!==R(f)?(y=!0,P(N)):null!==(t=R(h))&&z(D,t.startTime-e))}function N(e,t){y=!1,b&&(b=!1,Y()),v=!0;var n=g;try{if(!u){var r=e,o=t,i=o;for(M(i),m=R(f);null!==m&&!c&&(!(m.expirationTime>i)||r&&!q());){var a,s=m.callback;"function"==typeof s?(m.callback=null,g=m.priorityLevel,a=m.expirationTime<=i,s=s(a),i=l.unstable_now(),"function"==typeof s?m.callback=s:m===R(f)&&O(f),M(i)):O(f),m=R(f)}return null!==m||(null!==(o=R(h))&&z(D,o.startTime-i),!1)}}finally{m=null,g=n,v=!1}}function q(){return!(l.unstable_now()-k<S)}function P(e){w=e,i||(i=!0,T())}function z(e,t){x=n(function(){e(l.unstable_now())},t)}function Y(){W(x),x=-1}function K(){}}function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,"production"===process.env.NODE_ENV?scheduler.exports=requireScheduler_production_min():scheduler.exports=requireScheduler_development()),scheduler.exports}function requireReactDom_production_min(){if(!hasRequiredReactDom_production_min){hasRequiredReactDom_production_min=1;var i,l,L,j=React__default$1,$=requireScheduler(),B=new Set,V={},H=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),W=Object.prototype.hasOwnProperty,U=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,q={},Y={},a={},K=("children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){a[e]=new r(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];a[t]=new r(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){a[e]=new r(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){a[e]=new r(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){a[e]=new r(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){a[e]=new r(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){a[e]=new r(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){a[e]=new r(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){a[e]=new r(e,5,!1,e.toLowerCase(),null,!1,!1)}),/[\-:]([a-z])/g),G=("accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(K,Xr);a[t]=new r(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(K,Xr);a[t]=new r(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(K,Xr);a[t]=new r(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){a[e]=new r(e,1,!1,e.toLowerCase(),null,!1,!1)}),a.xlinkHref=new r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){a[e]=new r(e,1,!1,e.toLowerCase(),null,!0,!0)}),j.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED),Z=Symbol.for("react.element"),X=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),te=Symbol.for("react.provider"),ne=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),ce=Symbol.iterator,g=Object.assign,ue=!1,de=Array.isArray,pe=(L=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((l=l||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=l.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return L(e,t)})}:L),fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"],me=(Object.keys(fe).forEach(function(t){he.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fe[e]=fe[t]})}),g({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0})),ge=null,ve=null,ye=null,be=null,we=!1,xe=!1;if(H)try{var e={};Object.defineProperty(e,"passive",{get:function(){xe=!0}}),window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){xe=!1}for(var Se,ke,Ce,Ee,Te,_e,Re,Oe,Ie=!1,Me=null,De=!1,Ne=null,Pe={onError:function(e){Ie=!0,Me=e}},ze=$.unstable_scheduleCallback,Le=$.unstable_cancelCallback,je=$.unstable_shouldYield,Ae=$.unstable_requestPaint,m=$.unstable_now,Fe=$.unstable_getCurrentPriorityLevel,$e=$.unstable_ImmediatePriority,Be=$.unstable_UserBlockingPriority,Ve=$.unstable_NormalPriority,He=$.unstable_LowPriority,We=$.unstable_IdlePriority,Ue=null,qe=null,Ye=Math.clz32||function(e){return 0==(e>>>=0)?32:31-(Ke(e)/Ge|0)|0},Ke=Math.log,Ge=Math.LN2,Ze=64,Xe=4194304,x=0,Je=!1,Qe=[],et=null,tt=null,nt=null,rt=new Map,ot=new Map,it=[],at="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" "),st=G.ReactCurrentBatchConfig,lt=!0,ct=null,ut=null,dt=null,pt=null,e={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ft=pi(e),t=g({},e,{view:0,detail:0}),ht=pi(t),n=g({},t,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hi,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Oe&&(Re=Oe&&"mousemove"===e.type?(_e=e.screenX-Oe.screenX,e.screenY-Oe.screenY):_e=0,Oe=e),_e)},movementY:function(e){return"movementY"in e?e.movementY:Re}}),mt=pi(n),gt=pi(g({},n,{dataTransfer:0})),vt=pi(g({},t,{relatedTarget:0})),yt=pi(g({},e,{animationName:0,elapsedTime:0,pseudoElement:0})),bt=pi(g({},e,{clipboardData:function(e){return("clipboardData"in e?e:window).clipboardData}})),wt=pi(g({},e,{data:0})),xt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},St={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},Ct=pi(g({},t,{key:function(e){if(e.key){var t=xt[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ci(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?St[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hi,charCode:function(e){return"keypress"===e.type?ci(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ci(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Et=pi(g({},n,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tt=pi(g({},t,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hi})),_t=pi(g({},e,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rt=pi(g({},n,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Ot=[9,13,27,32],It=(H&&"CompositionEvent"in window),t=null,Mt=(H&&"documentMode"in document&&(t=document.documentMode),H&&"TextEvent"in window&&!t),Dt=H&&(!It||t&&8<t&&t<=11),Nt=String.fromCharCode(32),Pt=!1,zt=!1,Lt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},jt=null,At=null,Ft=!1,$t=(H&&(t=H&&((e="oninput"in document)||((n=document.createElement("div")).setAttribute("oninput","return;"),e="function"==typeof n.oninput),e),Ft=t&&(!document.documentMode||9<document.documentMode)),"function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}),Bt=(H&&"documentMode"in document&&document.documentMode<=11),Vt=null,Ht=null,Wt=null,Ut=!1,qt={animationend:zi("Animation","AnimationEnd"),animationiteration:zi("Animation","AnimationIteration"),animationstart:zi("Animation","AnimationStart"),transitionend:zi("Transition","TransitionEnd")},Yt={},Kt={},Gt=(H&&(Kt=document.createElement("div").style,"AnimationEvent"in window||(delete qt.animationend.animation,delete qt.animationiteration.animation,delete qt.animationstart.animation),"TransitionEvent"in window||delete qt.transitionend.transition),Li("animationend")),Zt=Li("animationiteration"),Xt=Li("animationstart"),Jt=Li("transitionend"),Qt=new Map,en="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" "),tn=0;tn<en.length;tn++){var nn=en[tn];ji(nn.toLowerCase(),"on"+(nn[0].toUpperCase()+nn.slice(1)))}ji(Gt,"onAnimationEnd"),ji(Zt,"onAnimationIteration"),ji(Xt,"onAnimationStart"),ji("dblclick","onDoubleClick"),ji("focusin","onFocus"),ji("focusout","onBlur"),ji(Jt,"onTransitionEnd"),Gr("onMouseEnter",["mouseout","mouseover"]),Gr("onMouseLeave",["mouseout","mouseover"]),Gr("onPointerEnter",["pointerout","pointerover"]),Gr("onPointerLeave",["pointerout","pointerover"]),Kr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),on=new Set("cancel close invalid load scroll toggle".split(" ").concat(rn)),an="_reactListening"+Math.random().toString(36).slice(2),sn=/\r\n?/g,ln=/\u0000|\uFFFD/g,cn=null,un=null,dn="function"==typeof setTimeout?setTimeout:void 0,pn="function"==typeof clearTimeout?clearTimeout:void 0,fn="function"==typeof Promise?Promise:void 0,hn="function"==typeof queueMicrotask?queueMicrotask:void 0!==fn?function(e){return fn.resolve(null).then(e).catch(Ji)}:dn,n=Math.random().toString(36).slice(2),mn="__reactFiber$"+n,gn="__reactProps$"+n,vn="__reactContainer$"+n,yn="__reactEvents$"+n,bn="__reactListeners$"+n,wn="__reactHandles$"+n,xn=[],Sn=-1,kn={},v=aa(kn),y=aa(!1),Cn=kn,En=null,Tn=!1,_n=!1,Rn=[],On=0,In=null,Mn=0,Dn=[],Nn=0,Pn=null,zn=1,Ln="",jn=null,b=null,A=!1,An=null,Fn=G.ReactCurrentBatchConfig,$n=aa(null),Bn=null,Vn=null,Hn=null,Wn=null,Un=!1,qn=(new j.Component).refs,Yn={isMounted:function(e){return!!(e=e._reactInternals)&&Lo(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=h(),o=Dl(e),i=Fa(r,o);i.payload=t,null!=n&&(i.callback=n),null!==(t=$a(e,i,o))&&(Nl(t,e,o,r),Ba(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=h(),o=Dl(e),i=Fa(r,o);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=$a(e,i,o))&&(Nl(t,e,o,r),Ba(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=h(),r=Dl(e),o=Fa(n,r);o.tag=2,null!=t&&(o.callback=t),null!==(t=$a(e,o,r))&&(Nl(t,e,r,n),Ba(t,e,r))}},Kn=Qa(!0),Gn=Qa(!1),Zn={},Xn=aa(Zn),Jn=aa(Zn),Qn=aa(Zn),w=aa(0),er=[],tr=G.ReactCurrentDispatcher,nr=G.ReactCurrentBatchConfig,rr=0,S=null,k=null,C=null,or=!1,ir=!1,ar=0,sr=0,lr={readContext:Na,useCallback:o,useContext:o,useEffect:o,useImperativeHandle:o,useInsertionEffect:o,useLayoutEffect:o,useMemo:o,useReducer:o,useRef:o,useState:o,useDebugValue:o,useDeferredValue:o,useTransition:o,useMutableSource:o,useSyncExternalStore:o,useId:o,unstable_isNewReconciler:!1},cr={readContext:Na,useCallback:function(e,t){return us().memoizedState=[e,void 0===t?null:t],e},useContext:Na,useEffect:_s,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Es(4194308,4,Ms.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Es(4194308,4,e,t)},useInsertionEffect:function(e,t){return Es(4,2,e,t)},useMemo:function(e,t){var n=us();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=us();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(r.queue=e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=function(e,t,n){var r=Dl(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},As(e)?Fs(t,n):null!==(n=za(e,t,n,r))&&(Nl(n,e,r,h()),$s(n,t,r))}.bind(null,S,e),[r.memoizedState,e]},useRef:function(e){return us().memoizedState=e={current:e}},useState:Ss,useDebugValue:Ns,useDeferredValue:function(e){return us().memoizedState=e},useTransition:function(){var e=(t=Ss(!1))[0],t=function(e,t){var n=x,r=(x=0!==n&&n<4?n:4,e(!0),nr.transition);nr.transition={};try{e(!1),t()}finally{x=n,nr.transition=r}}.bind(null,t[1]);return[e,us().memoizedState=t]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=S,o=us();if(A){if(void 0===n)throw Error(F(407));n=n()}else{if(n=t(),null===f)throw Error(F(349));0==(30&rr)&&vs(r,t,n)}var i={value:o.memoizedState=n,getSnapshot:t};return o.queue=i,_s(bs.bind(null,r,i,e),[e]),r.flags|=2048,ks(9,ys.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e,t=us(),n=f.identifierPrefix;return A?(e=Ln,n=":"+n+"R"+(e=(zn&~(1<<32-Ye(zn)-1)).toString(32)+e),0<(e=ar++)&&(n+="H"+e.toString(32)),n+=":"):n=":"+n+"r"+(e=sr++).toString(32)+":",t.memoizedState=n},unstable_isNewReconciler:!1},ur={readContext:Na,useCallback:Ps,useContext:Na,useEffect:Rs,useImperativeHandle:Ds,useInsertionEffect:Os,useLayoutEffect:Is,useMemo:zs,useReducer:fs,useRef:Cs,useState:function(){return fs(ps)},useDebugValue:Ns,useDeferredValue:function(e){return Ls(ds(),k.memoizedState,e)},useTransition:function(){return[fs(ps)[0],ds().memoizedState]},useMutableSource:ms,useSyncExternalStore:gs,useId:js,unstable_isNewReconciler:!1},dr={readContext:Na,useCallback:Ps,useContext:Na,useEffect:Rs,useImperativeHandle:Ds,useInsertionEffect:Os,useLayoutEffect:Is,useMemo:zs,useReducer:hs,useRef:Cs,useState:function(){return hs(ps)},useDebugValue:Ns,useDeferredValue:function(e){var t=ds();return null===k?t.memoizedState=e:Ls(t,k.memoizedState,e)},useTransition:function(){return[hs(ps)[0],ds().memoizedState]},useMutableSource:ms,useSyncExternalStore:gs,useId:js,unstable_isNewReconciler:!1},pr="function"==typeof WeakMap?WeakMap:Map,fr=G.ReactCurrentOwner,E=!1,hr={dehydrated:null,treeContext:null,retryLane:0},mr=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n=(n.child.return=n).child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},gr=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,es(Xn.current);var i,a=null;switch(n){case"input":o=lo(e,o),r=lo(e,r),a=[];break;case"select":o=g({},o,{value:void 0}),r=g({},r,{value:void 0}),a=[];break;case"textarea":o=go(e,o),r=go(e,r),a=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Zi)}for(c in Eo(n,r),n=null,o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&null!=o[c])if("style"===c){var s=o[c];for(i in s)s.hasOwnProperty(i)&&(n=n||{},n[i]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(V.hasOwnProperty(c)?a=a||[]:(a=a||[]).push(c,null));for(c in r){var l=r[c],s=null!=o?o[c]:void 0;if(r.hasOwnProperty(c)&&l!==s&&(null!=l||null!=s))if("style"===c)if(s){for(i in s)!s.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n=n||{},n[i]="");for(i in l)l.hasOwnProperty(i)&&s[i]!==l[i]&&(n=n||{},n[i]=l[i])}else n||(a=a||[]).push(c,n),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(a=a||[]).push(c,l)):"children"===c?"string"!=typeof l&&"number"!=typeof l||(a=a||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(V.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&u("scroll",e),a||s===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},vr=function(e,t,n,r){n!==r&&(t.flags|=4)},yr=!1,T=!1,br="function"==typeof WeakSet?WeakSet:Set,_=null,wr=!1,c=null,xr=!1,Sr=Math.ceil,kr=G.ReactCurrentDispatcher,Cr=G.ReactCurrentOwner,Er=G.ReactCurrentBatchConfig,R=0,f=null,O=null,I=0,Tr=0,_r=aa(0),M=0,Rr=null,Or=0,Ir=0,Mr=0,Dr=null,s=null,Nr=0,Pr=1/0,zr=null,Lr=!1,jr=null,Ar=null,Fr=!1,$r=null,Br=0,Vr=0,Hr=null,Wr=-1,Ur=0,qr=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||y.current)E=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags)){E=!1;{var r=e;var o=t;var i=n;switch(o.tag){case 3:rl(o),Ta();break;case 5:rs(o);break;case 1:N(o.type)&&da(o);break;case 4:ts(o,o.stateNode.containerInfo);break;case 10:var a=o.type._context,s=o.memoizedProps.value;D($n,a._currentValue),a._currentValue=s;break;case 13:if(null!==(a=o.memoizedState))return null!==a.dehydrated?(D(w,1&w.current),o.flags|=128,null):0!=(i&o.child.childLanes)?al(r,o,i):(D(w,1&w.current),null!==(r=fl(r,o,i))?r.sibling:null);D(w,1&w.current);break;case 19:if(a=0!=(i&o.childLanes),0!=(128&r.flags)){if(a)return dl(r,o,i);o.flags|=128}if(null!==(s=o.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),D(w,w.current),a)break;return null;case 22:case 23:return o.lanes=0,Js(r,o,i)}return fl(r,o,i);return}}E=0!=(131072&e.flags)}else E=!1,A&&0!=(1048576&t.flags)&&ga(t,Mn,t.index);switch(t.lanes=0,t.tag){case 2:var l=t.type,c=(pl(e,t),e=t.pendingProps,sa(t,v.current)),u=(Da(t,n),c=ls(null,t,l,e,c,n),cs());return t.flags|=1,t="object"==typeof c&&null!==c&&"function"==typeof c.render&&void 0===c.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,N(l)?(u=!0,da(t)):u=!1,t.memoizedState=null!==c.state&&void 0!==c.state?c.state:null,ja(t),c.updater=Yn,Ga((t.stateNode=c)._reactInternals=t,l,e,n),nl(null,t,l,!0,u,n)):(t.tag=0,A&&u&&va(t),P(null,t,c,n),t.child);case 16:l=t.elementType;e:{switch(pl(e,t),e=t.pendingProps,l=(c=l._init)(l._payload),t.type=l,c=t.tag=function(e){if("function"==typeof e)return rc(e)?1:0;if(null!=e){if((e=e.$$typeof)===re)return 11;if(e===ae)return 14}return 2}(l),e=Ra(l,e),c){case 0:t=el(null,t,l,e,n);break e;case 1:t=tl(null,t,l,e,n);break e;case 11:t=Gs(null,t,l,e,n);break e;case 14:t=Zs(null,t,l,Ra(l.type,e),n);break e}throw Error(F(306,l,""))}return t;case 0:return l=t.type,c=t.pendingProps,el(e,t,l,c=t.elementType===l?c:Ra(l,c),n);case 1:return l=t.type,c=t.pendingProps,tl(e,t,l,c=t.elementType===l?c:Ra(l,c),n);case 3:e:{if(rl(t),null===e)throw Error(F(387));l=t.pendingProps,c=(u=t.memoizedState).element,Aa(e,t),Ha(t,l,null,n);var d=t.memoizedState,l=d.element;if(u.isDehydrated){if(u={element:l,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=u,t.memoizedState=u,256&t.flags){t=ol(e,t,l,n,c=Bs(Error(F(423)),t));break e}if(l!==c){t=ol(e,t,l,n,c=Bs(Error(F(424)),t));break e}for(b=ea(t.stateNode.containerInfo.firstChild),A=!0,n=Gn(jn=t,An=null,l,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Ta(),l===c){t=fl(e,t,n);break e}P(e,t,l,n)}t=t.child}return t;case 5:return rs(t),null===e&&Sa(t),l=t.type,c=t.pendingProps,u=null!==e?e.memoizedProps:null,d=c.children,Xi(l,c)?d=null:null!==u&&Xi(l,u)&&(t.flags|=32),Qs(e,t),P(e,t,d,n),t.child;case 6:return null===e&&Sa(t),null;case 13:return al(e,t,n);case 4:return ts(t,t.stateNode.containerInfo),l=t.pendingProps,null===e?t.child=Kn(t,null,l,n):P(e,t,l,n),t.child;case 11:return l=t.type,c=t.pendingProps,Gs(e,t,l,c=t.elementType===l?c:Ra(l,c),n);case 7:return P(e,t,t.pendingProps,n),t.child;case 8:case 12:return P(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(l=t.type._context,c=t.pendingProps,u=t.memoizedProps,d=c.value,D($n,l._currentValue),l._currentValue=d,null!==u)if($t(u.value,d)){if(u.children===c.children&&!y.current){t=fl(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var p=u.dependencies;if(null!==p)for(var f,h,d=u.child,m=p.firstContext;null!==m;){if(m.context===l){1===u.tag&&((m=Fa(-1,n&-n)).tag=2,null!==(f=u.updateQueue))&&(null===(h=(f=f.shared).pending)?m.next=m:(m.next=h.next,h.next=m),f.pending=m),u.lanes|=n,null!==(m=u.alternate)&&(m.lanes|=n),Ma(u.return,n,t),p.lanes|=n;break}m=m.next}else if(10===u.tag)d=u.type===t.type?null:u.child;else if(18===u.tag){if(null===(d=u.return))throw Error(F(341));d.lanes|=n,null!==(p=d.alternate)&&(p.lanes|=n),Ma(d,n,t),d=u.sibling}else d=u.child;if(null!==d)d.return=u;else for(d=u;null!==d;){if(d===t){d=null;break}if(null!==(u=d.sibling)){u.return=d.return,d=u;break}d=d.return}u=d}P(e,t,c.children,n),t=t.child}return t;case 9:return c=t.type,l=t.pendingProps.children,Da(t,n),l=l(c=Na(c)),t.flags|=1,P(e,t,l,n),t.child;case 14:return c=Ra(l=t.type,t.pendingProps),Zs(e,t,l,c=Ra(l.type,c),n);case 15:return Xs(e,t,t.type,t.pendingProps,n);case 17:return l=t.type,c=t.pendingProps,c=t.elementType===l?c:Ra(l,c),pl(e,t),t.tag=1,N(l)?(e=!0,da(t)):e=!1,Da(t,n),Ya(t,l,c),Ga(t,l,c,n),nl(null,t,l,!0,e,n);case 19:return dl(e,t,n);case 22:return Js(e,t,n)}throw Error(F(156,t.tag))},Yr="function"==typeof reportError?reportError:function(e){console.error(e)},e=(bc.prototype.render=yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(F(409));hc(e,t,null,null)},bc.prototype.unmount=yc.prototype.unmount=function(){var e,t=this._internalRoot;null!==t&&(this._internalRoot=null,e=t.containerInfo,Bl(function(){hc(null,t,null,null)}),e[vn]=null)},bc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ee();e={blockedOn:null,target:e,priority:t};for(var n=0;n<it.length&&0!==t&&t<it[n].priority;n++);it.splice(n,0,e),0===n&&Xo(e)}},Se=function(n){switch(n.tag){case 3:var e,t=n.stateNode;t.current.memoizedState.isDehydrated&&0!==(e=$o(t.pendingLanes))&&(Yo(t,1|e),Pl(t,m()),0==(6&R))&&(Pr=m()+500,ha());break;case 13:Bl(function(){var e,t=La(n,1);null!==t&&(e=h(),Nl(t,n,1,e))}),vc(n,1)}},ke=function(e){var t;13===e.tag&&(null!==(t=La(e,134217728))&&Nl(t,e,134217728,h()),vc(e,134217728))},Ce=function(e){var t,n;13===e.tag&&(null!==(n=La(e,t=Dl(e)))&&Nl(n,e,t,h()),vc(e,t))},Ee=function(){return x},Te=function(e,t){var n=x;try{return x=e,t()}finally{x=n}},Do=Bl,{usingClientEntryPoint:!(ve=function(e,t,n){switch(t){case"input":if(po(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=ia(r);if(!o)throw Error(F(90));ao(r),po(r,o)}}}break;case"textarea":yo(e,n);break;case"select":null!=(t=n.value)&&mo(e,!!n.multiple,t,!1)}}),Events:[ra,oa,ia,Oo,Io,Mo=$l]}),t={findFiberByHostInstance:na,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},H={bundleType:t.bundleType,version:t.version,rendererPackageName:t.rendererPackageName,rendererConfig:t.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Fo(e))?null:e.stateNode},findFiberByHostInstance:t.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){n=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!n.isDisabled&&n.supportsFiber)try{Ue=n.inject(H),qe=n}catch(e){}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e,reactDom_production_min.createPortal=function(e,t){if(wc(t))return function(e,t,n,r){var o=3<arguments.length&&void 0!==r?r:null;return{$$typeof:X,key:null==o?null:""+o,children:e,containerInfo:t,implementation:n}}(e,t,null,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null);throw Error(F(200))},reactDom_production_min.createRoot=function(e,t){var n,r,o;if(wc(e))return n=!1,r="",o=Yr,null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError)&&(o=t.onRecoverableError),t=dc(e,1,!1,null,0,n,0,r,o),e[vn]=t.current,Bi(8===e.nodeType?e.parentNode:e),new yc(t);throw Error(F(299))},reactDom_production_min.findDOMNode=function(e){if(null==e)return null;if(1!==e.nodeType){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(F(188));throw e=Object.keys(e).join(","),Error(F(268,e))}e=null===(e=Fo(t))?null:e.stateNode}return e},reactDom_production_min.flushSync=Bl,reactDom_production_min.hydrate=function(e,t,n){if(xc(t))return kc(null,e,t,!0,n);throw Error(F(200))},reactDom_production_min.hydrateRoot=function(e,t,n){if(!wc(e))throw Error(F(405));var r=null!=n&&n.hydratedSources||null,o=!1,i="",a=Yr;if(null!=n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError)&&(a=n.onRecoverableError),t=fc(t,null,e,1,null!=n?n:null,o,0,i,a),e[vn]=t.current,Bi(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new bc(t)},reactDom_production_min.render=function(e,t,n){if(xc(t))return kc(null,e,t,!1,n);throw Error(F(200))},reactDom_production_min.unmountComponentAtNode=function(e){if(xc(e))return!!e._reactRootContainer&&(Bl(function(){kc(null,null,e,!1,function(){e._reactRootContainer=null,e[vn]=null})}),!0);throw Error(F(40))},reactDom_production_min.unstable_batchedUpdates=$l,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!xc(n))throw Error(F(200));if(null==e||void 0===e._reactInternals)throw Error(F(38));return kc(e,t,n,!1,r)},reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608"}return reactDom_production_min;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Kr(e,t){Gr(e,t),Gr(e+"Capture",t)}function Gr(e,t){for(V[e]=t,e=0;e<t.length;e++)B.add(t[e])}function Zr(e,t,n,r){if(null==t||function(e,t,n,r){if(null===n||0!==n.type)switch(typeof t){case"function":case"symbol":return 1;case"boolean":return r?void 0:null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e;default:return}}(e,t,n,r))return 1;if(!r&&null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||t<1}}function r(e,t,n,r,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}function Xr(e){return e[1].toUpperCase()}function Jr(e,t,n,r){var o,i=a.hasOwnProperty(t)?a[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(Zr(t,n,i,r)&&(n=null),r||null===i?(o=t,(W.call(Y,o)||!W.call(q,o)&&(U.test(o)?Y[o]=!0:void(q[o]=!0)))&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n))):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function Qr(e){return null!==e&&"object"==typeof e&&"function"==typeof(e=ce&&e[ce]||e["@@iterator"])?e:null}function eo(e){if(void 0===i)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);i=t&&t[1]||""}return"\n"+i+e}function to(t,e){if(!t||ue)return"";ue=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(e){var r=e}Reflect.construct(t,[],e)}else{try{e.call()}catch(e){r=e}t.call(e.prototype)}else{try{throw Error()}catch(e){r=e}t()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var o,i=e.stack.split("\n"),a=r.stack.split("\n"),s=i.length-1,l=a.length-1;1<=s&&0<=l&&i[s]!==a[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==a[l]){if(1!==s||1!==l)do{if(s--,--l<0||i[s]!==a[l])return o="\n"+i[s].replace(" at new "," at "),o=t.displayName&&o.includes("<anonymous>")?o.replace("<anonymous>",t.displayName):o}while(1<=s&&0<=l);break}}}finally{ue=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?eo(t):""}function no(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return function e(t){if(null!=t){if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case J:return"Fragment";case X:return"Portal";case ee:return"Profiler";case Q:return"StrictMode";case oe:return"Suspense";case ie:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case ne:return(t.displayName||"Context")+".Consumer";case te:return(t._context.displayName||"Context")+".Provider";case re:var n=t.render;return t=(t=t.displayName)||(""!==(t=n.displayName||n.name||"")?"ForwardRef("+t+")":"ForwardRef");case ae:return null!==(n=t.displayName||null)?n:e(t.type)||"Memo";case se:n=t._payload,t=t._init;try{return e(t(n))}catch(e){}}}return null}(t);case 8:return t===Q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function ro(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function oo(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function io(e){e._valueTracker||(e._valueTracker=function(e){var t,n,r=oo(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),i=""+e[r];if(!e.hasOwnProperty(r)&&void 0!==o&&"function"==typeof o.get&&"function"==typeof o.set)return t=o.get,n=o.set,Object.defineProperty(e,r,{configurable:!0,get:function(){return t.call(this)},set:function(e){i=""+e,n.call(this,e)}}),Object.defineProperty(e,r,{enumerable:o.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[r]}}}(e))}function ao(e){var t,n,r;if(e)return(t=e._valueTracker)?(n=t.getValue(),r="",(e=r=e?oo(e)?e.checked?"true":"false":e.value:r)!==n&&(t.setValue(e),1)):1}function so(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function lo(e,t){var n=t.checked;return g({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function co(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked,n=ro(null!=t.value?t.value:n);e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function uo(e,t){null!=(t=t.checked)&&Jr(e,"checked",t,!1)}function po(e,t){uo(e,t);var n=ro(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ho(e,t.type,n):t.hasOwnProperty("defaultValue")&&ho(e,t.type,ro(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function fo(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ho(e,t,n){"number"===t&&so(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function mo(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ro(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function go(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(F(91));return g({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function vo(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(F(92));if(de(n)){if(1<n.length)throw Error(F(93));n=n[0]}t=n}n=t=null==t?"":t}e._wrapperState={initialValue:ro(n)}}function yo(e,t){var n=ro(t.value),r=ro(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue)&&e.defaultValue!==n&&(e.defaultValue=n),null!=r&&(e.defaultValue=""+r)}function bo(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function wo(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xo(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?wo(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}function So(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function ko(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function Co(e,t){for(var n in e=e.style,t){var r,o;t.hasOwnProperty(n)&&(r=0===n.indexOf("--"),o=ko(n,t[n],r),"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o)}}function Eo(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(F(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(F(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(F(62))}}function To(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function _o(e){return 3===(e=(e=e.target||e.srcElement||window).correspondingUseElement?e.correspondingUseElement:e).nodeType?e.parentNode:e}function Ro(e){if(e=ra(e)){if("function"!=typeof ve)throw Error(F(280));var t=e.stateNode;t&&(t=ia(t),ve(e.stateNode,e.type,t))}}function Oo(e){ye?be?be.push(e):be=[e]:ye=e}function Io(){if(ye){var e=ye,t=be;if(be=ye=null,Ro(e),t)for(e=0;e<t.length;e++)Ro(t[e])}}function Mo(e,t){return e(t)}function Do(){}function No(e,t,n){if(we)return e(t,n);we=!0;try{Mo(e,t,n)}finally{we=!1,null===ye&&null===be||(Do(),Io())}}function Po(e,t){var n=e.stateNode;if(null===n)return null;var r=ia(n);if(null===r)return null;switch(n=r[t],t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":e=!(r=(r=!r.disabled)?r:!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e));break;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(F(231,t,typeof n));return n}function zo(e,t,n,r,o,i,a,s,l){Ie=!1,Me=null,function(e,t,n,r,o,i,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}.apply(Pe,arguments)}function Lo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else for(e=t;0!=(4098&(t=e).flags)&&(n=t.return),e=t.return;);return 3===t.tag?n:null}function jo(e){if(13===e.tag){var t=e.memoizedState;if(null!==(t=null===t&&null!==(e=e.alternate)?e.memoizedState:t))return t.dehydrated}return null}function Ao(e){if(Lo(e)!==e)throw Error(F(188))}function Fo(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Lo(e)))throw Error(F(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null===(r=o.return))break;n=r}else{if(o.child===i.child){for(i=o.child;i;){if(i===n)return Ao(o),e;if(i===r)return Ao(o),t;i=i.sibling}throw Error(F(188))}if(n.return!==r.return)n=o,r=i;else{for(var a=!1,s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a){for(s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}}if(3!==n.tag)throw Error(F(188));return n.stateNode.current===n?e:t}(e))?function e(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var n=e(t);if(null!==n)return n;t=t.sibling}return null}(e):null}function $o(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Bo(e,t){var n=e.pendingLanes;if(0===n)return 0;var r,o=0,i=e.suspendedLanes,a=e.pingedLanes,s=268435455&n;if(0!=s?0!=(r=s&~i)?o=$o(r):0!==(a&=s)&&(o=$o(a)):0!=(s=n&~i)?o=$o(s):0!==a&&(o=$o(a)),0===o)return 0;if(0!==t&&t!==o&&0==(t&i)&&((a=t&-t)<=(i=o&-o)||16===i&&0!=(4194240&a)))return t;if(0!=(4&o)&&(o|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=o;0<t;)o|=e[n=31-Ye(t)],t&=~(i=1<<n);return o}function Vo(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Ye(i),s=1<<a,l=o[a];-1===l?0!=(s&n)&&0==(s&r)||(o[a]=function(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;default:return-1}}(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}function Ho(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Wo(){var e=Ze;return 0==(4194240&(Ze<<=1))&&(Ze=64),e}function Uo(e){for(var t=[],n=0;n<31;n++)t.push(e);return t}function qo(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-Ye(t)]=n}function Yo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ye(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function Ko(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}function Go(e,t){switch(e){case"focusin":case"focusout":et=null;break;case"dragenter":case"dragleave":tt=null;break;case"mouseover":case"mouseout":nt=null;break;case"pointerover":case"pointerout":rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ot.delete(t.pointerId)}}function Zo(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&null!==(t=ra(t))&&ke(t)):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o)),e}function Xo(e){var t=na(e.target);if(null!==t){var n=Lo(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=jo(n)))return e.blockedOn=t,void Te(e.priority,function(){Ce(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Jo(e){if(null===e.blockedOn){for(var t=e.targetContainers;0<t.length;){var n=ai(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ra(n))&&ke(t),e.blockedOn=n,0;var r=new(n=e.nativeEvent).constructor(n.type,n);ge=r,n.target.dispatchEvent(r),ge=null,t.shift()}return 1}}function Qo(e,t,n){Jo(e)&&n.delete(t)}function ei(){Je=!1,null!==et&&Jo(et)&&(et=null),null!==tt&&Jo(tt)&&(tt=null),null!==nt&&Jo(nt)&&(nt=null),rt.forEach(Qo),ot.forEach(Qo)}function ti(e,t){e.blockedOn===t&&(e.blockedOn=null,Je||(Je=!0,$.unstable_scheduleCallback($.unstable_NormalPriority,ei)))}function ni(t){function e(e){return ti(e,t)}if(0<Qe.length){ti(Qe[0],t);for(var n=1;n<Qe.length;n++){var r=Qe[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==et&&ti(et,t),null!==tt&&ti(tt,t),null!==nt&&ti(nt,t),rt.forEach(e),ot.forEach(e),n=0;n<it.length;n++)(r=it[n]).blockedOn===t&&(r.blockedOn=null);for(;0<it.length&&null===(n=it[0]).blockedOn;)Xo(n),null===n.blockedOn&&it.shift()}function ri(e,t,n,r){var o=x,i=st.transition;st.transition=null;try{x=1,ii(e,t,n,r)}finally{x=o,st.transition=i}}function oi(e,t,n,r){var o=x,i=st.transition;st.transition=null;try{x=4,ii(e,t,n,r)}finally{x=o,st.transition=i}}function ii(e,t,n,r){if(lt){var o=ai(e,0,0,r);if(null===o)Hi(e,t,r,ct,n),Go(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return et=Zo(et,e,t,n,r,o),1;case"dragenter":return tt=Zo(tt,e,t,n,r,o),1;case"mouseover":return nt=Zo(nt,e,t,n,r,o),1;case"pointerover":var i=o.pointerId;return rt.set(i,Zo(rt.get(i)||null,e,t,n,r,o)),1;case"gotpointercapture":return i=o.pointerId,ot.set(i,Zo(ot.get(i)||null,e,t,n,r,o)),1}}(o,e,t,n,r))r.stopPropagation();else if(Go(e,r),4&t&&-1<at.indexOf(e)){for(;null!==o;){var i=ra(o);if(null!==i&&Se(i),null===(i=ai(e,0,0,r))&&Hi(e,t,r,ct,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Hi(e,t,r,null,n)}}function ai(e,t,n,r){if((ct=null)!==(e=na(e=_o(r))))if(null===(t=Lo(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=jo(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ct=e,null}function si(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fe()){case $e:return 1;case Be:return 4;case Ve:case He:return 16;case We:return 536870912;default:return 16}default:return 16}}function li(){if(pt)return pt;for(var e=dt,t=e.length,n=("value"in ut?ut.value:ut.textContent),r=n.length,o=0;o<t&&e[o]===n[o];o++);for(var i=t-o,a=1;a<=i&&e[t-a]===n[r-a];a++);return pt=n.slice(o,1<a?1-a:void 0)}function ci(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,32<=(e=10===e?13:e)||13===e?e:0}function ui(){return!0}function di(){return!1}function pi(a){function e(e,t,n,r,o){for(var i in this._reactName=e,this._targetInst=n,this.type=t,this.nativeEvent=r,this.target=o,this.currentTarget=null,a)a.hasOwnProperty(i)&&(e=a[i],this[i]=e?e(r):r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?ui:di,this.isPropagationStopped=di,this}return g(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ui)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ui)},persist:function(){},isPersistent:ui}),e}function fi(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kt[e])&&!!t[e]}function hi(){return fi}function mi(e,t){switch(e){case"keyup":return-1!==Ot.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return 1;default:return}}function gi(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}function vi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?Lt[e.type]:"textarea"===t}function yi(e,t,n,r){Oo(r),0<(t=Ui(t,"onChange")).length&&(n=new ft("onChange","change",null,n,r),e.push({event:n,listeners:t}))}function bi(e){Fi(e,0)}function wi(e){if(ao(oa(e)))return e}function xi(e,t){if("change"===e)return t}function Si(){jt&&(jt.detachEvent("onpropertychange",ki),At=jt=null)}function ki(e){var t;"value"===e.propertyName&&wi(At)&&(yi(t=[],At,e,_o(e)),No(bi,t))}function Ci(e,t,n){"focusin"===e?(Si(),At=n,(jt=t).attachEvent("onpropertychange",ki)):"focusout"===e&&Si()}function Ei(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return wi(At)}function Ti(e,t){if("click"===e)return wi(t)}function _i(e,t){if("input"===e||"change"===e)return wi(t)}function Ri(e,t){if(!$t(e,t)){if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!W.call(t,o)||!$t(e[o],t[o]))return!1}}return!0}function Oi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ii(e,t){var n,r=Oi(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&t<=n)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Oi(r)}}function Mi(){for(var e=window,t=so();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=so((e=t.contentWindow).document)}return t}function Di(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Ni(e){var t,n,r,o=Mi(),i=e.focusedElem,a=e.selectionRange;if(o!==i&&i&&i.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(i.ownerDocument.documentElement,i)){null!==a&&Di(i)&&(o=a.start,void 0===(e=a.end)&&(e=o),"selectionStart"in i?(i.selectionStart=o,i.selectionEnd=Math.min(e,i.value.length)):(e=(o=i.ownerDocument||document)&&o.defaultView||window).getSelection&&(e=e.getSelection(),n=i.textContent.length,t=Math.min(a.start,n),a=void 0===a.end?t:Math.min(a.end,n),!e.extend&&a<t&&(n=a,a=t,t=n),n=Ii(i,t),r=Ii(i,a),n)&&r&&(1!==e.rangeCount||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==r.node||e.focusOffset!==r.offset)&&((o=o.createRange()).setStart(n.node,n.offset),e.removeAllRanges(),a<t?(e.addRange(o),e.extend(r.node,r.offset)):(o.setEnd(r.node,r.offset),e.addRange(o)))),o=[];for(e=i;e=e.parentNode;)1===e.nodeType&&o.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof i.focus&&i.focus(),i=0;i<o.length;i++)(e=o[i]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}function Pi(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Ut||null==Vt||Vt!==so(r)||(r="selectionStart"in(r=Vt)&&Di(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Wt&&Ri(Wt,r))||(Wt=r,0<(r=Ui(Ht,"onSelect")).length&&(t=new ft("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Vt))}function zi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}function Li(e){if(Yt[e])return Yt[e];if(qt[e]){var t,n=qt[e];for(t in n)if(n.hasOwnProperty(t)&&t in Kt)return Yt[e]=n[t]}return e}function ji(e,t){Qt.set(e,t),Kr(t,[e])}function Ai(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,i,a,s,l){var c;zo.apply(this,arguments),Ie&&(c=Me,Ie=!1,Me=null,De||(De=!0,Ne=c))}(r,t,void 0,e),e.currentTarget=null}function Fi(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=(o=e[n]).event,o=o.listeners;e:{var i=void 0;if(t)for(var a=o.length-1;0<=a;a--){var s=(c=o[a]).instance,l=c.currentTarget,c=c.listener;if(s!==i&&r.isPropagationStopped())break e;Ai(r,c,l),i=s}else for(a=0;a<o.length;a++){if(s=(c=o[a]).instance,l=c.currentTarget,c=c.listener,s!==i&&r.isPropagationStopped())break e;Ai(r,c,l),i=s}}}if(De)throw e=Ne,De=!1,Ne=null,e}function u(e,t){var n=t[yn],r=e+"__bubble";(n=void 0===n?t[yn]=new Set:n).has(r)||(Vi(t,e,2,!1),n.add(r))}function $i(e,t,n){var r=0;t&&(r|=4),Vi(n,e,r,t)}function Bi(t){var e;t[an]||(t[an]=!0,B.forEach(function(e){"selectionchange"!==e&&(on.has(e)||$i(e,!1,t),$i(e,!0,t))}),null===(e=9===t.nodeType?t:t.ownerDocument))||e[an]||$i("selectionchange",!(e[an]=!0),e)}function Vi(e,t,n,r){switch(si(t)){case 1:var o=ri;break;case 4:o=oi;break;default:o=ii}n=o.bind(null,t,n,e),o=!xe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t?void 0:!0,r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Hi(g,v,y,e,t){var b=e;if(0==(1&v)&&0==(2&v)&&null!==e)e:for(;;){if(null===e)return;var n=e.tag;if(3===n||4===n){var r=e.stateNode.containerInfo;if(r===t||8===r.nodeType&&r.parentNode===t)break;if(4===n)for(n=e.return;null!==n;){var o=n.tag;if((3===o||4===o)&&((o=n.stateNode.containerInfo)===t||8===o.nodeType&&o.parentNode===t))return;n=n.return}for(;null!==r;){if(null===(n=na(r)))return;if(5===(o=n.tag)||6===o){e=b=n;continue e}r=r.parentNode}}e=e.return}No(function(){var e,t,n,r=b,o=_o(y),i=[];e:{var a=Qt.get(g);if(void 0!==a){var s=ft,l=g;switch(g){case"keypress":if(0===ci(y))break e;case"keydown":case"keyup":s=Ct;break;case"focusin":l="focus",s=vt;break;case"focusout":l="blur",s=vt;break;case"beforeblur":case"afterblur":s=vt;break;case"click":if(2===y.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=mt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Tt;break;case Gt:case Zt:case Xt:s=yt;break;case Jt:s=_t;break;case"scroll":s=ht;break;case"wheel":s=Rt;break;case"copy":case"cut":case"paste":s=bt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Et}for(var c=!(d=0!=(4&v))&&"scroll"===g,u=d?null!==a?a+"Capture":null:a,d=[],p=r;null!==p;){var f,h=(f=p).stateNode;if(5===f.tag&&null!==h&&(f=h,null!==u)&&null!=(h=Po(p,u))&&d.push(Wi(p,h,f)),c)break;p=p.return}0<d.length&&(a=new s(a,l,null,y,o),i.push({event:a,listeners:d}))}}if(0==(7&v)){if(s="mouseout"===g||"pointerout"===g,(!(a="mouseover"===g||"pointerover"===g)||y===ge||!(l=y.relatedTarget||y.fromElement)||!na(l)&&!l[vn])&&(s||a)&&(a=o.window===o?o:(a=o.ownerDocument)?a.defaultView||a.parentWindow:window,s?(s=r,null!==(l=(l=y.relatedTarget||y.toElement)?na(l):null)&&(l!==(c=Lo(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(s=null,l=r),s!==l)){if(d=mt,h="onMouseLeave",u="onMouseEnter",p="mouse","pointerout"!==g&&"pointerover"!==g||(d=Et,h="onPointerLeave",u="onPointerEnter",p="pointer"),c=null==s?a:oa(s),f=null==l?a:oa(l),(a=new d(h,p+"leave",s,y,o)).target=c,a.relatedTarget=f,h=null,na(o)===r&&((d=new d(u,p+"enter",l,y,o)).target=f,d.relatedTarget=c,h=d),c=h,s&&l)e:{for(u=l,p=0,f=d=s;f;f=qi(f))p++;for(f=0,h=u;h;h=qi(h))f++;for(;0<p-f;)d=qi(d),p--;for(;0<f-p;)u=qi(u),f--;for(;p--;){if(d===u||null!==u&&d===u.alternate)break e;d=qi(d),u=qi(u)}d=null}else d=null;null!==s&&Yi(i,a,s,d,!1),null!==l&&null!==c&&Yi(i,c,l,d,!0)}switch("select"===(s=(a=r?oa(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===s&&"file"===a.type?e=xi:vi(a)?Ft?e=_i:(e=Ei,t=Ci):!(s=a.nodeName)||"input"!==s.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type||(e=Ti),(e=e&&e(g,r))?yi(i,e,y,o):(t&&t(g,a,r),"focusout"===g&&(t=a._wrapperState)&&t.controlled&&"number"===a.type&&ho(a,"number",a.value)),t=r?oa(r):window,g){case"focusin":!vi(t)&&"true"!==t.contentEditable||(Vt=t,Ht=r,Wt=null);break;case"focusout":Wt=Ht=Vt=null;break;case"mousedown":Ut=!0;break;case"contextmenu":case"mouseup":case"dragend":Ut=!1,Pi(i,y,o);break;case"selectionchange":if(Bt)break;case"keydown":case"keyup":Pi(i,y,o)}if(It)e:{switch(g){case"compositionstart":var m="onCompositionStart";break e;case"compositionend":m="onCompositionEnd";break e;case"compositionupdate":m="onCompositionUpdate";break e}m=void 0}else zt?mi(g,y)&&(m="onCompositionEnd"):"keydown"===g&&229===y.keyCode&&(m="onCompositionStart");m&&(Dt&&"ko"!==y.locale&&(zt||"onCompositionStart"!==m?"onCompositionEnd"===m&&zt&&(n=li()):(dt="value"in(ut=o)?ut.value:ut.textContent,zt=!0)),0<(t=Ui(r,m)).length)&&(m=new wt(m,g,null,y,o),i.push({event:m,listeners:t}),n||null!==(n=gi(y)))&&(m.data=n),(n=(Mt?function(e,t){switch(e){case"compositionend":return gi(t);case"keypress":return 32!==t.which?null:(Pt=!0,Nt);case"textInput":return(e=t.data)===Nt&&Pt?null:e;default:return null}}:function(e,t){if(zt)return"compositionend"===e||!It&&mi(e,t)?(e=li(),pt=dt=ut=null,zt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dt&&"ko"!==t.locale?null:t.data;default:return null}})(g,y))&&0<(r=Ui(r,"onBeforeInput")).length&&(o=new wt("onBeforeInput","beforeinput",null,y,o),i.push({event:o,listeners:r}),o.data=n)}Fi(i,v)})}function Wi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ui(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Po(e,n))&&r.unshift(Wi(e,i,o)),null!=(i=Po(e,t)))&&r.push(Wi(e,i,o)),e=e.return}return r}function qi(e){if(null===e)return null;for(;(e=e.return)&&5!==e.tag;);return e||null}function Yi(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,o?null!=(l=Po(n,i))&&a.unshift(Wi(n,l,s)):null!=(l=Po(n,i))&&a.push(Wi(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Ki(e){return("string"==typeof e?e:""+e).replace(sn,"\n").replace(ln,"")}function Gi(e,t,n){if(t=Ki(t),Ki(e)!==t&&n)throw Error(F(425))}function Zi(){}function Xi(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}function Ji(e){setTimeout(function(){throw e})}function Qi(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void ni(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++}while(n=o);ni(t)}function ea(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ta(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function na(e){var t=e[mn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vn]||n[mn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ta(e);null!==e;){if(n=e[mn])return n;e=ta(e)}return t}n=(e=n).parentNode}return null}function ra(e){return!(e=e[mn]||e[vn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function oa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(F(33))}function ia(e){return e[gn]||null}function aa(e){return{current:e}}function d(e){Sn<0||(e.current=xn[Sn],xn[Sn]=null,Sn--)}function D(e,t){xn[++Sn]=e.current,e.current=t}function sa(e,t){var n=e.type.contextTypes;if(!n)return kn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function N(e){return null!=(e=e.childContextTypes)}function la(){d(y),d(v)}function ca(e,t,n){if(v.current!==kn)throw Error(F(168));D(v,t),D(y,n)}function ua(e,t,n){var r,o=e.stateNode;if(t=t.childContextTypes,"function"!=typeof o.getChildContext)return n;for(r in o=o.getChildContext())if(!(r in t))throw Error(F(108,no(e)||"Unknown",r));return g({},n,o)}function da(e){e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kn,Cn=v.current,D(v,e),D(y,y.current)}function pa(e,t,n){var r=e.stateNode;if(!r)throw Error(F(169));n?(e=ua(e,t,Cn),r.__reactInternalMemoizedMergedChildContext=e,d(y),d(v),D(v,e)):d(y),D(y,n)}function fa(e){null===En?En=[e]:En.push(e)}function ha(){if(!_n&&null!==En){_n=!0;var t=0,e=x;try{var n=En;for(x=1;t<n.length;t++)for(var r=n[t];null!==(r=r(!0)););En=null,Tn=!1}catch(e){throw null!==En&&(En=En.slice(t+1)),ze($e,ha),e}finally{x=e,_n=!1}}return null}function ma(e,t){Rn[On++]=Mn,Rn[On++]=In,In=e,Mn=t}function ga(e,t,n){Dn[Nn++]=zn,Dn[Nn++]=Ln,Dn[Nn++]=Pn,Pn=e;var r,o=zn,i=(e=Ln,32-Ye(o)-1),a=(o&=~(1<<i),n+=1,32-Ye(t)+i);Ln=30<a?(a=(o&(1<<(r=i-i%5))-1).toString(32),o>>=r,i-=r,zn=1<<32-Ye(t)+i|n<<i|o,a+e):(zn=1<<a|n<<i|o,e)}function va(e){null!==e.return&&(ma(e,1),ga(e,1,0))}function ya(e){for(;e===In;)In=Rn[--On],Rn[On]=null,Mn=Rn[--On],Rn[On]=null;for(;e===Pn;)Pn=Dn[--Nn],Dn[Nn]=null,Ln=Dn[--Nn],Dn[Nn]=null,zn=Dn[--Nn],Dn[Nn]=null}function ba(e,t){var n=nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,null===(t=(n.return=e).deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function wa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,jn=e,b=ea(t.firstChild),1);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,jn=e,b=null,1);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Pn?{id:zn,overflow:Ln}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=nc(18,null,null,0)).stateNode=t,(n.return=e).child=n,jn=e,b=null,1);default:return}}function xa(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function Sa(e){if(A)if(b){var t=b;if(!wa(e,b)){if(xa(e))throw Error(F(418));var n=ea(t.nextSibling),r=jn;n&&wa(e,n)?ba(r,t):(e.flags=-4097&e.flags|2,A=!1,jn=e)}}else{if(xa(e))throw Error(F(418));e.flags=-4097&e.flags|2,A=!1,jn=e}}function ka(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;jn=e}function Ca(e){if(e!==jn)return!1;if(!A)return ka(e),!(A=!0);var t;if(t=(t=(t=3!==e.tag)&&!(t=5!==e.tag)?"head"!==(t=e.type)&&"body"!==t&&!Xi(e.type,e.memoizedProps):t)&&b){if(xa(e))throw Ea(),Error(F(418));for(;t;)ba(e,t),t=ea(t.nextSibling)}if(ka(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){b=ea(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}b=null}}else b=jn?ea(e.stateNode.nextSibling):null;return!0}function Ea(){for(var e=b;e;)e=ea(e.nextSibling)}function Ta(){b=jn=null,A=!1}function _a(e){null===An?An=[e]:An.push(e)}function Ra(e,t){if(e&&e.defaultProps)for(var n in t=g({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}function Oa(){Hn=Vn=Bn=null}function Ia(e){var t=$n.current;d($n),e._currentValue=t}function Ma(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Da(e,t){(Hn=Vn=null)!==(e=(Bn=e).dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(E=!0),e.firstContext=null)}function Na(e){var t=e._currentValue;if(Hn!==e)if(e={context:e,memoizedValue:t,next:null},null===Vn){if(null===Bn)throw Error(F(308));Vn=e,Bn.dependencies={lanes:0,firstContext:e}}else Vn=Vn.next=e;return t}function Pa(e){null===Wn?Wn=[e]:Wn.push(e)}function za(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Pa(t)):(n.next=o.next,o.next=n),t.interleaved=n,La(e,r)}function La(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),e=(n=e).return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),e=(n=e).return;return 3===n.tag?n.stateNode:null}function ja(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Aa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $a(e,t,n){var r,o=e.updateQueue;return null===o?null:(o=o.shared,0!=(2&R)?(null===(r=o.pending)?t.next=t:(t.next=r.next,r.next=t),o.pending=t):(null===(r=o.interleaved)?(t.next=t,Pa(o)):(t.next=r.next,r.next=t),o.interleaved=t),La(e,n))}function Ba(e,t,n){var r;null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))&&(r=t.lanes,r&=e.pendingLanes,Yo(e,t.lanes=n|=r))}function Va(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null}}while(null===i?o=i=a:i=i.next=a,null!==(n=n.next));null===i?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n}else null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ha(e,t,n,r){var o,i,a=e.updateQueue,s=(Un=!1,a.firstBaseUpdate),l=a.lastBaseUpdate;if(null!==(d=a.shared.pending)&&(a.shared.pending=null,i=(o=d).next,(o.next=null)===l?s=i:l.next=i,l=o,null!==(u=e.alternate))&&(d=(u=u.updateQueue).lastBaseUpdate)!==l&&(null===d?u.firstBaseUpdate=i:d.next=i,u.lastBaseUpdate=o),null!==s){for(var c=a.baseState,l=0,u=i=o=null,d=s;;){var p=d.lane,f=d.eventTime;if((r&p)===p){null!==u&&(u=u.next={eventTime:f,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var h=e,m=d,p=t,f=n;switch(m.tag){case 1:if("function"==typeof(h=m.payload)){c=h.call(f,c,p);break e}c=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null==(p="function"==typeof(h=m.payload)?h.call(f,c,p):h))break e;c=g({},c,p);break e;case 2:Un=!0}}null!==d.callback&&0!==d.lane&&(e.flags|=64,null===(p=a.effects)?a.effects=[d]:p.push(d))}else f={eventTime:f,lane:p,tag:d.tag,payload:d.payload,callback:d.callback,next:null},null===u?(i=u=f,o=c):u=u.next=f,l|=p;if(null===(d=d.next)){if(null===(d=a.shared.pending))break;d=(p=d).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}if(null===u&&(o=c),a.baseState=o,a.firstBaseUpdate=i,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved))for(a=t;l|=a.lane,(a=a.next)!==t;);else null===s&&(a.shared.lanes=0);Or|=l,e.lanes=l,e.memoizedState=c}}function Wa(e,t,n){if(e=t.effects,(t.effects=null)!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!=typeof o)throw Error(F(191,o));o.call(r)}}}function Ua(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:g({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}function qa(e,t,n,r,o,i,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!(t.prototype&&t.prototype.isPureReactComponent&&Ri(n,r)&&Ri(o,i))}function Ya(e,t,n){var r=!1,o=kn,i=t.contextType;t=new t(n,i="object"==typeof i&&null!==i?Na(i):(o=N(t)?Cn:v.current,(r=null!=(r=t.contextTypes))?sa(e,o):kn)),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Yn,(e.stateNode=t)._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i)}function Ka(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Yn.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var o=e.stateNode,i=(o.props=n,o.state=e.memoizedState,o.refs=qn,ja(e),t.contextType);"object"==typeof i&&null!==i?o.context=Na(i):(i=N(t)?Cn:v.current,o.context=sa(e,i)),o.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(Ua(e,0,i,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&Yn.enqueueReplaceState(o,o.state,null),Ha(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4194308)}function Za(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(F(309));var r=n.stateNode}var o,i;if(r)return o=r,i=""+e,null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=o.refs;t===qn&&(t=o.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t);throw Error(F(147,e))}if("string"!=typeof e)throw Error(F(284));if(!n._owner)throw Error(F(290,e))}return e}function Xa(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ja(e){return(0,e._init)(e._payload)}function Qa(R){function O(e,t){var n;R&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t))}function I(e,t){if(R)for(;null!==t;)O(e,t),t=t.sibling;return null}function M(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function D(e,t){return(e=oc(e,t)).index=0,e.sibling=null,e}function N(e,t,n){if(e.index=n,R){if(null!==(n=e.alternate))return(n=n.index)<t?(e.flags|=2,t):n;e.flags|=2}else e.flags|=1048576;return t}function P(e){return R&&null===e.alternate&&(e.flags|=2),e}function i(e,t,n,r){return null===t||6!==t.tag?(t=lc(n,e.mode,r)).return=e:(t=D(t,n)).return=e,t}function a(e,t,n,r){var o=n.type;return o===J?l(e,t,n.props.children,r,n.key):(null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===se&&Ja(o)===t.type)?(r=D(t,n.props)).ref=Za(0,t,n):(r=ic(n.type,n.key,n.props,null,e.mode,r)).ref=Za(0,t,n),r.return=e,r)}function s(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=cc(n,e.mode,r)).return=e:(t=D(t,n.children||[])).return=e,t}function l(e,t,n,r,o){return null===t||7!==t.tag?(t=ac(n,e.mode,r,o)).return=e:(t=D(t,n)).return=e,t}function z(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=lc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Z:return(n=ic(t.type,t.key,t.props,null,e.mode,n)).ref=Za(0,null,t),n.return=e,n;case X:return(t=cc(t,e.mode,n)).return=e,t;case se:return z(e,(0,t._init)(t._payload),n)}if(de(t)||Qr(t))return(t=ac(t,e.mode,n,null)).return=e,t;Xa(0,t)}return null}function L(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==o?null:i(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Z:return n.key===o?a(e,t,n,r):null;case X:return n.key===o?s(e,t,n,r):null;case se:return L(e,t,(o=n._init)(n._payload),r)}if(de(n)||Qr(n))return null!==o?null:l(e,t,n,r,null);Xa(0,n)}return null}function j(e,t,n,r,o){if("string"==typeof r&&""!==r||"number"==typeof r)return i(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Z:return a(t,e=e.get(null===r.key?n:r.key)||null,r,o);case X:return s(t,e=e.get(null===r.key?n:r.key)||null,r,o);case se:return j(e,t,n,(0,r._init)(r._payload),o)}if(de(r)||Qr(r))return l(t,e=e.get(n)||null,r,o,null);Xa(0,r)}return null}return function e(t,n,r,o){if("object"==typeof(r="object"==typeof r&&null!==r&&r.type===J&&null===r.key?r.props.children:r)&&null!==r){switch(r.$$typeof){case Z:e:{for(var i=r.key,a=n;null!==a;){if(a.key===i){if((i=r.type)===J){if(7===a.tag){I(t,a.sibling),(n=D(a,r.props.children)).return=t,t=n;break e}}else if(a.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===se&&Ja(i)===a.type){I(t,a.sibling),(n=D(a,r.props)).ref=Za(0,a,r),n.return=t,t=n;break e}I(t,a);break}O(t,a),a=a.sibling}t=r.type===J?((n=ac(r.props.children,t.mode,o,r.key)).return=t,n):((o=ic(r.type,r.key,r.props,null,t.mode,o)).ref=Za(0,n,r),o.return=t,o)}return P(t);case X:e:{for(a=r.key;null!==n;){if(n.key===a){if(4===n.tag&&n.stateNode.containerInfo===r.containerInfo&&n.stateNode.implementation===r.implementation){I(t,n.sibling),(n=D(n,r.children||[])).return=t,t=n;break e}I(t,n);break}O(t,n),n=n.sibling}(n=cc(r,t.mode,o)).return=t,t=n}return P(t);case se:return e(t,n,(a=r._init)(r._payload),o)}if(de(r)){for(var s=t,l=n,c=r,u=o,d=null,p=null,f=l,h=l=0,m=null;null!==f&&h<c.length;h++){f.index>h?(m=f,f=null):m=f.sibling;var g=L(s,f,c[h],u);if(null===g){null===f&&(f=m);break}R&&f&&null===g.alternate&&O(s,f),l=N(g,l,h),null===p?d=g:p.sibling=g,p=g,f=m}if(h===c.length)I(s,f);else if(null===f)for(;h<c.length;h++)null!==(f=z(s,c[h],u))&&(l=N(f,l,h),null===p?d=f:p.sibling=f,p=f);else{for(f=M(s,f);h<c.length;h++)null!==(m=j(f,s,h,c[h],u))&&(R&&null!==m.alternate&&f.delete(null===m.key?h:m.key),l=N(m,l,h),null===p?d=m:p.sibling=m,p=m);R&&f.forEach(function(e){return O(s,e)})}return A&&ma(s,h),d}if(Qr(r)){var v=t,y=n,b=r,w=o,x=Qr(b);if("function"!=typeof x)throw Error(F(150));if(null==(b=x.call(b)))throw Error(F(151));for(var S=x=null,k=y,C=y=0,E=null,T=b.next();null!==k&&!T.done;C++,T=b.next()){k.index>C?(E=k,k=null):E=k.sibling;var _=L(v,k,T.value,w);if(null===_){null===k&&(k=E);break}R&&k&&null===_.alternate&&O(v,k),y=N(_,y,C),null===S?x=_:S.sibling=_,S=_,k=E}if(T.done)I(v,k);else if(null===k)for(;!T.done;C++,T=b.next())null!==(T=z(v,T.value,w))&&(y=N(T,y,C),null===S?x=T:S.sibling=T,S=T);else{for(k=M(v,k);!T.done;C++,T=b.next())null!==(T=j(k,v,C,T.value,w))&&(R&&null!==T.alternate&&k.delete(null===T.key?C:T.key),y=N(T,y,C),null===S?x=T:S.sibling=T,S=T);R&&k.forEach(function(e){return O(v,e)})}return A&&ma(v,C),x}Xa(0,r)}return"string"==typeof r&&""!==r||"number"==typeof r?(r=""+r,(n=null!==n&&6===n.tag?(I(t,n.sibling),D(n,r)):(I(t,n),lc(r,t.mode,o))).return=t,P(t=n)):I(t,n)}}function es(e){if(e===Zn)throw Error(F(174));return e}function ts(e,t){switch(D(Qn,t),D(Jn,e),D(Xn,Zn),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xo(null,"");break;default:t=xo(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}d(Xn),D(Xn,t)}function ns(){d(Xn),d(Jn),d(Qn)}function rs(e){es(Qn.current);var t=es(Xn.current),n=xo(t,e.type);t!==n&&(D(Jn,e),D(Xn,n))}function os(e){Jn.current===e&&(d(Xn),d(Jn))}function is(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t=(t.child.return=t).child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function as(){for(var e=0;e<er.length;e++)er[e]._workInProgressVersionPrimary=null;er.length=0}function o(){throw Error(F(321))}function ss(e,t){if(null!==t){for(var n=0;n<t.length&&n<e.length;n++)if(!$t(e[n],t[n]))return;return 1}}function ls(e,t,n,r,o,i){if(rr=i,(S=t).memoizedState=null,t.updateQueue=null,t.lanes=0,tr.current=null===e||null===e.memoizedState?cr:ur,e=n(r,o),ir){i=0;do{if(ir=!1,ar=0,25<=i)throw Error(F(301))}while(i+=1,C=k=null,t.updateQueue=null,tr.current=dr,e=n(r,o),ir)}if(tr.current=lr,t=null!==k&&null!==k.next,rr=0,C=k=S=null,or=!1,t)throw Error(F(300));return e}function cs(){var e=0!==ar;return ar=0,e}function us(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===C?S.memoizedState=C=e:C=C.next=e,C}function ds(){e=null===k?null!==(e=S.alternate)?e.memoizedState:null:k.next;var e,t=null===C?S.memoizedState:C.next;if(null!==t)C=t,k=e;else{if(null===e)throw Error(F(310));e={memoizedState:(k=e).memoizedState,baseState:k.baseState,baseQueue:k.baseQueue,queue:k.queue,next:null},null===C?S.memoizedState=C=e:C=C.next=e}return C}function ps(e,t){return"function"==typeof t?t(e):t}function fs(e){var t=ds(),n=t.queue;if(null===n)throw Error(F(311));n.lastRenderedReducer=e;var r,o=(a=k).baseQueue;if(null!==(i=n.pending)&&(null!==o&&(r=o.next,o.next=i.next,i.next=r),a.baseQueue=o=i,n.pending=null),null!==o){var i=o.next,a=a.baseState,s=r=null,l=null,c=i;do{var u,d=c.lane}while((rr&d)===d?(null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),a=c.hasEagerState?c.eagerState:e(a,c.action)):(u={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===l?(s=l=u,r=a):l=l.next=u,S.lanes|=d,Or|=d),null!==(c=c.next)&&c!==i);null===l?r=a:l.next=s,$t(a,t.memoizedState)||(E=!0),t.memoizedState=a,t.baseState=r,t.baseQueue=l,n.lastRenderedState=a}if(null!==(e=n.interleaved))for(o=e;i=o.lane,S.lanes|=i,Or|=i,(o=o.next)!==e;);else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function hs(e){var t=ds(),n=t.queue;if(null===n)throw Error(F(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;for(var a=o=o.next;i=e(i,a.action),(a=a.next)!==o;);$t(i,t.memoizedState)||(E=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ms(){}function gs(e,t){var n=S,r=ds(),o=t(),i=!$t(r.memoizedState,o);if(i&&(r.memoizedState=o,E=!0),r=r.queue,Rs(bs.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==C&&1&C.memoizedState.tag){if(n.flags|=2048,ks(9,ys.bind(null,n,r,o,t),void 0,null),null===f)throw Error(F(349));0==(30&rr)&&vs(n,t,o)}return o}function vs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=S.updateQueue)?(S.updateQueue=t={lastEffect:null,stores:null}).stores=[e]:null===(n=t.stores)?t.stores=[e]:n.push(e)}function ys(e,t,n,r){t.value=n,t.getSnapshot=r,ws(t)&&xs(e)}function bs(e,t,n){return n(function(){ws(t)&&xs(e)})}function ws(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$t(e,n)}catch(e){return 1}}function xs(e){var t=La(e,1);null!==t&&Nl(t,e,1,-1)}function Ss(e){var t=us();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(t.queue=e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:e}).dispatch=function(e,t,n){var r=Dl(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(As(e))Fs(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a,s=t.lastRenderedState,l=i(s,n);if(o.hasEagerState=!0,o.eagerState=l,$t(l,s))return null===(a=t.interleaved)?(o.next=o,Pa(t)):(o.next=a.next,a.next=o),void(t.interleaved=o)}catch(e){}null!==(n=za(e,t,o,r))&&(o=h(),Nl(n,e,r,o),$s(n,t,r))}}.bind(null,S,e),[t.memoizedState,e]}function ks(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=S.updateQueue)?(S.updateQueue=t={lastEffect:null,stores:null}).lastEffect=e.next=e:null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,(n.next=e).next=r,t.lastEffect=e),e}function Cs(){return ds().memoizedState}function Es(e,t,n,r){var o=us();S.flags|=e,o.memoizedState=ks(1|t,n,void 0,void 0===r?null:r)}function Ts(e,t,n,r){var o=ds(),i=(r=void 0===r?null:r,void 0);if(null!==k){var a=k.memoizedState,i=a.destroy;if(null!==r&&ss(r,a.deps))return void(o.memoizedState=ks(t,n,i,r))}S.flags|=e,o.memoizedState=ks(1|t,n,i,r)}function _s(e,t){return Es(8390656,8,e,t)}function Rs(e,t){return Ts(2048,8,e,t)}function Os(e,t){return Ts(4,2,e,t)}function Is(e,t){return Ts(4,4,e,t)}function Ms(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ds(e,t,n){return n=null!=n?n.concat([e]):null,Ts(4,4,Ms.bind(null,t,e),n)}function Ns(){}function Ps(e,t){var n=ds(),r=(t=void 0===t?null:t,n.memoizedState);return null!==r&&null!==t&&ss(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function zs(e,t){var n=ds(),r=(t=void 0===t?null:t,n.memoizedState);return null!==r&&null!==t&&ss(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ls(e,t,n){return 0==(21&rr)?(e.baseState&&(e.baseState=!1,E=!0),e.memoizedState=n):($t(n,t)||(n=Wo(),S.lanes|=n,Or|=n,e.baseState=!0),t)}function js(){return ds().memoizedState}function As(e){var t=e.alternate;return e===S||null!==t&&t===S}function Fs(e,t){ir=or=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $s(e,t,n){var r;0!=(4194240&n)&&(r=t.lanes,r&=e.pendingLanes,Yo(e,t.lanes=n|=r))}function Bs(e,t){try{for(var n="",r=t;n+=function(e){switch(e.tag){case 5:return eo(e.type);case 16:return eo("Lazy");case 13:return eo("Suspense");case 19:return eo("SuspenseList");case 0:case 2:case 15:return e=to(e.type,!1);case 11:return e=to(e.type.render,!1);case 1:return e=to(e.type,!0);default:return""}}(r),r=r.return;);var o=n}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:o,digest:null}}function Vs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function Hs(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}function Ws(e,t,n){(n=Fa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Lr||(Lr=!0,jr=r),Hs(0,t)},n}function Us(e,t,n){(n=Fa(-1,n)).tag=3;var r,o=e.type.getDerivedStateFromError,e=("function"==typeof o&&(r=t.value,n.payload=function(){return o(r)},n.callback=function(){Hs(0,t)}),e.stateNode);return null!==e&&"function"==typeof e.componentDidCatch&&(n.callback=function(){Hs(0,t),"function"!=typeof o&&(null===Ar?Ar=new Set([this]):Ar.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function qs(e,t,n){var r,o=e.pingCache;null===o?(o=e.pingCache=new pr,r=new Set,o.set(t,r)):void 0===(r=o.get(t))&&(r=new Set,o.set(t,r)),r.has(n)||(r.add(n),e=function(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=h(),e.pingedLanes|=e.suspendedLanes&n,f===e&&(I&n)===n&&(4===M||3===M&&(130023424&I)===I&&m()-Nr<500?Hl(e,0):Mr|=n),Pl(e,t)}.bind(null,e,t,n),t.then(e,e))}function Ys(e){do{var t;if(t=(t=13===e.tag)?null===(t=e.memoizedState)||null!==t.dehydrated:t)return e}while(null!==(e=e.return));return null}function Ks(e,t,n,r,o){if(0==(1&e.mode))return e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fa(-1,1)).tag=2,$a(n,t,1))),n.lanes|=1);e.flags|=65536,e.lanes=o}function P(e,t,n,r){t.child=null===e?Gn(t,null,n,r):Kn(t,e.child,n,r)}function Gs(e,t,n,r,o){n=n.render;var i=t.ref;return Da(t,o),r=ls(e,t,n,r,i,o),n=cs(),null===e||E?(A&&n&&va(t),t.flags|=1,P(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,fl(e,t,o))}function Zs(e,t,n,r,o){var i;if(null===e)return"function"!=typeof(i=n.type)||rc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ic(n.type,null,r,t,t.mode,o)).ref=t.ref,(e.return=t).child=e):(t.tag=15,t.type=i,Xs(e,t,i,r,o));if(i=e.child,0==(e.lanes&o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:Ri)(a,r)&&e.ref===t.ref)return fl(e,t,o)}return t.flags|=1,(e=oc(i,r)).ref=t.ref,(e.return=t).child=e}function Xs(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(Ri(i,r)&&e.ref===t.ref){if(E=!1,t.pendingProps=r=i,0==(e.lanes&o))return t.lanes=e.lanes,fl(e,t,o);0!=(131072&e.flags)&&(E=!0)}}return el(e,t,n,r,o)}function Js(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},D(_r,Tr),Tr|=n;else{if(0==(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,D(_r,Tr),Tr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,D(_r,Tr),Tr|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,D(_r,Tr),Tr|=r;return P(e,t,o,n),t.child}function Qs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function el(e,t,n,r,o){var i=sa(t,N(n)?Cn:v.current);return Da(t,o),n=ls(e,t,n,r,i,o),r=cs(),null===e||E?(A&&r&&va(t),t.flags|=1,P(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,fl(e,t,o))}function tl(e,t,n,r,o){var i,a,s,l,c,u,d,p,f,h;return N(n)?(i=!0,da(t)):i=!1,Da(t,o),r=null===t.stateNode?(pl(e,t),Ya(t,n,r),Ga(t,n,r,o),!0):null===e?(a=t.stateNode,s=t.memoizedProps,a.props=s,p=a.context,l="object"==typeof(l=n.contextType)&&null!==l?Na(l):sa(t,l=N(n)?Cn:v.current),(u="function"==typeof(c=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||s===r&&p===l||Ka(0,a,r,l),Un=!1,d=t.memoizedState,a.state=d,Ha(t,r,a,o),p=t.memoizedState,s!==r||d!==p||y.current||Un?("function"==typeof c&&(Ua(t,0,c,r),p=t.memoizedState),(s=Un||qa(t,n,s,r,d,p,l))?(u||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,s):("function"==typeof a.componentDidMount&&(t.flags|=4194308),!1)):(a=t.stateNode,Aa(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Ra(t.type,s),a.props=l,u=t.pendingProps,d=a.context,p="object"==typeof(p=n.contextType)&&null!==p?Na(p):sa(t,p=N(n)?Cn:v.current),(c="function"==typeof(f=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||s===u&&d===p||Ka(0,a,r,p),Un=!1,d=t.memoizedState,a.state=d,Ha(t,r,a,o),h=t.memoizedState,s!==u||d!==h||y.current||Un?("function"==typeof f&&(Ua(t,0,f,r),h=t.memoizedState),(l=Un||qa(t,n,l,r,d,h,p)||!1)?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,p),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,p)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=p,l):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),!1)),nl(e,t,n,r,i,o)}function nl(e,t,n,r,o,i){Qs(e,t);var a=0!=(128&t.flags);if(!r&&!a)return o&&pa(t,n,!1),fl(e,t,i);r=t.stateNode,fr.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Kn(t,e.child,null,i),t.child=Kn(t,null,s,i)):P(e,t,s,i),t.memoizedState=r.state,o&&pa(t,n,!0),t.child}function rl(e){var t=e.stateNode;t.pendingContext?ca(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ca(0,t.context,!1),ts(e,t.containerInfo)}function ol(e,t,n,r,o){return Ta(),_a(o),t.flags|=256,P(e,t,n,r),t.child}function il(e){return{baseLanes:e,cachePool:null,transitions:null}}function al(e,t,n){var r,o,i=t.pendingProps,a=w.current,s=!1,l=0!=(128&t.flags);if((o=(o=l)||(null===e||null!==e.memoizedState)&&0!=(2&a))?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),D(w,1&a),null===e)return Sa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0==(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=sc(l,i,0,null),e=ac(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=il(n),t.memoizedState=hr,e):sl(t,l));if(null===(a=e.memoizedState)||null===(o=a.dehydrated))return s?(s=i.fallback,l=t.mode,o=(a=e.child).sibling,c={mode:"hidden",children:i.children},0==(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=oc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==o?s=oc(o,s):(s=ac(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?il(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=hr):(e=(s=e.child).sibling,i=oc(s,{mode:"visible",children:i.children}),0==(1&t.mode)&&(i.lanes=n),i.return=t,(i.sibling=null)!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null),i;var c=e,s=t,e=i,u=o,t=a,i=n;if(l)return 256&s.flags?(s.flags&=-257,e=Vs(Error(F(422))),ll(c,s,i,e)):null!==s.memoizedState?(s.child=c.child,s.flags|=128,null):(t=e.fallback,u=s.mode,e=sc({mode:"visible",children:e.children},u,0,null),(t=ac(t,u,i,null)).flags|=2,e.return=s,t.return=s,e.sibling=t,s.child=e,0!=(1&s.mode)&&Kn(s,c.child,null,i),s.child.memoizedState=il(i),s.memoizedState=hr,t);if(0==(1&s.mode))return ll(c,s,i,null);if("$!"===u.data)return e=r=(e=u.nextSibling&&u.nextSibling.dataset)?e.dgst:r,t=Error(F(419)),e=Vs(t,e,void 0),ll(c,s,i,e);if(r=0!=(i&c.childLanes),E||r){if(null!==(e=f)){switch(i&-i){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}0!==(u=0!=(u&(e.suspendedLanes|i))?0:u)&&u!==t.retryLane&&(t.retryLane=u,La(c,u),Nl(e,c,u,-1))}return ql(),e=Vs(Error(F(421))),ll(c,s,i,e)}return"$?"===u.data?(s.flags|=128,s.child=c.child,s=function(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ql(e,n)}.bind(null,c),u._reactRetry=s,null):(c=t.treeContext,b=ea(u.nextSibling),jn=s,A=!0,(An=null)!==c&&(Dn[Nn++]=zn,Dn[Nn++]=Ln,Dn[Nn++]=Pn,zn=c.id,Ln=c.overflow,Pn=s),(s=sl(s,e.children)).flags|=4096,s)}function sl(e,t){return((t=sc({mode:"visible",children:t},e.mode,0,null)).return=e).child=t}function ll(e,t,n,r){return null!==r&&_a(r),Kn(t,e.child,null,n),(e=sl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function cl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ma(e.return,t,n)}function ul(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function dl(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(P(e,t,r.children,n),0!=(2&(r=w.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&cl(e,n,t);else if(19===e.tag)cl(e,n,t);else if(null!==e.child){e=(e.child.return=e).child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(D(w,r),0==(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===is(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ul(t,!1,o,n,i);break;case"backwards":for(o=t.child,t.child=n=null;null!==o;){if(null!==(e=o.alternate)&&null===is(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ul(t,!0,n,null,i);break;case"together":ul(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function pl(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Or|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(F(153));if(null!==t.child){for(n=oc(e=t.child,e.pendingProps),(t.child=n).return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function hl(e,t){if(!A)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":for(var n=e.tail,r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function p(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r=(r|=14680064&o.subtreeFlags)|14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r=(r|=o.subtreeFlags)|o.flags,o.return=e,o=o.sibling;e.subtreeFlags|=r,e.childLanes=n}function ml(t,n){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){z(t,n,e)}else e.current=null}function gl(t,n,e){try{e()}catch(e){z(t,n,e)}}function vl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o,i=r=r.next;do{}while((i.tag&e)===e&&(o=i.destroy,(i.destroy=void 0)!==o)&&gl(t,n,o),(i=i.next)!==r)}}function yl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n,r=t=t.next;do{}while((r.tag&e)===e&&(n=r.create,r.destroy=n()),(r=r.next)!==t)}}function bl(e){var t,n=e.ref;null!==n&&(t=e.stateNode,e.tag,e=t,"function"==typeof n?n(e):n.current=e)}function wl(e){return 5===e.tag||3===e.tag||4===e.tag}function xl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||wl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e=(e.child.return=e).child}if(!(2&e.flags))return e.stateNode}}function Sl(e,t,n){for(n=n.child;null!==n;)kl(e,t,n),n=n.sibling}function kl(e,t,n){if(qe&&"function"==typeof qe.onCommitFiberUnmount)try{qe.onCommitFiberUnmount(Ue,n)}catch(e){}switch(n.tag){case 5:T||ml(n,t);case 6:var r=c,o=xr;c=null,Sl(e,t,n),xr=o,null!==(c=r)&&(xr?(e=c,n=n.stateNode,(8===e.nodeType?e.parentNode:e).removeChild(n)):c.removeChild(n.stateNode));break;case 18:null!==c&&(xr?(e=c,n=n.stateNode,8===e.nodeType?Qi(e.parentNode,n):1===e.nodeType&&Qi(e,n),ni(e)):Qi(c,n.stateNode));break;case 4:r=c,o=xr,c=n.stateNode.containerInfo,xr=!0,Sl(e,t,n),c=r,xr=o;break;case 0:case 11:case 14:case 15:if(!T&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){o=r=r.next;do{var i=o.destroy,a=o.tag}while(void 0===i||0==(2&a)&&0==(4&a)||gl(n,t,i),(o=o.next)!==r)}Sl(e,t,n);break;case 1:if(!T&&(ml(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){z(n,t,e)}Sl(e,t,n);break;case 21:Sl(e,t,n);break;case 22:1&n.mode?(T=(r=T)||null!==n.memoizedState,Sl(e,t,n),T=r):Sl(e,t,n);break;default:Sl(e,t,n)}}function Cl(n){var r,e=n.updateQueue;null!==e&&((n.updateQueue=null)===(r=n.stateNode)&&(r=n.stateNode=new br),e.forEach(function(e){var t=function(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(F(314))}null!==r&&r.delete(t),Ql(e,n)}.bind(null,n,e);r.has(e)||(r.add(e),e.then(t,t))}))}function El(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,a=t,s=a;e:for(;null!==s;){switch(s.tag){case 5:c=s.stateNode,xr=!1;break e;case 3:case 4:c=s.stateNode.containerInfo,xr=!0;break e}s=s.return}if(null===c)throw Error(F(160));kl(i,a,o),c=null,xr=!1;var l=o.alternate;null!==l&&(l.return=null),o.return=null}catch(e){z(o,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Tl(t,e),t=t.sibling}function Tl(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(El(e,t),_l(t),4&r){try{vl(3,t,t.return),yl(3,t)}catch(e){z(t,t.return,e)}try{vl(5,t,t.return)}catch(e){z(t,t.return,e)}}break;case 1:El(e,t),_l(t),512&r&&null!==n&&ml(n,n.return);break;case 5:if(El(e,t),_l(t),512&r&&null!==n&&ml(n,n.return),32&t.flags){var o=t.stateNode;try{So(o,"")}catch(e){z(t,t.return,e)}}if(4&r&&null!=(o=t.stateNode)){var i=t.memoizedProps,a=null!==n?n.memoizedProps:i,s=t.type,l=t.updateQueue;if((t.updateQueue=null)!==l)try{"input"===s&&"radio"===i.type&&null!=i.name&&uo(o,i),To(s,a);for(var c=To(s,i),a=0;a<l.length;a+=2){var u=l[a],d=l[a+1];"style"===u?Co(o,d):"dangerouslySetInnerHTML"===u?pe(o,d):"children"===u?So(o,d):Jr(o,u,d,c)}switch(s){case"input":po(o,i);break;case"textarea":yo(o,i);break;case"select":var p=o._wrapperState.wasMultiple,f=(o._wrapperState.wasMultiple=!!i.multiple,i.value);null!=f?mo(o,!!i.multiple,f,!1):p!==!!i.multiple&&(null!=i.defaultValue?mo(o,!!i.multiple,i.defaultValue,!0):mo(o,!!i.multiple,i.multiple?[]:"",!1))}o[gn]=i}catch(e){z(t,t.return,e)}}break;case 6:if(El(e,t),_l(t),4&r){if(null===t.stateNode)throw Error(F(162));o=t.stateNode,i=t.memoizedProps;try{o.nodeValue=i}catch(e){z(t,t.return,e)}}break;case 3:if(El(e,t),_l(t),4&r&&null!==n&&n.memoizedState.isDehydrated)try{ni(e.containerInfo)}catch(e){z(t,t.return,e)}break;case 4:El(e,t),_l(t);break;case 13:El(e,t),_l(t),8192&(o=t.child).flags&&(i=null!==o.memoizedState,!(o.stateNode.isHidden=i)||null!==o.alternate&&null!==o.alternate.memoizedState||(Nr=m())),4&r&&Cl(t);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&t.mode?(T=(c=T)||u,El(e,t),T=c):El(e,t),_l(t),8192&r){if(c=null!==t.memoizedState,(t.stateNode.isHidden=c)&&!u&&0!=(1&t.mode))for(u=(_=t).child;null!==u;){for(d=_=u;null!==_;){switch(f=(p=_).child,p.tag){case 0:case 11:case 14:case 15:vl(4,p,p.return);break;case 1:ml(p,p.return);var h=p.stateNode;if("function"==typeof h.componentWillUnmount){n=(r=p).return;try{e=r,h.props=e.memoizedProps,h.state=e.memoizedState,h.componentWillUnmount()}catch(e){z(r,n,e)}}break;case 5:ml(p,p.return);break;case 22:if(null!==p.memoizedState){Il(d);continue}}null!==f?(f.return=p,_=f):Il(d)}u=u.sibling}e:for(u=null,d=t;;){if(5===d.tag){if(null===u){u=d;try{o=d.stateNode,c?"function"==typeof(i=o.style).setProperty?i.setProperty("display","none","important"):i.display="none":(s=d.stateNode,a=null!=(l=d.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,s.style.display=ko("display",a))}catch(e){z(t,t.return,e)}}}else if(6===d.tag){if(null===u)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(e){z(t,t.return,e)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===t)&&null!==d.child){d=(d.child.return=d).child;continue}if(d===t)break;for(;null===d.sibling;){if(null===d.return||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:El(e,t),_l(t),4&r&&Cl(t);break;case 21:break;default:El(e,t),_l(t)}}function _l(t){var e=t.flags;if(2&e){try{e:{for(var n=t.return;null!==n;){if(wl(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(So(o,""),r.flags&=-33),!function e(t,n,r){var o=t.tag;if(5===o||6===o)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==o&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(t,xl(t),o);break;case 3:case 4:var i=r.stateNode.containerInfo;!function e(t,n,r){var o=t.tag;if(5===o||6===o)t=t.stateNode,n?(8===r.nodeType?r.parentNode:r).insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null==(r=r._reactRootContainer)&&null===n.onclick&&(n.onclick=Zi));else if(4!==o&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(t,xl(t),i);break;default:throw Error(F(161))}}catch(e){z(t,t.return,e)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function Rl(e){!function e(t,n,r){for(var o=0!=(1&t.mode);null!==_;){var i=_,a=i.child;if(22===i.tag&&o){var s=null!==i.memoizedState||yr;if(!s){var l=i.alternate,c=null!==l&&null!==l.memoizedState||T,u=(l=yr,T);if(yr=s,(T=c)&&!u)for(_=i;null!==_;)c=(s=_).child,(22!==s.tag||null===s.memoizedState)&&null!==c?(c.return=s,_=c):Ml(i);for(;null!==a;)e(_=a),a=a.sibling;_=i,yr=l,T=u}Ol(t)}else 0!=(8772&i.subtreeFlags)&&null!==a?(a.return=i,_=a):Ol(t)}}(_=e)}function Ol(e){for(;null!==_;){var t=_;if(0!=(8772&t.flags)){var n,r,o,i=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:T||yl(5,t);break;case 1:var a,s=t.stateNode,l=(4&t.flags&&!T&&(null===i?s.componentDidMount():(a=t.elementType===t.type?i.memoizedProps:Ra(t.type,i.memoizedProps),s.componentDidUpdate(a,i.memoizedState,s.__reactInternalSnapshotBeforeUpdate))),t.updateQueue);null!==l&&Wa(0,l,s);break;case 3:var c=t.updateQueue;if(null!==c){if((i=null)!==t.child)switch(t.child.tag){case 5:case 1:i=t.child.stateNode}Wa(0,c,i)}break;case 5:var u=t.stateNode;if(null===i&&4&t.flags){var i=u,d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&i.focus();break;case"img":d.src&&(i.src=d.src)}}break;case 6:case 4:case 12:break;case 13:null===t.memoizedState&&null!==(n=t.alternate)&&null!==(r=n.memoizedState)&&null!==(o=r.dehydrated)&&ni(o);break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}T||512&t.flags&&bl(t)}catch(e){z(t,t.return,e)}}if(t===e){_=null;break}if(null!==(i=t.sibling)){i.return=t.return,_=i;break}_=t.return}}function Il(e){for(;null!==_;){var t=_;if(t===e){_=null;break}var n=t.sibling;if(null!==n){n.return=t.return,_=n;break}_=t.return}}function Ml(e){for(;null!==_;){var t=_;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{yl(4,t)}catch(e){z(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(e){z(t,o,e)}}var i=t.return;try{bl(t)}catch(e){z(t,i,e)}break;case 5:var a=t.return;try{bl(t)}catch(e){z(t,a,e)}}}catch(e){z(t,t.return,e)}if(t===e){_=null;break}var s=t.sibling;if(null!==s){s.return=t.return,_=s;break}_=t.return}}function h(){return 0!=(6&R)?m():-1!==Wr?Wr:Wr=m()}function Dl(e){return 0==(1&e.mode)?1:0!=(2&R)&&0!==I?I&-I:null!==Fn.transition?Ur=0===Ur?Wo():Ur:0===(e=x)?void 0===(e=window.event)?16:si(e.type):e}function Nl(e,t,n,r){if(50<Vr)throw Vr=0,Hr=null,Error(F(185));qo(e,n,r),0!=(2&R)&&e===f||(e===f&&(0==(2&R)&&(Ir|=n),4===M)&&Al(e,I),Pl(e,r),1===n&&0===R&&0==(1&t.mode)&&(Pr=m()+500,Tn)&&ha())}function Pl(e,t){var n,r=e.callbackNode,o=(Vo(e,t),Bo(e,e===f?I:0));if(0===o)null!==r&&Le(r),e.callbackNode=null,e.callbackPriority=0;else if(e.callbackPriority!==(t=o&-o)){if(null!=r&&Le(r),1===t)0===e.tag?(n=Fl.bind(null,e),Tn=!0,fa(n)):fa(Fl.bind(null,e)),hn(function(){0==(6&R)&&ha()}),r=null;else{switch(Ko(o)){case 1:r=$e;break;case 4:r=Be;break;case 16:r=Ve;break;case 536870912:r=We;break;default:r=Ve}r=ec(r,zl.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function zl(t,e){if(Wr=-1,(Ur=0)!=(6&R))throw Error(F(327));var n=t.callbackNode;if(Xl()&&t.callbackNode!==n)return null;var r=Bo(t,t===f?I:0);if(0===r)return null;if(0!=(30&r)||0!=(r&t.expiredLanes)||e)e=Yl(t,r);else{e=r;var o=R,i=(R|=2,Ul());for(f===t&&I===e||(zr=null,Pr=m()+500,Hl(t,e));;)try{for(;null!==O&&!je();)Kl(O);break}catch(e){Wl(t,e)}Oa(),kr.current=i,R=o,e=null!==O?0:(f=null,I=0,M)}if(0!==e){if(1===(e=2===e&&0!==(o=Ho(t))?Ll(t,r=o):e))throw n=Rr,Hl(t,0),Al(t,r),Pl(t,m()),n;if(6===e)Al(t,r);else{if(o=t.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!$t(i(),o))return}catch(e){return}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return 1;t=t.return}t.sibling.return=t.return,t=t.sibling}}return 1}(o)&&1===(e=2===(e=Yl(t,r))&&0!==(i=Ho(t))?Ll(t,r=i):e))throw n=Rr,Hl(t,0),Al(t,r),Pl(t,m()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(F(345));case 2:Zl(t,s,zr);break;case 3:if(Al(t,r),(130023424&r)===r&&10<(e=Nr+500-m())){if(0!==Bo(t,0))break;if(((o=t.suspendedLanes)&r)!==r){h(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=dn(Zl.bind(null,t,s,zr),e)}else Zl(t,s,zr);break;case 4:if(Al(t,r),(4194240&r)!==r){for(e=t.eventTimes,o=-1;0<r;){var a=31-Ye(r),i=1<<a;o<(a=e[a])&&(o=a),r&=~i}r=o,10<(r=((r=m()-r)<120?120:r<480?480:r<1080?1080:r<1920?1920:r<3e3?3e3:r<4320?4320:1960*Sr(r/1960))-r)?t.timeoutHandle=dn(Zl.bind(null,t,s,zr),r):Zl(t,s,zr)}break;case 5:Zl(t,s,zr);break;default:throw Error(F(329))}}}return Pl(t,m()),t.callbackNode===n?zl.bind(null,t):null}function Ll(e,t){var n=Dr;return e.current.memoizedState.isDehydrated&&(Hl(e,t).flags|=256),2!==(e=Yl(e,t))&&(t=s,s=n,null!==t)&&jl(t),e}function jl(e){null===s?s=e:s.push.apply(s,e)}function Al(e,t){for(t=t&~Mr&~Ir,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ye(t),r=1<<n;e[n]=-1,t&=~r}}function Fl(e){if(0!=(6&R))throw Error(F(327));Xl();var t=Bo(e,0);if(0!=(1&t)){var n,r=Yl(e,t);if(1===(r=0!==e.tag&&2===r&&0!==(n=Ho(e))?Ll(e,t=n):r))throw r=Rr,Hl(e,0),Al(e,t),Pl(e,m()),r;if(6===r)throw Error(F(345));e.finishedWork=e.current.alternate,e.finishedLanes=t,Zl(e,s,zr)}return Pl(e,m()),null}function $l(e,t){var n=R;R|=1;try{return e(t)}finally{0===(R=n)&&(Pr=m()+500,Tn)&&ha()}}function Bl(e){null!==$r&&0===$r.tag&&0==(6&R)&&Xl();var t=R,n=(R|=1,Er.transition),r=x;try{if(Er.transition=null,x=1,e)return e()}finally{x=r,Er.transition=n,0==(6&(R=t))&&ha()}}function Vl(){Tr=_r.current,d(_r)}function Hl(e,t){e.finishedWork=null,e.finishedLanes=0;var n,r,o,i=e.timeoutHandle;if(-1!==i&&(e.timeoutHandle=-1,pn(i)),null!==O)for(i=O.return;null!==i;){var a=i;switch(ya(a),a.tag){case 1:null!=(a=a.type.childContextTypes)&&la();break;case 3:ns(),d(y),d(v),as();break;case 5:os(a);break;case 4:ns();break;case 13:case 19:d(w);break;case 10:Ia(a.type._context);break;case 22:case 23:Vl()}i=i.return}if(O=e=oc((f=e).current,null),I=Tr=t,Mr=Ir=Or=M=0,(s=Dr=Rr=null)!==Wn){for(t=0;t<Wn.length;t++)null!==(a=(i=Wn[t]).interleaved)&&(i.interleaved=null,n=a.next,null!==(r=i.pending)&&(o=r.next,r.next=n,a.next=o),i.pending=a);Wn=null}return e}function Wl(e,t){do{var n=O;try{if(Oa(),tr.current=lr,or){for(var r=S.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}or=!1}if(C=k=S=null,ir=!1,ar=rr=0,(Cr.current=null)===n||null===n.return){M=1,Rr=t,O=null;break}e:{var i=e,a=n.return,s=t;if(t=I,(g=n).flags|=32768,null!==s&&"object"==typeof s&&"function"==typeof s.then){var l,c=s,u=g,d=u.tag,p=(0!=(1&u.mode)||0!==d&&11!==d&&15!==d||((l=u.alternate)?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)),Ys(a));if(null!==p){p.flags&=-257,Ks(p,a,g,0,t),1&p.mode&&qs(i,c,t);var f,s=c,h=(t=p).updateQueue;null===h?((f=new Set).add(s),t.updateQueue=f):h.add(s);break e}if(0==(1&t)){qs(i,c,t),ql();break e}s=Error(F(426))}else if(A&&1&g.mode){var m=Ys(a);if(null!==m){0==(65536&m.flags)&&(m.flags|=256),Ks(m,a,g,0,t),_a(Bs(s,g));break e}}i=s=Bs(s,g),4!==M&&(M=2),null===Dr?Dr=[i]:Dr.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Va(i,Ws(0,s,t));break e;case 1:var g=s,v=i.type,y=i.stateNode;if(0==(128&i.flags)&&("function"==typeof v.getDerivedStateFromError||null!==y&&"function"==typeof y.componentDidCatch&&(null===Ar||!Ar.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t,Va(i,Us(i,g,t));break e}}}while(null!==(i=i.return))}Gl(n)}catch(e){t=e,O===n&&null!==n&&(O=n.return);continue}break}while(1)}function Ul(){var e=kr.current;return kr.current=lr,null===e?lr:e}function ql(){0!==M&&3!==M&&2!==M||(M=4),null===f||0==(268435455&Or)&&0==(268435455&Ir)||Al(f,I)}function Yl(t,e){var n=R,r=(R|=2,Ul());for(f===t&&I===e||(zr=null,Hl(t,e));;)try{for(;null!==O;)Kl(O);break}catch(e){Wl(t,e)}if(Oa(),R=n,kr.current=r,null!==O)throw Error(F(261));return f=null,I=0,M}function Kl(e){var t=qr(e.alternate,e,Tr);e.memoizedProps=e.pendingProps,null===t?Gl(e):O=t,Cr.current=null}function Gl(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=function(e,t,n){var r=t.pendingProps;switch(ya(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return p(t),null;case 1:return N(t.type)&&la(),p(t),null;case 3:return r=t.stateNode,ns(),d(y),d(v),as(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ca(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==An&&(jl(An),An=null))),p(t),null;case 5:os(t);var o,i=es(Qn.current);if(n=t.type,null!==e&&null!=t.stateNode)gr(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(F(166));return p(t),null}if(e=es(Xn.current),Ca(t)){r=t.stateNode,n=t.type;var a,s,l=t.memoizedProps;switch(r[mn]=t,r[gn]=l,e=0!=(1&t.mode),n){case"dialog":u("cancel",r),u("close",r);break;case"iframe":case"object":case"embed":u("load",r);break;case"video":case"audio":for(i=0;i<rn.length;i++)u(rn[i],r);break;case"source":u("error",r);break;case"img":case"image":case"link":u("error",r),u("load",r);break;case"details":u("toggle",r);break;case"input":co(r,l),u("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},u("invalid",r);break;case"textarea":vo(r,l),u("invalid",r)}for(a in Eo(n,l),i=null,l)l.hasOwnProperty(a)&&(s=l[a],"children"===a?"string"==typeof s?r.textContent!==s&&(!0!==l.suppressHydrationWarning&&Gi(r.textContent,s,e),i=["children",s]):"number"==typeof s&&r.textContent!==""+s&&(!0!==l.suppressHydrationWarning&&Gi(r.textContent,s,e),i=["children",""+s]):V.hasOwnProperty(a)&&null!=s&&"onScroll"===a&&u("scroll",r));switch(n){case"input":io(r),fo(r,l,!0);break;case"textarea":io(r),bo(r);break;case"select":case"option":break;default:"function"==typeof l.onClick&&(r.onclick=Zi)}r=i,null!==(t.updateQueue=r)&&(t.flags|=4)}else{a=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===(e="http://www.w3.org/1999/xhtml"===e?wo(n):e)?"script"===n?((e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),"select"===n&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[mn]=t,e[gn]=r,mr(e,t),t.stateNode=e;e:{switch(a=To(n,r),n){case"dialog":u("cancel",e),u("close",e),i=r;break;case"iframe":case"object":case"embed":u("load",e),i=r;break;case"video":case"audio":for(i=0;i<rn.length;i++)u(rn[i],e);i=r;break;case"source":u("error",e),i=r;break;case"img":case"image":case"link":u("error",e),u("load",e),i=r;break;case"details":u("toggle",e),i=r;break;case"input":co(e,r),i=lo(e,r),u("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=g({},r,{value:void 0}),u("invalid",e);break;case"textarea":vo(e,r),i=go(e,r),u("invalid",e);break;default:i=r}for(l in Eo(n,i),s=i)s.hasOwnProperty(l)&&(o=s[l],"style"===l?Co(e,o):"dangerouslySetInnerHTML"===l?null!=(o=o?o.__html:void 0)&&pe(e,o):"children"===l?"string"==typeof o?"textarea"===n&&""===o||So(e,o):"number"==typeof o&&So(e,""+o):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(V.hasOwnProperty(l)?null!=o&&"onScroll"===l&&u("scroll",e):null!=o&&Jr(e,l,o,a)));switch(n){case"input":io(e),fo(e,r,!1);break;case"textarea":io(e),bo(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ro(r.value));break;case"select":e.multiple=!!r.multiple,null!=(l=r.value)?mo(e,!!r.multiple,l,!1):null!=r.defaultValue&&mo(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Zi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return p(t),null;case 6:if(e&&null!=t.stateNode)vr(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(F(166));if(n=es(Qn.current),es(Xn.current),Ca(t)){if(r=t.stateNode,n=t.memoizedProps,r[mn]=t,(l=r.nodeValue!==n)&&null!==(e=jn))switch(e.tag){case 3:Gi(r.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Gi(r.nodeValue,n,0!=(1&e.mode))}l&&(t.flags|=4)}else((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[mn]=t).stateNode=r}return p(t),null;case 13:if(d(w),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(A&&null!==b&&0!=(1&t.mode)&&0==(128&t.flags))Ea(),Ta(),t.flags|=98560,l=!1;else if(l=Ca(t),null!==r&&null!==r.dehydrated){if(null===e){if(!l)throw Error(F(318));if(!(l=null!==(l=t.memoizedState)?l.dehydrated:null))throw Error(F(317));l[mn]=t}else Ta(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;p(t),l=!1}else null!==An&&(jl(An),An=null),l=!0;if(!l)return 65536&t.flags?t:null}return 0!=(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!=(1&t.mode))&&(null===e||0!=(1&w.current)?0===M&&(M=3):ql()),null!==t.updateQueue&&(t.flags|=4),p(t),null);case 4:return ns(),null===e&&Bi(t.stateNode.containerInfo),p(t),null;case 10:return Ia(t.type._context),p(t),null;case 17:return N(t.type)&&la(),p(t),null;case 19:if(d(w),null===(l=t.memoizedState));else{if(r=0!=(128&t.flags),null===(a=l.rendering))if(r)hl(l,!1);else{if(0!==M||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=is(e))){for(t.flags|=128,hl(l,!1),null!==(r=a.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(l=n).flags&=14680066,null===(a=l.alternate)?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,l.type=a.type,e=a.dependencies,l.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return D(w,1&w.current|2),t.child}e=e.sibling}null!==l.tail&&m()>Pr&&(t.flags|=128,hl(l,!(r=!0)),t.lanes=4194304)}else{if(!r)if(null!==(e=is(a))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),hl(l,!0),null===l.tail&&"hidden"===l.tailMode&&!a.alternate&&!A)return p(t),null}else 2*m()-l.renderingStartTime>Pr&&1073741824!==n&&(t.flags|=128,hl(l,!(r=!0)),t.lanes=4194304);l.isBackwards?(a.sibling=t.child,t.child=a):(null!==(n=l.last)?n.sibling=a:t.child=a,l.last=a)}if(null!==l.tail)return t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=m(),t.sibling=null,n=w.current,D(w,r?1&n|2:1&n),t}return p(t),null;case 22:case 23:return Vl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!=(1&t.mode)?0!=(1073741824&Tr)&&(p(t),6&t.subtreeFlags)&&(t.flags|=8192):p(t),null;case 24:case 25:return null}throw Error(F(156,t.tag))}(n,t,Tr)))return void(O=n)}else{if(null!==(n=function(e,t){switch(ya(t),t.tag){case 1:return N(t.type)&&la(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ns(),d(y),d(v),as(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return os(t),null;case 13:if(d(w),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(F(340));Ta()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return d(w),null;case 4:return ns(),null;case 10:return Ia(t.type._context),null;case 22:case 23:return Vl(),null;default:return null}}(n,t)))return n.flags&=32767,void(O=n);if(null===e)return M=6,void(O=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(O=t)}while(O=t=e,null!==t);0===M&&(M=5)}function Zl(e,t,n){var r=x,o=Er.transition;try{Er.transition=null,x=1;for(var i=e,a=t,s=n,l=r;Xl(),null!==$r;);if(0!=(6&R))throw Error(F(327));s=i.finishedWork;var c=i.finishedLanes;if(null!==s){if(i.finishedWork=null,i.finishedLanes=0,s===i.current)throw Error(F(177));i.callbackNode=null,i.callbackPriority=0;var u,d,p=s.lanes|s.childLanes;if(!function(e,t){var n=e.pendingLanes&~t,r=(e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements,e.eventTimes);for(e=e.expirationTimes;0<n;){var o=31-Ye(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(i,p),i===f&&(O=f=null,I=0),0==(2064&s.subtreeFlags)&&0==(2064&s.flags)||Fr||(Fr=!0,ec(Ve,function(){return Xl(),null})),p=0!=(15990&s.flags),0!=(15990&s.subtreeFlags)||p?(p=Er.transition,Er.transition=null,u=x,x=1,d=R,R|=4,Cr.current=null,function(e,t){if(cn=lt,Di(e=Mi())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:if((i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection())&&0!==i.rangeCount){var n=i.anchorNode,r=i.anchorOffset,o=i.focusNode,i=i.focusOffset;try{n.nodeType,o.nodeType}catch(e){n=null;break e}var a,s=0,l=-1,c=-1,u=0,d=0,p=e,f=null;t:for(;;){for(;p!==n||0!==r&&3!==p.nodeType||(l=s+r),p!==o||0!==i&&3!==p.nodeType||(c=s+i),3===p.nodeType&&(s+=p.nodeValue.length),null!==(a=p.firstChild);)f=p,p=a;for(;;){if(p===e)break t;if(f===n&&++u===r&&(l=s),f===o&&++d===i&&(c=s),null!==(a=p.nextSibling))break;f=(p=f).parentNode}p=a}n=-1===l||-1===c?null:{start:l,end:c}}else n=null;n=n||{start:0,end:0}}else n=null;for(lt=!(un={focusedElem:e,selectionRange:n}),_=t;null!==_;)if(e=(t=_).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,_=e;else for(;null!==_;){t=_;try{var h,m,g,v,y=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:break;case 1:null!==y&&(h=y.memoizedProps,m=y.memoizedState,v=(g=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?h:Ra(t.type,h),m),g.__reactInternalSnapshotBeforeUpdate=v);break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(e){z(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,_=e;break}_=t.return}y=wr,wr=!1}(i,s),Tl(s,i),Ni(un),lt=!!cn,un=cn=null,Rl(i.current=s),Ae(),R=d,x=u,Er.transition=p):i.current=s,Fr&&(Fr=!1,$r=i,Br=c),0===(p=i.pendingLanes)&&(Ar=null),!function(e){if(qe&&"function"==typeof qe.onCommitFiberRoot)try{qe.onCommitFiberRoot(Ue,e,void 0,128==(128&e.current.flags))}catch(e){}}(s.stateNode),Pl(i,m()),null!==a)for(l=i.onRecoverableError,s=0;s<a.length;s++)c=a[s],l(c.value,{componentStack:c.stack,digest:c.digest});if(Lr)throw Lr=!1,i=jr,jr=null,i;0!=(1&Br)&&0!==i.tag&&Xl(),0!=(1&(p=i.pendingLanes))?i===Hr?Vr++:(Vr=0,Hr=i):Vr=0,ha()}}finally{Er.transition=o,x=r}return null}function Xl(){if(null!==$r){var e=Ko(Br),t=Er.transition,n=x;try{if(Er.transition=null,x=e<16?16:e,null===$r)var r=!1;else{if(e=$r,$r=null,(Br=0)!=(6&R))throw Error(F(331));var o=R;for(R|=4,_=e.current;null!==_;){var i=_,a=i.child;if(0!=(16&_.flags)){var s=i.deletions;if(null!==s){for(var l=0;l<s.length;l++){var c=s[l];for(_=c;null!==_;){switch((d=_).tag){case 0:case 11:case 15:vl(8,d,i)}var u=d.child;if(null!==u)u.return=d,_=u;else for(;null!==_;){var d,p=(d=_).sibling,f=d.return;if(!function e(t){var n=t.alternate;null!==n&&(t.alternate=null,e(n)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&null!==(n=t.stateNode)&&(delete n[mn],delete n[gn],delete n[yn],delete n[bn],delete n[wn]),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}(d),d===c){_=null;break}if(null!==p){p.return=f,_=p;break}_=f}}}var h=i.alternate;if(null!==h){var m=h.child;if(null!==m){h.child=null;do{var g=m.sibling}while((m.sibling=null)!==(m=g))}}_=i}}if(0!=(2064&i.subtreeFlags)&&null!==a)a.return=i,_=a;else for(;null!==_;){if(0!=(2048&(i=_).flags))switch(i.tag){case 0:case 11:case 15:vl(9,i,i.return)}var v=i.sibling;if(null!==v){v.return=i.return,_=v;break}_=i.return}}var y=e.current;for(_=y;null!==_;){var b=(a=_).child;if(0!=(2064&a.subtreeFlags)&&null!==b)b.return=a,_=b;else for(a=y;null!==_;){if(0!=(2048&(s=_).flags))try{switch(s.tag){case 0:case 11:case 15:yl(9,s)}}catch(e){z(s,s.return,e)}if(s===a){_=null;break}var w=s.sibling;if(null!==w){w.return=s.return,_=w;break}_=s.return}}if(R=o,ha(),qe&&"function"==typeof qe.onPostCommitFiberRoot)try{qe.onPostCommitFiberRoot(Ue,e)}catch(e){}r=!0}return r}finally{x=n,Er.transition=t}}}function Jl(e,t,n){e=$a(e,t=Ws(0,t=Bs(n,t),1),1),t=h(),null!==e&&(qo(e,1,t),Pl(e,t))}function z(e,t,n){if(3===e.tag)Jl(e,e,n);else for(;null!==t;){if(3===t.tag){Jl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ar||!Ar.has(r))){t=$a(t,e=Us(t,e=Bs(n,e),1),1),e=h(),null!==t&&(qo(t,1,e),Pl(t,e));break}}t=t.return}}function Ql(e,t){0===t&&(0==(1&e.mode)?t=1:(t=Xe,0==(130023424&(Xe<<=1))&&(Xe=4194304)));var n=h();null!==(e=La(e,t))&&(qo(e,t,n),Pl(e,n))}function ec(e,t){return ze(e,t)}function tc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nc(e,t,n,r){return new tc(e,t,n,r)}function rc(e){return(e=e.prototype)&&e.isReactComponent}function oc(e,t){var n=e.alternate;return null===n?((n=nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,(n.alternate=e).alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ic(e,t,n,r,o,i){var a=2;if("function"==typeof(r=e))rc(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case J:return ac(n.children,o,i,t);case Q:o|=a=8;break;case ee:return(e=nc(12,n,t,2|o)).elementType=ee,e.lanes=i,e;case oe:return(e=nc(13,n,t,o)).elementType=oe,e.lanes=i,e;case ie:return(e=nc(19,n,t,o)).elementType=ie,e.lanes=i,e;case le:return sc(n,o,i,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case te:a=10;break e;case ne:a=9;break e;case re:a=11;break e;case ae:a=14;break e;case se:a=16,r=null;break e}throw Error(F(130,null==e?e:typeof e,""))}return(t=nc(a,n,t,o)).elementType=e,t.type=r,t.lanes=i,t}function ac(e,t,n,r){return(e=nc(7,e,r,t)).lanes=n,e}function sc(e,t,n,r){return(e=nc(22,e,r,t)).elementType=le,e.lanes=n,e.stateNode={isHidden:!1},e}function lc(e,t,n){return(e=nc(6,e,null,t)).lanes=n,e}function cc(e,t,n){return(t=nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function uc(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uo(0),this.expirationTimes=Uo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uo(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function dc(e,t,n,r,o,i,a,s,l){return e=new uc(e,t,0,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=nc(3,null,null,t),(e.current=i).stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ja(i),e}function pc(e){if(!e)return kn;e:{if(Lo(e=e._reactInternals)!==e||1!==e.tag)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(N(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}}while(null!==(t=t.return));throw Error(F(171))}if(1===e.tag){var n=e.type;if(N(n))return ua(e,n,t)}return t}function fc(e,t,n,r,o,i,a,s,l){return(e=dc(n,r,!0,e,0,i,0,s,l)).context=pc(null),n=e.current,(i=Fa(r=h(),o=Dl(n))).callback=null!=t?t:null,$a(n,i,o),e.current.lanes=o,qo(e,o,r),Pl(e,r),e}function hc(e,t,n,r){var o=t.current,i=h(),a=Dl(o);n=pc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fa(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=$a(o,t,a))&&(Nl(e,o,a,i),Ba(e,o,a))}function mc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function gc(e,t){var n;null!==(e=e.memoizedState)&&null!==e.dehydrated&&(n=e.retryLane,e.retryLane=0!==n&&n<t?n:t)}function vc(e,t){gc(e,t),(e=e.alternate)&&gc(e,t)}function yc(e){this._internalRoot=e}function bc(e){this._internalRoot=e}function wc(e){return e&&(1===e.nodeType||9===e.nodeType||11===e.nodeType)}function xc(e){return e&&(1===e.nodeType||9===e.nodeType||11===e.nodeType||8===e.nodeType&&" react-mount-point-unstable "===e.nodeValue)}function Sc(){}function kc(e,t,n,r,o){var i,a,s=n._reactRootContainer;return s?("function"==typeof o&&(a=o,o=function(){var e=mc(i);a.call(e)}),hc(t,i=s,e,o)):i=function(e,t,n,r,o){var i,a,s;if(o)return"function"==typeof r&&(i=r,r=function(){var e=mc(a);i.call(e)}),a=fc(t,r,e,0,null,!1,0,"",Sc),e._reactRootContainer=a,e[vn]=a.current,Bi(8===e.nodeType?e.parentNode:e),Bl(),a;for(;o=e.lastChild;)e.removeChild(o);"function"==typeof r&&(s=r,r=function(){var e=mc(l);s.call(e)});var l=dc(e,0,!1,null,0,!1,0,"",Sc);return e._reactRootContainer=l,e[vn]=l.current,Bi(8===e.nodeType?e.parentNode:e),Bl(function(){hc(t,l,n,r)}),l}(n,t,e,o,r),mc(i)}}var hasRequiredReactDom_development,reactDom_development={};function requireReactDom_development(){if(!hasRequiredReactDom_development&&(hasRequiredReactDom_development=1,"production"!==process.env.NODE_ENV)){"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var n=React__default$1,r=requireScheduler(),s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=!1;function d(e){if(!u){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];p("warn",e,n)}}function te(e){if(!u){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];p("error",e,n)}}function p(e,t,n){var r=s.ReactDebugCurrentFrame.getStackAddendum(),r=(""!==r&&(t+="%s",n=n.concat([r])),n.map(function(e){return String(e)}));r.unshift("Warning: "+t),Function.prototype.apply.call(console[e],console,r)}var q=0,Y=1,le=2,K=3,ne=4,G=5,re=6,ce=7,ue=8,de=9,pe=10,Z=11,fe=12,X=13,he=14,J=15,me=16,ge=17,g=18,ve=19,ye=21,be=22,we=23,f=24,h=25,m=!1,v=!1,t=!0,y=!1,N=!0,P=!0,z=!0,L=new Set,j={},A={};function F(e,t){$(e,t),$(e+"Capture",t)}function $(e,t){j[e]&&te("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.",e),j[e]=t;var n=e.toLowerCase();"onDoubleClick"===(A[n]=e)&&(A.ondblclick=e);for(var r=0;r<t.length;r++)L.add(t[r])}var B=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),V=Object.prototype.hasOwnProperty,H=0,W=2,U=3,xe=4,e=(Pr=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD")+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Se=new RegExp("^["+Pr+"]["+e+"]*$"),ke={},Ce={};function Ee(e){if(V.call(Ce,e))return 1;if(!V.call(ke,e)){if(Se.test(e))return Ce[e]=!0;ke[e]=!0,te("Invalid attribute name: `%s`",e)}}function Te(e,t,n){return null!==t?t.type===H:!n&&2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])}function _e(e,t,n,r){if(null===n||n.type!==H)switch(typeof t){case"function":case"symbol":return 1;case"boolean":var o;return r?void 0:null!==n?!n.acceptsBooleans:"data-"!==(o=e.toLowerCase().slice(0,5))&&"aria-"!==o;default:return}}function Re(e,t,n,r){if(null==t)return 1;if(_e(e,t,n,r))return 1;if(!r&&null!==n)switch(n.type){case U:return!t;case xe:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||t<1}}function Oe(e){return De.hasOwnProperty(e)?De[e]:null}function Ie(e,t,n,r,o,i,a){this.acceptsBooleans=t===W||t===U||t===xe,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}function Me(e){return e[1].toUpperCase()}var De={},Ne=(["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach(function(e){De[e]=new Ie(e,H,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0],e=e[1];De[t]=new Ie(t,1,!1,e,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){De[e]=new Ie(e,W,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){De[e]=new Ie(e,W,!1,e,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(function(e){De[e]=new Ie(e,U,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){De[e]=new Ie(e,U,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){De[e]=new Ie(e,xe,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){De[e]=new Ie(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){De[e]=new Ie(e,5,!1,e.toLowerCase(),null,!1,!1)}),/[\-\:]([a-z])/g),Pe=(["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(function(e){var t=e.replace(Ne,Me);De[t]=new Ie(t,1,!1,e,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(function(e){var t=e.replace(Ne,Me);De[t]=new Ie(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ne,Me);De[t]=new Ie(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){De[e]=new Ie(e,1,!1,e.toLowerCase(),null,!1,!1)}),De.xlinkHref=new Ie("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){De[e]=new Ie(e,1,!1,e.toLowerCase(),null,!0,!0)}),/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*\:/i),ze=!1;function Le(e){!ze&&Pe.test(e)&&(ze=!0,te("A future version of React will block javascript: URLs as a security precaution. Use event handlers instead if you can. If you need to generate unsafe HTML try using dangerouslySetInnerHTML instead. React was passed %s.",JSON.stringify(e)))}function je(e,t,n){if(Ee(t))return e.hasAttribute(t)?(e=e.getAttribute(t))===""+n?n:e:void 0===n?void 0:null}function Ae(e,t,n,r){var o,i,a=Oe(t);Te(t,a,r)||(Re(t,n,a,r)&&(n=null),r||null===a?Ee(t)&&(r=t,null===n?e.removeAttribute(r):e.setAttribute(r,""+n)):a.mustUseProperty?(t=a.propertyName,null===n?(r=a.type,e[t]=r!==U&&""):e[t]=n):(r=a.attributeName,t=a.attributeNamespace,null===n?e.removeAttribute(r):((o=a.type)===U||o===xe&&!0===n?i="":(i=""+n,a.sanitizeURL&&Le(i.toString())),t?e.setAttributeNS(t,r,i):e.setAttribute(r,i))))}var Fe=Symbol.for("react.element"),$e=Symbol.for("react.portal"),Be=Symbol.for("react.fragment"),Ve=Symbol.for("react.strict_mode"),He=Symbol.for("react.profiler"),We=Symbol.for("react.provider"),Ue=Symbol.for("react.context"),qe=Symbol.for("react.forward_ref"),Ye=Symbol.for("react.suspense"),Ke=Symbol.for("react.suspense_list"),Ge=Symbol.for("react.memo"),Ze=Symbol.for("react.lazy"),Xe=(Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode"),Symbol.for("react.offscreen")),Je=(Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker"),Symbol.iterator),Qe="@@iterator";function et(e){return null!==e&&"object"==typeof e&&"function"==typeof(e=Je&&e[Je]||e[Qe])?e:null}var tt,nt,rt,ot,it,at,st,k=Object.assign,lt=0;function ct(){}var ut,dt=s.ReactCurrentDispatcher;function pt(e){if(void 0===ut)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);ut=t&&t[1]||""}return"\n"+ut+e}var ft=!(ct.__reactDisabledLog=!0),ht=new("function"==typeof WeakMap?WeakMap:Map);function mt(t,e){if(!t||ft)return"";var n=ht.get(t);if(void 0!==n)return n;ft=!0;var r,o,n=Error.prepareStackTrace;Error.prepareStackTrace=void 0,r=dt.current,dt.current=null,0===lt&&(tt=console.log,nt=console.info,rt=console.warn,ot=console.error,it=console.group,at=console.groupCollapsed,st=console.groupEnd,o={configurable:!0,enumerable:!0,value:ct,writable:!0},Object.defineProperties(console,{info:o,log:o,warn:o,error:o,group:o,groupCollapsed:o,groupEnd:o})),lt++;try{if(e){function i(){throw Error()}if(Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(i,[])}catch(e){d=e}Reflect.construct(t,[],i)}else{try{i.call()}catch(e){d=e}t.call(i.prototype)}}else{try{throw Error()}catch(e){d=e}t()}}catch(e){if(e&&d&&"string"==typeof e.stack){for(var a,s=e.stack.split("\n"),l=d.stack.split("\n"),c=s.length-1,u=l.length-1;1<=c&&0<=u&&s[c]!==l[u];)u--;for(;1<=c&&0<=u;c--,u--)if(s[c]!==l[u]){if(1!==c||1!==u)do{if(c--,--u<0||s[c]!==l[u])return a="\n"+s[c].replace(" at new "," at "),t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),"function"==typeof t&&ht.set(t,a),a}while(1<=c&&0<=u);break}}}finally{ft=!1,dt.current=r,0===--lt&&(o={configurable:!0,enumerable:!0,writable:!0},Object.defineProperties(console,{log:k({},o,{value:tt}),info:k({},o,{value:nt}),warn:k({},o,{value:rt}),error:k({},o,{value:ot}),group:k({},o,{value:it}),groupCollapsed:k({},o,{value:at}),groupEnd:k({},o,{value:st})})),lt<0&&te("disabledDepth fell below zero. This is a bug in React. Please file an issue."),Error.prepareStackTrace=n}var e=t?t.displayName||t.name:"",d=e?pt(e):"";return"function"==typeof t&&ht.set(t,d),d}function gt(e){return mt(e,!1)}function vt(e){switch(e._debugOwner&&e._debugOwner.type,e._debugSource,e.tag){case G:return pt(e.type);case me:return pt("Lazy");case X:return pt("Suspense");case ve:return pt("SuspenseList");case q:case le:case J:return gt(e.type);case Z:return gt(e.type.render);case Y:return mt(e.type,!0);default:return""}}function yt(e){try{for(var t="",n=e;t+=vt(n),n=n.return;);return t}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}function bt(e){return e.displayName||"Context"}function Q(e){if(null!=e){if("number"==typeof e.tag&&te("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),"function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case Be:return"Fragment";case $e:return"Portal";case He:return"Profiler";case Ve:return"StrictMode";case Ye:return"Suspense";case Ke:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case Ue:return bt(e)+".Consumer";case We:return bt(e._context)+".Provider";case qe:return n=(t=e).render,r="ForwardRef",(t=t.displayName)||(""!==(t=n.displayName||n.name||"")?r+"("+t+")":r);case Ge:n=e.displayName||null;return null!==n?n:Q(e.type)||"Memo";case Ze:t=e._payload,r=e._init;try{return Q(r(t))}catch(e){return null}}var t,n,r}return null}function wt(e){return e.displayName||"Context"}function C(e){var t,n,r=e.tag,o=e.type;switch(r){case f:return"Cache";case de:return wt(o)+".Consumer";case pe:return wt(o._context)+".Provider";case g:return"DehydratedFragment";case Z:return t=o.render,n="ForwardRef",t=t.displayName||t.name||"",o.displayName||(""!==t?n+"("+t+")":n);case ce:return"Fragment";case G:return o;case ne:return"Portal";case K:return"Root";case re:return"Text";case me:return Q(o);case ue:return o===Ve?"StrictMode":"Mode";case be:return"Offscreen";case fe:return"Profiler";case ye:return"Scope";case X:return"Suspense";case ve:return"SuspenseList";case h:return"TracingMarker";case Y:case q:case ge:case le:case he:case J:if("function"==typeof o)return o.displayName||o.name||null;if("string"==typeof o)return o}return null}var xt=s.ReactDebugCurrentFrame,St=null,kt=!1;function Ct(){var e;return null!==St&&null!=(e=St._debugOwner)?C(e):null}function Et(){return null===St?"":yt(St)}function Tt(){xt.getCurrentStack=null,St=null,kt=!1}function _t(e){xt.getCurrentStack=null===e?null:Et,St=e,kt=!1}function Rt(e){kt=e}function Ot(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}var It={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0};function Mt(e,t){It[t.type]||t.onChange||t.onInput||t.readOnly||t.disabled||null==t.value||te("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`."),t.onChange||t.readOnly||t.disabled||null==t.checked||te("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}function Dt(e){var t=e.type,e=e.nodeName;return e&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Nt(e){return e._valueTracker}function Pt(e){Nt(e)||(e._valueTracker=function(e){var t,n,r=Dt(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),i=(e[r],""+e[r]);if(!e.hasOwnProperty(r)&&void 0!==o&&"function"==typeof o.get&&"function"==typeof o.set)return t=o.get,n=o.set,Object.defineProperty(e,r,{configurable:!0,get:function(){return t.call(this)},set:function(e){i=""+e,n.call(this,e)}}),Object.defineProperty(e,r,{enumerable:o.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[r]}}}(e))}function zt(e){var t,n,r;if(e)return(t=Nt(e))?(n=t.getValue(),r="",(e=r=(e=e)?Dt(e)?e.checked?"true":"false":e.value:r)!==n&&(t.setValue(e),1)):1}function Lt(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}var jt=!1,At=!1,Ft=!1,$t=!1;function Bt(e){return"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}function Vt(e,t){var n=t.checked;return k({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ht(e,t){Mt(0,t),void 0===t.checked||void 0===t.defaultChecked||At||(te("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",Ct()||"A component",t.type),At=!0),void 0===t.value||void 0===t.defaultValue||jt||(te("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",Ct()||"A component",t.type),jt=!0);var n=null==t.defaultValue?"":t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:Ot(null!=t.value?t.value:n),controlled:Bt(t)}}function Wt(e,t){t=t.checked;null!=t&&Ae(e,"checked",t,!1)}function Ut(e,t){var n=e,r=Bt(t),r=(n._wrapperState.controlled||!r||$t||(te("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),$t=!0),!n._wrapperState.controlled||r||Ft||(te("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),Ft=!0),Wt(e,t),Ot(t.value)),e=t.type;if(null!=r)"number"===e?(0===r&&""===n.value||n.value!=r)&&(n.value=""+r):n.value!==""+r&&(n.value=""+r);else if("submit"===e||"reset"===e)return void n.removeAttribute("value");t.hasOwnProperty("value")?Kt(n,t.type,r):t.hasOwnProperty("defaultValue")&&Kt(n,t.type,Ot(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(n.defaultChecked=!!t.defaultChecked)}function qt(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(("submit"===r||"reset"===r)&&(void 0===t.value||null===t.value))return;r=""+e._wrapperState.initialValue;n||r!==e.value&&(e.value=r),e.defaultValue=r}t=e.name;""!==t&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==t&&(e.name=t)}function Yt(e,t){Ut(e,t);var n=e,e=t,t=e.name;if("radio"===e.type&&null!=t){for(var r=n;r.parentNode;)r=r.parentNode;for(var o=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),i=0;i<o.length;i++){var a=o[i];if(a!==n&&a.form===n.form){var s=ku(a);if(!s)throw new Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");zt(a),Ut(a,s)}}}}function Kt(e,t,n){"number"===t&&Lt(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Gt=!1,Zt=!1,Xt=!1;function Jt(e,t){null==t.value&&("object"==typeof t.children&&null!==t.children?n.Children.forEach(t.children,function(e){null==e||"string"==typeof e||"number"==typeof e||Zt||(Zt=!0,te("Cannot infer the option value of complex children. Pass a `value` prop or use a plain string as children to <option>."))}):null==t.dangerouslySetInnerHTML||Xt||(Xt=!0,te("Pass a `value` prop if you set dangerouslyInnerHTML so React knows which value should be selected."))),null==t.selected||Gt||(te("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),Gt=!0)}var Qt=Array.isArray;function en(e){return Qt(e)}function tn(){var e=Ct();return e?"\n\nCheck the render method of `"+e+"`.":""}var nn=!1,rn=["value","defaultValue"];function on(e,t,n,r){var o=e.options;if(t){for(var i=n,a={},s=0;s<i.length;s++)a["$"+i[s]]=!0;for(var l=0;l<o.length;l++){var c=a.hasOwnProperty("$"+o[l].value);o[l].selected!==c&&(o[l].selected=c),c&&r&&(o[l].defaultSelected=!0)}}else{for(var u=""+Ot(n),d=null,p=0;p<o.length;p++){if(o[p].value===u)return o[p].selected=!0,void(r&&(o[p].defaultSelected=!0));null!==d||o[p].disabled||(d=o[p])}null!==d&&(d.selected=!0)}}function an(e,t){return k({},t,{value:void 0})}function sn(e,t){var n=t;Mt(0,n);for(var r=0;r<rn.length;r++){var o,i=rn[r];null!=n[i]&&(o=en(n[i]),n.multiple&&!o?te("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",i,tn()):!n.multiple&&o&&te("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",i,tn()))}e._wrapperState={wasMultiple:!!t.multiple},void 0===t.value||void 0===t.defaultValue||nn||(te("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://reactjs.org/link/controlled-components"),nn=!0)}var ln=!1;function cn(e,t){if(null!=t.dangerouslySetInnerHTML)throw new Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");return k({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function un(e,t){Mt(0,t),void 0===t.value||void 0===t.defaultValue||ln||(te("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://reactjs.org/link/controlled-components",Ct()||"A component"),ln=!0);var n=t.value;if(null==n){var r=t.children,t=t.defaultValue;if(null!=r){if(te("Use the `defaultValue` or `value` props instead of setting children on <textarea>."),null!=t)throw new Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(en(r)){if(1<r.length)throw new Error("<textarea> can only have at most one child.");r=r[0]}t=r}n=t=null==t?"":t}e._wrapperState={initialValue:Ot(n)}}function dn(e,t){var n=Ot(t.value),r=Ot(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue)&&e.defaultValue!==n&&(e.defaultValue=n),null!=r&&(e.defaultValue=""+r)}function pn(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fn="http://www.w3.org/1999/xhtml",hn="http://www.w3.org/2000/svg";function mn(e){switch(e){case"svg":return hn;case"math":return"http://www.w3.org/1998/Math/MathML";default:return fn}}function gn(e,t){return null==e||e===fn?mn(t):e===hn&&"foreignObject"===t?fn:e}function vn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===Sn)return n.nodeValue=t}e.textContent=t}bn=function(e,t){if(e.namespaceURI!==hn||"innerHTML"in e)e.innerHTML=t;else{(yn=yn||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>";for(var n=yn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}};var yn,bn,wn="undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return bn(e,t,n,r)})}:bn,xn=1,Sn=3,kn=8,Cn=9,En=11,Tn={animation:["animationDelay","animationDirection","animationDuration","animationFillMode","animationIterationCount","animationName","animationPlayState","animationTimingFunction"],background:["backgroundAttachment","backgroundClip","backgroundColor","backgroundImage","backgroundOrigin","backgroundPositionX","backgroundPositionY","backgroundRepeat","backgroundSize"],backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:["borderBottomColor","borderBottomStyle","borderBottomWidth","borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRightColor","borderRightStyle","borderRightWidth","borderTopColor","borderTopStyle","borderTopWidth"],borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:["fontFamily","fontFeatureSettings","fontKerning","fontLanguageOverride","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition","fontWeight","lineHeight"],fontVariant:["fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition"],gap:["columnGap","rowGap"],grid:["gridAutoColumns","gridAutoFlow","gridAutoRows","gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:["maskClip","maskComposite","maskImage","maskMode","maskOrigin","maskPositionX","maskPositionY","maskRepeat","maskSize"],maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},_n={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rn=["Webkit","ms","Moz","O"];function On(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||_n.hasOwnProperty(e)&&_n[e]?(""+t).trim():t+"px"}Object.keys(_n).forEach(function(t){Rn.forEach(function(e){_n[e+(e=t).charAt(0).toUpperCase()+e.substring(1)]=_n[t]})});var In=/([A-Z])/g,Mn=/^ms-/,Dn=/^(?:webkit|moz|o)[A-Z]/,Nn=/^-ms-/,Pn=/-(.)/g,zn=/;\s*$/,Ln={},jn={},An=!1,Fn=!1,$n=function(e){Ln.hasOwnProperty(e)&&Ln[e]||(Ln[e]=!0,te("Unsupported style property %s. Did you mean %s?",e,e.replace(Nn,"ms-").replace(Pn,function(e,t){return t.toUpperCase()})))},Bn=function(e){Ln.hasOwnProperty(e)&&Ln[e]||(Ln[e]=!0,te("Unsupported vendor-prefixed style property %s. Did you mean %s?",e,e.charAt(0).toUpperCase()+e.slice(1)))},Vn=function(e,t){jn.hasOwnProperty(t)&&jn[t]||(jn[t]=!0,te('Style property values shouldn\'t contain a semicolon. Try "%s: %s" instead.',e,t.replace(zn,"")))},Hn=function(e,t){An||(An=!0,te("`NaN` is an invalid value for the `%s` css style property.",e))},Wn=function(e,t){Fn||(Fn=!0,te("`Infinity` is an invalid value for the `%s` css style property.",e))},Un=function(e,t){-1<e.indexOf("-")?$n(e):Dn.test(e)?Bn(e):zn.test(t)&&Vn(e,t),"number"==typeof t&&(isNaN(t)?Hn(e,t):isFinite(t)||Wn(e,t))};function qn(e){var t,n,r,o="",i="";for(t in e)e.hasOwnProperty(t)&&null!=(n=e[t])&&(o=(o+=i+((r=0===t.indexOf("--"))?t:t.replace(In,"-$1").toLowerCase().replace(Mn,"-ms-"))+":")+On(t,n,r),i=";");return o||null}function Yn(e,t){var n,r,o,i=e.style;for(n in t)t.hasOwnProperty(n)&&((r=0===n.indexOf("--"))||Un(n,t[n]),o=On(n,t[n],r),"float"===n&&(n="cssFloat"),r?i.setProperty(n,o):i[n]=o)}function Kn(e){var t,n={};for(t in e)for(var r=Tn[t]||[t],o=0;o<r.length;o++)n[r[o]]=t;return n}var Gn=k({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zn(e,t){if(t){if(Gn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw new Error(e+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw new Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw new Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://reactjs.org/link/dangerously-set-inner-html for more information.")}if(!t.suppressContentEditableWarning&&t.contentEditable&&null!=t.children&&te("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),null!=t.style&&"object"!=typeof t.style)throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.")}}function Xn(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jn={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",imagesizes:"imageSizes",imagesrcset:"imageSrcSet",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},Qn={"aria-current":0,"aria-description":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},er={},tr=new RegExp("^(aria)-["+e+"]*$"),nr=new RegExp("^(aria)[A-Z]["+e+"]*$");function rr(e,t){var n,r=[];for(n in t)(function(e){if(!V.call(er,e)||!er[e]){if(nr.test(e)){var t="aria-"+e.slice(4).toLowerCase(),t=Qn.hasOwnProperty(t)?t:null;if(null==t)return te("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",e),er[e]=!0;if(e!==t)return te("Invalid ARIA attribute `%s`. Did you mean `%s`?",e,t),er[e]=!0}if(tr.test(e)){t=e.toLowerCase(),t=Qn.hasOwnProperty(t)?t:null;if(null==t)return!(er[e]=!0);if(e!==t)return te("Unknown ARIA attribute `%s`. Did you mean `%s`?",e,t),er[e]=!0}}return!0})(n)||r.push(n);t=r.map(function(e){return"`"+e+"`"}).join(", ");1===r.length?te("Invalid aria prop %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",t,e):1<r.length&&te("Invalid aria props %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",t,e)}var or=!1;function ir(e,t,n){var r,o=[];for(r in t)ar(e,r,t[r],n)||o.push(r);var i=o.map(function(e){return"`"+e+"`"}).join(", ");1===o.length?te("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",i,e):1<o.length&&te("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",i,e)}var ar=function(){},sr={},lr=/^on./,cr=/^on[^A-Z]/,ur=new RegExp("^(aria)-["+e+"]*$"),dr=new RegExp("^(aria)[A-Z]["+e+"]*$"),ar=function(e,t,n,r){if(V.call(sr,t)&&sr[t])return!0;var o=t.toLowerCase();if("onfocusin"===o||"onfocusout"===o)return te("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),sr[t]=!0;if(null!=r){var i=r.registrationNameDependencies,r=r.possibleRegistrationNames;if(i.hasOwnProperty(t))return!0;i=r.hasOwnProperty(o)?r[o]:null;if(null!=i)return te("Invalid event handler property `%s`. Did you mean `%s`?",t,i),sr[t]=!0;if(lr.test(t))return te("Unknown event handler property `%s`. It will be ignored.",t),sr[t]=!0}else if(lr.test(t))return cr.test(t)&&te("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",t),sr[t]=!0;if(ur.test(t)||dr.test(t))return!0;if("innerhtml"===o)return te("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),sr[t]=!0;if("aria"===o)return te("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),sr[t]=!0;if("is"===o&&null!=n&&"string"!=typeof n)return te("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof n),sr[t]=!0;if("number"==typeof n&&isNaN(n))return te("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",t),sr[t]=!0;r=Oe(t),i=null!==r&&r.type===H;if(Jn.hasOwnProperty(o)){var a=Jn[o];if(a!==t)return te("Invalid DOM property `%s`. Did you mean `%s`?",t,a),sr[t]=!0}else if(!i&&t!==o)return te("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",t,o),sr[t]=!0;return"boolean"==typeof n&&_e(t,n,r,!1)?(n?te('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',n,t,t,n,t):te('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',n,t,t,n,t,t,t),sr[t]=!0):i||(_e(t,n,r,!1)?!(sr[t]=!0):"false"!==n&&"true"!==n||null===r||r.type!==U||(te("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",n,t,"false"===n?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',t,n),sr[t]=!0))},pr=1,fr=2,hr=4,mr=pr|fr|hr,gr=null;function vr(e){e=e.target||e.srcElement||window;return(e=e.correspondingUseElement?e.correspondingUseElement:e).nodeType===Sn?e.parentNode:e}var yr=null,br=null,wr=null;function xr(e){e=xu(e);if(e){if("function"!=typeof yr)throw new Error("setRestoreImplementation() needs to be called to handle a target for controlled events. This error is likely caused by a bug in React. Please file an issue.");var t=e.stateNode;t&&(t=ku(t),yr(e.stateNode,e.type,t))}}function Sr(e){br?wr?wr.push(e):wr=[e]:br=e}function kr(){if(br){var e=br,t=wr;if(wr=br=null,xr(e),t)for(var n=0;n<t.length;n++)xr(t[n])}}var Cr=function(e,t){return e(t)},Er=function(){},Tr=!1;function _r(){null===br&&null===wr||(Er(),kr())}function Rr(e,t,n){if(Tr)return e(t,n);Tr=!0;try{Cr(e,t,n)}finally{Tr=!1,_r()}}function Or(e,t){var n=e.stateNode;if(null===n)return null;n=ku(n);if(null===n)return null;var r=n[t];if(function(e,t,n){switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":return n.disabled&&("button"===(r=t)||"input"===r||"select"===r||"textarea"===r);default:return}var r}(t,e.type,n))return null;if(r&&"function"!=typeof r)throw new Error("Expected `"+t+"` listener to be a function, instead got a value of `"+typeof r+"` type.");return r}var Ir=!1;if(B)try{var Mr={};Object.defineProperty(Mr,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",Mr,Mr),window.removeEventListener("test",Mr,Mr)}catch(e){Ir=!1}function Dr(e,t,n,r,o,i,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var Nr,Pr=Dr,zr=("undefined"!=typeof window&&"function"==typeof window.dispatchEvent&&"undefined"!=typeof document&&"function"==typeof document.createEvent&&(Nr=document.createElement("react"),Pr=function(e,t,n,r,o,i,a,s,l){if("undefined"==typeof document||null===document)throw new Error("The `document` global was defined when React was initialized, but is not defined anymore. This can happen in a test environment if a component schedules an update from an asynchronous callback, but the test has already finished running. To solve this, you can either unmount the component at the end of your test (and ensure that any asynchronous operations get canceled in `componentWillUnmount`), or you can change the test itself to be asynchronous.");var c=document.createEvent("Event"),u=!1,d=!0,p=window.event,f=Object.getOwnPropertyDescriptor(window,"event");function h(){Nr.removeEventListener(x,v,!1),void 0!==window.event&&window.hasOwnProperty("event")&&(window.event=p)}var m,g=Array.prototype.slice.call(arguments,3);function v(){u=!0,h(),t.apply(n,g),d=!1}var y=!1,b=!1;function w(e){if(m=e.error,y=!0,null===m&&0===e.colno&&0===e.lineno&&(b=!0),e.defaultPrevented&&null!=m&&"object"==typeof m)try{m._suppressLogging=!0}catch(e){}}var x="react-"+(e||"invokeguardedcallback");if(window.addEventListener("error",w),Nr.addEventListener(x,v,!1),c.initEvent(x,!1,!1),Nr.dispatchEvent(c),f&&Object.defineProperty(window,"event",f),u&&d&&(y?b&&(m=new Error("A cross-origin error was thrown. React doesn't have access to the actual error object in development. See https://reactjs.org/link/crossorigin-error for more information.")):m=new Error("An error was thrown inside one of your components, but React doesn't know what it was. This is likely due to browser flakiness. React does its best to preserve the \"Pause on exceptions\" behavior of the DevTools, which requires some DEV-mode only tricks. It's possible that these don't work in your browser. Try triggering the error in production mode, or switching to a modern browser. If you suspect that this is actually an issue with React, please file an issue."),this.onError(m)),window.removeEventListener("error",w),!u)return h(),Dr.apply(this,arguments)}),Pr),Lr=!1,jr=null,Ar=!1,Fr=null,$r={onError:function(e){Lr=!0,jr=e}};function Br(e,t,n,r,o,i,a,s,l){Lr=!1,jr=null,zr.apply($r,arguments)}function Vr(){var e;if(Lr)return e=jr,Lr=!1,jr=null,e;throw new Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.")}function Hr(e){return e._reactInternals}var ee=0,Wr=1,Ur=2,oe=4,qr=16,Yr=32,ie=128,Kr=256,Gr=512,Zr=1024,Xr=2048,Jr=4096,Qr=8192,eo=16384,to=Xr|oe|64|Gr|Zr|eo,no=32767,ro=32768,oo=65536,io=131072,ao=1048576,so=2097152,lo=4194304,co=8388608,uo=16777216,po=33554432,fo=oe|Zr|0,ho=Ur|oe|qr|Yr|Gr|Jr|Qr,mo=64|oe|Gr|Qr,go=Xr|qr,vo=lo|co|so,yo=s.ReactCurrentOwner;function bo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else for(var r=t;((t=r).flags&(Ur|Jr))!==ee&&(n=t.return),r=t.return;);return t.tag===K?n:null}function wo(e){if(e.tag===X){var t=e.memoizedState;if(null!==(t=null===t&&null!==(e=e.alternate)?e.memoizedState:t))return t.dehydrated}return null}function xo(e){return e.tag===K?e.stateNode.containerInfo:null}function So(e){if(bo(e)!==e)throw new Error("Unable to find node on an unmounted component.")}function ko(e){var t=e.alternate;if(!t){var n=bo(e);if(null===n)throw new Error("Unable to find node on an unmounted component.");return n!==e?null:e}for(var r=e,o=t;;){var i=r.return;if(null===i)break;var a=i.alternate;if(null===a){var s=i.return;if(null===s)break;r=o=s}else{if(i.child===a.child){for(var l=i.child;l;){if(l===r)return So(i),e;if(l===o)return So(i),t;l=l.sibling}throw new Error("Unable to find node on an unmounted component.")}if(r.return!==o.return)r=i,o=a;else{for(var c=!1,u=i.child;u;){if(u===r){c=!0,r=i,o=a;break}if(u===o){c=!0,o=i,r=a;break}u=u.sibling}if(!c){for(u=a.child;u;){if(u===r){c=!0,r=a,o=i;break}if(u===o){c=!0,o=a,r=i;break}u=u.sibling}if(!c)throw new Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(r.alternate!==o)throw new Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}}if(r.tag!==K)throw new Error("Unable to find node on an unmounted component.");return r.stateNode.current===r?e:t}function Co(e){e=ko(e);return null!==e?function e(t){if(t.tag===G||t.tag===re)return t;var n=t.child;for(;null!==n;){var r=e(n);if(null!==r)return r;n=n.sibling}return null}(e):null}function Eo(e){e=ko(e);return null!==e?function e(t){if(t.tag===G||t.tag===re)return t;var n=t.child;for(;null!==n;){if(n.tag!==ne){var r=e(n);if(null!==r)return r}n=n.sibling}return null}(e):null}var To=r.unstable_scheduleCallback,_o=r.unstable_cancelCallback,Ro=r.unstable_shouldYield,Oo=r.unstable_requestPaint,Io=r.unstable_now,Mo=r.unstable_getCurrentPriorityLevel,Do=r.unstable_ImmediatePriority,No=r.unstable_UserBlockingPriority,Po=r.unstable_NormalPriority,zo=r.unstable_LowPriority,Lo=r.unstable_IdlePriority,jo=r.unstable_yieldValue,Ao=r.unstable_setDisableYieldValue,Fo=null,$o=null,w=null,Bo=!1,Vo="undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__;function Ho(e){if("function"==typeof jo&&(Ao(e),u=e),$o&&"function"==typeof $o.setStrictMode)try{$o.setStrictMode(Fo,e)}catch(e){Bo||(Bo=!0,te("React instrumentation encountered an error: %s",e))}}function Wo(e){w=e}function Uo(){for(var e=new Map,t=1,n=0;n<ii;n++){var r=function(e){if(e&S)return"Sync";if(e&si)return"InputContinuousHydration";if(e&li)return"InputContinuous";if(e&ci)return"DefaultHydration";if(e&ui)return"Default";if(e&di)return"TransitionHydration";if(e&pi)return"Transition";if(e&Oi)return"Retry";if(e&Li)return"SelectiveHydration";if(e&Ai)return"IdleHydration";if(e&Fi)return"Idle";if(e&$i)return"Offscreen"}(t);e.set(t,r),t*=2}return e}function qo(){null!==w&&"function"==typeof w.markCommitStopped&&w.markCommitStopped()}function Yo(e){null!==w&&"function"==typeof w.markComponentRenderStarted&&w.markComponentRenderStarted(e)}function Ko(){null!==w&&"function"==typeof w.markComponentRenderStopped&&w.markComponentRenderStopped()}function Go(e){null!==w&&"function"==typeof w.markComponentLayoutEffectUnmountStarted&&w.markComponentLayoutEffectUnmountStarted(e)}function Zo(){null!==w&&"function"==typeof w.markComponentLayoutEffectUnmountStopped&&w.markComponentLayoutEffectUnmountStopped()}function Xo(e){null!==w&&"function"==typeof w.markRenderStarted&&w.markRenderStarted(e)}function Jo(){null!==w&&"function"==typeof w.markRenderStopped&&w.markRenderStopped()}function Qo(e,t){null!==w&&"function"==typeof w.markStateUpdateScheduled&&w.markStateUpdateScheduled(e,t)}var E=0,b=1,x=2,ei=8,ti=16,ni=Math.clz32||function(e){e>>>=0;return 0!=e?31-(ri(e)/oi|0)|0:32},ri=Math.log,oi=Math.LN2,ii=31,ae=0,ai=0,S=1,si=2,li=4,ci=8,ui=16,di=32,pi=4194240,fi=64,hi=128,mi=256,gi=512,vi=1024,yi=2048,bi=4096,wi=8192,xi=16384,Si=32768,ki=65536,Ci=131072,Ei=262144,Ti=524288,_i=1048576,Ri=2097152,Oi=130023424,Ii=4194304,Mi=8388608,Di=16777216,Ni=33554432,Pi=67108864,zi=Ii,Li=134217728,ji=268435455,Ai=268435456,Fi=536870912,$i=1073741824,T=-1,Bi=fi,Vi=Ii;function Hi(e){switch(Ji(e)){case S:return S;case si:return si;case li:return li;case ci:return ci;case ui:return ui;case di:return di;case fi:case hi:case mi:case gi:case vi:case yi:case bi:case wi:case xi:case Si:case ki:case Ci:case Ei:case Ti:case _i:case Ri:return e&pi;case Ii:case Mi:case Di:case Ni:case Pi:return e&Oi;case Li:return Li;case Ai:return Ai;case Fi:return Fi;case $i:return $i;default:return te("Should have found matching lanes. This is a bug in React."),e}}function Wi(e,t){var n=e.pendingLanes;if(n===ae)return ae;var r=ae,o=e.suspendedLanes,i=e.pingedLanes,a=n&ji;if(a!==ae?(s=a&~o)!==ae?r=Hi(s):(s=a&i)!==ae&&(r=Hi(s)):(a=n&~o)!==ae?r=Hi(a):i!==ae&&(r=Hi(i)),r===ae)return ae;if(t!==ae&&t!==r&&(t&o)===ae){var s=Ji(r),a=Ji(t);if(a<=s||s===ui&&(a&pi)!==ae)return t}(r&li)!==ae&&(r|=n&ui);i=e.entangledLanes;if(i!==ae)for(var l=e.entanglements,c=r&i;0<c;){var u=ea(c);r|=l[u],c&=~(1<<u)}return r}function Ui(e,t){for(var n=e.pendingLanes,r=e.suspendedLanes,o=e.pingedLanes,i=e.expirationTimes,a=n;0<a;){var s=ea(a),l=1<<s,c=i[s];c===T?(l&r)!==ae&&(l&o)===ae||(i[s]=function(e,t){switch(e){case S:case si:case li:return t+250;case ci:case ui:case di:case fi:case hi:case mi:case gi:case vi:case yi:case bi:case wi:case xi:case Si:case ki:case Ci:case Ei:case Ti:case _i:case Ri:return t+5e3;case Ii:case Mi:case Di:case Ni:case Pi:return T;case Li:case Ai:case Fi:case $i:return T;default:return te("Should have found matching lanes. This is a bug in React."),T}}(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function qi(e){e=e.pendingLanes&~$i;return e!==ae?e:e&$i?$i:ae}function Yi(e){return(e&ji)!==ae}function Ki(e){return(e&Oi)===e}function Gi(e,t){return(t&(si|li|ci|ui))!==ae}function Zi(e){return(e&pi)!==ae}function Xi(){var e=Bi;return((Bi<<=1)&pi)===ae&&(Bi=fi),e}function Ji(e){return e&-e}function Qi(e){return Ji(e)}function ea(e){return 31-ni(e)}function ta(e){return ea(e)}function na(e,t){return(e&t)!==ae}function ra(e,t){return(e&t)===t}function oa(e){for(var t=[],n=0;n<ii;n++)t.push(e);return t}function ia(e,t,n){e.pendingLanes|=t,t!==Fi&&(e.suspendedLanes=ae,e.pingedLanes=ae),e.eventTimes[ta(t)]=n}function aa(e,t){e.pingedLanes|=e.suspendedLanes&t}function sa(e,t){for(var n=e.entangledLanes|=t,r=e.entanglements,o=n;o;){var i=ea(o),a=1<<i;a&t|r[i]&t&&(r[i]|=t),o&=~a}}function la(e,t,n){if(Vo)for(var r=e.pendingUpdatersLaneMap;0<n;){var o=ta(n),i=1<<o;r[o].add(t),n&=~i}}function ca(e,t){if(Vo)for(var n=e.pendingUpdatersLaneMap,r=e.memoizedUpdaters;0<t;){var o=ta(t),i=1<<o,o=n[o];0<o.size&&(o.forEach(function(e){var t=e.alternate;null!==t&&r.has(t)||r.add(e)}),o.clear()),t&=~i}}var ua,da,pa,fa,ha,ma=S,ga=li,va=ui,ya=Fi,ba=ai;function wa(){return ba}function xa(e){ba=e}function Sa(e,t){return 0!==e&&e<t}function ka(e){e=Ji(e);return Sa(ma,e)?Sa(ga,e)?Yi(e)?va:ya:ga:ma}function Ca(e){return e.current.memoizedState.isDehydrated}var Ea=!1,Ta=[],_a=null,Ra=null,Oa=null,Ia=new Map,Ma=new Map,Da=[],Na=["mousedown","mouseup","touchcancel","touchend","touchstart","auxclick","dblclick","pointercancel","pointerdown","pointerup","dragend","dragstart","drop","compositionend","compositionstart","keydown","keypress","keyup","input","textInput","copy","cut","paste","click","change","contextmenu","reset","submit"];function Pa(e,t){switch(e){case"focusin":case"focusout":_a=null;break;case"dragenter":case"dragleave":Ra=null;break;case"mouseover":case"mouseout":Oa=null;break;case"pointerover":case"pointerout":var n=t.pointerId;Ia.delete(n);break;case"gotpointercapture":case"lostpointercapture":n=t.pointerId;Ma.delete(n)}}function za(e,t,n,r,o,i){if(null===e||e.nativeEvent!==i)return n={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&null!==(i=xu(t))&&da(i),n;e.eventSystemFlags|=r;t=e.targetContainers;return null!==o&&-1===t.indexOf(o)&&t.push(o),e}function La(e){var t=wu(e.target);if(null!==t){var n=bo(t);if(null!==n){t=n.tag;if(t===X){var r=wo(n);if(null!==r)return e.blockedOn=r,void ha(e.priority,function(){pa(n)})}else if(t===K)if(Ca(n.stateNode))return void(e.blockedOn=xo(n))}}e.blockedOn=null}function ja(e){if(null===e.blockedOn){for(var t,n=e.targetContainers;0<n.length;){var r,o=n[0],o=Ga(e.domEventName,e.eventSystemFlags,0,e.nativeEvent);if(null!==o)return null!==(r=xu(o))&&da(r),void(e.blockedOn=o);o=new(r=e.nativeEvent).constructor(r.type,r),t=o,null!==gr&&te("Expected currently replaying event to be null. This error is likely caused by a bug in React. Please file an issue."),gr=t,r.target.dispatchEvent(o),null===gr&&te("Expected currently replaying event to not be null. This error is likely caused by a bug in React. Please file an issue."),gr=null,n.shift()}return 1}}function Aa(e,t,n){ja(e)&&n.delete(t)}function Fa(){Ea=!1,null!==_a&&ja(_a)&&(_a=null),null!==Ra&&ja(Ra)&&(Ra=null),null!==Oa&&ja(Oa)&&(Oa=null),Ia.forEach(Aa),Ma.forEach(Aa)}function $a(e,t){e.blockedOn===t&&(e.blockedOn=null,Ea||(Ea=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Fa)))}function Ba(t){if(0<Ta.length){$a(Ta[0],t);for(var e=1;e<Ta.length;e++){var n=Ta[e];n.blockedOn===t&&(n.blockedOn=null)}}null!==_a&&$a(_a,t),null!==Ra&&$a(Ra,t),null!==Oa&&$a(Oa,t);function r(e){return $a(e,t)}Ia.forEach(r),Ma.forEach(r);for(var o=0;o<Da.length;o++){var i=Da[o];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Da.length;){var a=Da[0];if(null!==a.blockedOn)break;La(a),null===a.blockedOn&&Da.shift()}}var Va=s.ReactCurrentBatchConfig,Ha=!0;function Wa(e){Ha=!!e}function Ua(e,t,n,r){var o=ba,i=Va.transition;Va.transition=null;try{xa(ma),Ya(e,t,n,r)}finally{xa(o),Va.transition=i}}function qa(e,t,n,r){var o=ba,i=Va.transition;Va.transition=null;try{xa(ga),Ya(e,t,n,r)}finally{xa(o),Va.transition=i}}function Ya(e,t,n,r){if(Ha){var o=e,i=t,a=n,s=r,l=Ga(0,0,0,s);if(null===l)ql(o,i,s,Ka,a),Pa(o,s);else if(function(e,t,n,r,o){switch(t){case"focusin":return _a=za(_a,e,t,n,r,o),1;case"dragenter":return Ra=za(Ra,e,t,n,r,o),1;case"mouseover":return Oa=za(Oa,e,t,n,r,o),1;case"pointerover":var i=o,a=i.pointerId;return Ia.set(a,za(Ia.get(a)||null,e,t,n,r,i)),1;case"gotpointercapture":a=o,i=a.pointerId;return Ma.set(i,za(Ma.get(i)||null,e,t,n,r,a)),1}}(l,o,i,a,s))s.stopPropagation();else if(Pa(o,s),i&hr&&function(e){return-1<Na.indexOf(e)}(o)){for(;null!==l;){var c=xu(l),c=(null!==c&&!function(e){ua(e)}(c),Ga(0,0,0,s));if(null===c&&ql(o,i,s,Ka,a),c===l)break;l=c}null!==l&&s.stopPropagation()}else ql(o,i,s,null,a)}}var Ka=null;function Ga(e,t,n,r){Ka=null;r=wu(vr(r));if(null!==r){var o=bo(r);if(null===o)r=null;else{var i=o.tag;if(i===X){var a=wo(o);if(null!==a)return a;r=null}else if(i===K){if(Ca(o.stateNode))return xo(o);r=null}else o!==r&&(r=null)}}return Ka=r,null}function Za(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return ma;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return ga;case"message":switch(Mo()){case Do:return ma;case No:return ga;case Po:case zo:return va;case Lo:return ya;default:return va}default:return va}}var Xa=null,Ja=null,Qa=null;function es(){if(!Qa){for(var e=Ja,t=e.length,n=ts(),r=n.length,o=0;o<t&&e[o]===n[o];o++);for(var i=t-o,a=1;a<=i&&e[t-a]===n[r-a];a++);Qa=n.slice(o,1<a?1-a:void 0)}return Qa}function ts(){return"value"in Xa?Xa.value:Xa.textContent}function ns(e){var t,n=e.keyCode;return"charCode"in e?0===(t=e.charCode)&&13===n&&(t=13):t=n,32<=(t=10===t?13:t)||13===t?t:0}function rs(){return!0}function os(){return!1}function is(s){function e(e,t,n,r,o){for(var i in this._reactName=e,this._targetInst=n,this.type=t,this.nativeEvent=r,this.target=o,this.currentTarget=null,s){var a;s.hasOwnProperty(i)&&(a=s[i],this[i]=a?a(r):r[i])}e=null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue;return this.isDefaultPrevented=e?rs:os,this.isPropagationStopped=os,this}return k(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rs)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rs)},persist:function(){},isPersistent:rs}),e}var as,ss,ls,cs=is(e={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0}),us=is(Mr=k({},e,{view:0,detail:0})),ds=is(Pr=k({},Mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ss,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:((e=e)!==ls&&(ss=ls&&"mousemove"===e.type?(as=e.screenX-ls.screenX,e.screenY-ls.screenY):as=0,ls=e),as)},movementY:function(e){return"movementY"in e?e.movementY:ss}})),ps=is(k({},Pr,{dataTransfer:0})),fs=is(k({},Mr,{relatedTarget:0})),hs=is(k({},e,{animationName:0,elapsedTime:0,pseudoElement:0})),ms=is(k({},e,{clipboardData:function(e){return("clipboardData"in e?e:window).clipboardData}})),gs=is(k({},e,{data:0})),vs=gs,ys={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ws={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xs(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=ws[e])&&!!t[e]}function Ss(e){return xs}var ks=is(k({},Mr,{key:function(e){if(e.key){var t=ys[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(t=ns(e))?"Enter":String.fromCharCode(t):"keydown"===e.type||"keyup"===e.type?bs[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ss,charCode:function(e){return"keypress"===e.type?ns(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ns(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Cs=is(k({},Pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Es=is(k({},Mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ss})),Ts=is(k({},e,{propertyName:0,elapsedTime:0,pseudoElement:0})),_s=is(k({},Pr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Rs=[9,13,27,32],Os=B&&"CompositionEvent"in window,Mr=null,Is=(B&&"documentMode"in document&&(Mr=document.documentMode),B&&"TextEvent"in window&&!Mr),Ms=B&&(!Os||Mr&&8<Mr&&Mr<=11),Ds=String.fromCharCode(32),Ns=!1;function Ps(e,t){switch(e){case"keyup":return-1!==Rs.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return 1;default:return}}function zs(e){e=e.detail;return"object"==typeof e&&"data"in e?e.data:null}function Ls(e){return"ko"===e.locale}var js=!1;function As(e,t,n,r,o){var i,a,s;Os?s=function(e){switch(e){case"compositionstart":return"onCompositionStart";case"compositionend":return"onCompositionEnd";case"compositionupdate":return"onCompositionUpdate"}}(t):js?Ps(t,r)&&(s="onCompositionEnd"):(a=r,"keydown"===t&&229===a.keyCode&&(s="onCompositionStart")),s&&(Ms&&!Ls(r)&&(js||"onCompositionStart"!==s?"onCompositionEnd"===s&&js&&(i=es()):(Xa=o,Ja=ts(),js=!0)),0<(a=Kl(n,s)).length)&&(n=new gs(s,t,null,r,o),e.push({event:n,listeners:a}),i?n.data=i:null!==(s=zs(r))&&(n.data=s))}function Fs(e,t){var n,r;if(js)return"compositionend"===e||!Os&&Ps(e,t)?(n=es(),Qa=Ja=Xa=null,js=!1,n):null;switch(e){case"paste":return null;case"keypress":if(!((r=t).ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ms&&!Ls(t)?null:t.data;default:return null}}function $s(e,t,n,r,o){t=(Is?function(e,t){switch(e){case"compositionend":return zs(t);case"keypress":return 32!==t.which?null:(Ns=!0,Ds);case"textInput":var n=t.data;return n===Ds&&Ns?null:n;default:return null}}:Fs)(t,r);t&&0<(n=Kl(n,"onBeforeInput")).length&&(r=new vs("onBeforeInput","beforeinput",null,r,o),e.push({event:r,listeners:n}),r.data=t)}var Bs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?Bs[e.type]:"textarea"===t}function Hs(e,t,n,r){Sr(r);t=Kl(t,"onChange");0<t.length&&(n=new cs("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ws=null,Us=null;function qs(e){$l(e,0)}function Ys(e){if(zt(Su(e)))return e}function Ks(e,t){if("change"===e)return t}var Gs=!1;function Zs(){Ws&&(Ws.detachEvent("onpropertychange",Xs),Us=Ws=null)}function Xs(e){var t;"value"===e.propertyName&&Ys(Us)&&(Hs(t=[],Us,e,vr(e)),Rr(qs,t))}function Js(e,t,n){"focusin"===e?(Zs(),Us=n,(Ws=t).attachEvent("onpropertychange",Xs)):"focusout"===e&&Zs()}function Qs(e,t){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ys(Us)}function el(e,t){if("click"===e)return Ys(t)}function tl(e,t){if("input"===e||"change"===e)return Ys(t)}function nl(e,t,n,r,o){var i,a,s,l=n?Su(n):window;if("select"===(a=(c=l).nodeName&&c.nodeName.toLowerCase())||"input"===a&&"file"===c.type?s=Ks:Vs(l)?Gs?s=tl:(s=Qs,i=Js):!(c=(a=l).nodeName)||"input"!==c.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type||(s=el),s){var c=s(t,n);if(c)return void Hs(e,c,r,o)}i&&i(t,l,n),"focusout"===t&&(s=(a=l)._wrapperState)&&s.controlled&&"number"===a.type&&Kt(a,"number",a.value)}function rl(e,t,n,r,o){var i,a,s,l,c,u="mouseover"===t||"pointerover"===t,d="mouseout"===t||"pointerout"===t;if(u&&r!==gr){var p=r.relatedTarget||r.fromElement;if(p&&(wu(p)||bu(p)))return}(d||u)&&(u=o.window===o?o:(p=o.ownerDocument)?p.defaultView||p.parentWindow:window,d?(i=n,null!==(a=(p=r.relatedTarget||r.toElement)?wu(p):null)&&(a!==bo(a)||a.tag!==G&&a.tag!==re)&&(a=null)):(i=null,a=n),i!==a)&&(d=ds,p="onMouseLeave",l="onMouseEnter",c="mouse","pointerout"!==t&&"pointerover"!==t||(d=Cs,p="onPointerLeave",l="onPointerEnter",c="pointer"),t=null==i?u:Su(i),u=null==a?u:Su(a),(p=new d(p,c+"leave",i,r,o)).target=t,p.relatedTarget=u,s=null,wu(o)===n&&((n=new d(l,c+"enter",a,r,o)).target=u,n.relatedTarget=t,s=n),d=e,l=p,c=s,r=a,u=(o=i)&&r?function(e,t){for(var n=e,r=t,o=0,i=n;i;i=Gl(i))o++;for(var a=0,s=r;s;s=Gl(s))a++;for(;0<o-a;)n=Gl(n),o--;for(;0<a-o;)r=Gl(r),a--;var l=o;for(;l--;){if(n===r||null!==r&&n===r.alternate)return n;n=Gl(n),r=Gl(r)}return null}(o,r):null,null!==o&&Zl(d,l,o,u,!1),null!==r)&&null!==c&&Zl(d,c,r,u,!0)}B&&(e="input",Gs=!!B&&((Pr=(e="on"+e)in document)||((Mr=document.createElement("div")).setAttribute(e,"return;"),Pr="function"==typeof Mr[e]),Pr)&&(!document.documentMode||9<document.documentMode));var ol="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function il(e,t){if(!ol(e,t)){if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++){var i=n[o];if(!V.call(t,i)||!ol(e[i],t[i]))return!1}}return!0}function al(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sl(e,t){for(var n,r=al(e),o=0;r;){if(r.nodeType===Sn){if(n=o+r.textContent.length,o<=t&&t<=n)return{node:r,offset:t-o};o=n}r=al(function(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}(r))}}function ll(e){var t=e.ownerDocument,t=t&&t.defaultView||window,t=t.getSelection&&t.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,r=t.anchorOffset,o=t.focusNode,t=t.focusOffset;try{n.nodeType,o.nodeType}catch(e){return null}var i=e,a=n,s=r,l=o,c=t,u=0,d=-1,p=-1,f=0,h=0,m=i,g=null;e:for(;;){for(var v=null;;){if(m!==a||0!==s&&m.nodeType!==Sn||(d=u+s),m!==l||0!==c&&m.nodeType!==Sn||(p=u+c),m.nodeType===Sn&&(u+=m.nodeValue.length),null===(v=m.firstChild))break;g=m,m=v}for(;;){if(m===i)break e;if(g===a&&++f===s&&(d=u),g===l&&++h===c&&(p=u),null!==(v=m.nextSibling))break;g=(m=g).parentNode}m=v}return-1!==d&&-1!==p?{start:d,end:p}:null}function cl(e){return e&&e.nodeType===Sn}function ul(e){return e&&e.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||!cl(t)&&(cl(n)?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(e.ownerDocument.documentElement,e)}function dl(){for(var e=window,t=Lt();t instanceof e.HTMLIFrameElement;){if(!function(e){try{return"string"==typeof e.contentWindow.location.href}catch(e){}}(t))return t;t=Lt((e=t.contentWindow).document)}return t}function pl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fl(){var e=dl();return{focusedElem:e,selectionRange:pl(e)?function(e){e="selectionStart"in e?{start:e.selectionStart,end:e.selectionEnd}:ll(e);return e||{start:0,end:0}}(e):null}}function hl(e){var t=dl(),n=e.focusedElem,e=e.selectionRange;if(t!==n&&ul(n)){if(null!==e&&pl(n)){var t=n,r=e.start,o=e.end;if(void 0===o&&(o=r),"selectionStart"in t)t.selectionStart=r,t.selectionEnd=Math.min(o,t.value.length);else{r=t;o=e;var i,a,t=r.ownerDocument||document,e=t&&t.defaultView||window;e.getSelection&&(e=e.getSelection(),a=r.textContent.length,i=Math.min(o.start,a),o=void 0===o.end?i:Math.min(o.end,a),!e.extend&&o<i&&(a=o,o=i,i=a),a=sl(r,i),r=sl(r,o),a)&&r&&(1===e.rangeCount&&e.anchorNode===a.node&&e.anchorOffset===a.offset&&e.focusNode===r.node&&e.focusOffset===r.offset||((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),o<i?(e.addRange(t),e.extend(r.node,r.offset)):(t.setEnd(r.node,r.offset),e.addRange(t))))}}for(var s=[],l=n;l=l.parentNode;)l.nodeType===xn&&s.push({element:l,left:l.scrollLeft,top:l.scrollTop});"function"==typeof n.focus&&n.focus();for(var c=0;c<s.length;c++){var u=s[c];u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}}var ml=B&&"documentMode"in document&&document.documentMode<=11,gl=null,vl=null,yl=null,bl=!1;function wl(e,t,n){var r=(r=n).window===r?r.document:r.nodeType===Cn?r:r.ownerDocument;bl||null==gl||gl!==Lt(r)||(r="selectionStart"in(r=gl)&&pl(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yl&&il(yl,r))||(yl=r,0<(r=Kl(vl,"onSelect")).length&&(t=new cs("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gl))}function xl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sl={animationend:xl("Animation","AnimationEnd"),animationiteration:xl("Animation","AnimationIteration"),animationstart:xl("Animation","AnimationStart"),transitionend:xl("Transition","TransitionEnd")},kl={},Cl={};function El(e){if(kl[e])return kl[e];if(Sl[e]){var t,n=Sl[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cl)return kl[e]=n[t]}return e}B&&(Cl=document.createElement("div").style,"AnimationEvent"in window||(delete Sl.animationend.animation,delete Sl.animationiteration.animation,delete Sl.animationstart.animation),"TransitionEvent"in window||delete Sl.transitionend.transition);var Tl=El("animationend"),_l=El("animationiteration"),Rl=El("animationstart"),Ol=El("transitionend"),Il=new Map,Ml=["abort","auxClick","cancel","canPlay","canPlayThrough","click","close","contextMenu","copy","cut","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","gotPointerCapture","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","lostPointerCapture","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","pointerCancel","pointerDown","pointerMove","pointerOut","pointerOver","pointerUp","progress","rateChange","reset","resize","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchStart","volumeChange","scroll","toggle","touchMove","waiting","wheel"];function Dl(e,t){Il.set(e,t),F(t,[e])}function Nl(e,t,n,r,o,i){var a=Il.get(t);if(void 0!==a){var s=cs,l=t;switch(t){case"keypress":if(0===ns(r))return;case"keydown":case"keyup":s=ks;break;case"focusin":l="focus",s=fs;break;case"focusout":l="blur",s=fs;break;case"beforeblur":case"afterblur":s=fs;break;case"click":if(2===r.button)return;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=ds;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=ps;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Es;break;case Tl:case _l:case Rl:s=hs;break;case Ol:s=Ts;break;case"scroll":s=us;break;case"wheel":s=_s;break;case"copy":case"cut":case"paste":s=ms;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cs}var i=0!=(i&hr),n=function(e,t,n,r){var o=null!==t?t+"Capture":null,i=n?o:t,a=[],s=e,l=null;for(;null!==s;){var c=s,u=c.stateNode;if(c.tag===G&&null!==u&&(l=u,null!==i)&&null!=(c=Or(s,i))&&a.push(Yl(s,c,l)),r)break;s=s.return}return a}(n,a,(r.type,i),!i&&"scroll"===t);0<n.length&&(i=new s(a,l,null,r,o),e.push({event:i,listeners:n}))}}for(var Pl=0;Pl<Ml.length;Pl++){var zl=Ml[Pl];Dl(zl.toLowerCase(),"on"+(zl[0].toUpperCase()+zl.slice(1)))}function Ll(e,t,n,r,o,i){if(Nl(e,t,n,r,o,i),0==(i&mr)){rl(e,t,n,r,o),nl(e,t,n,r,o);var a=e,i=t,s=n,l=r,c=o,u=s?Su(s):window;switch(i){case"focusin":!Vs(u)&&"true"!==u.contentEditable||(gl=u,vl=s,yl=null);break;case"focusout":yl=vl=gl=null;break;case"mousedown":bl=!0;break;case"contextmenu":case"mouseup":case"dragend":bl=!1,wl(a,l,c);break;case"selectionchange":if(ml)break;case"keydown":case"keyup":wl(a,l,c)}As(i=e,e=t,t=n,n=r,r=o),$s(i,e,t,n,r)}}Dl(Tl,"onAnimationEnd"),Dl(_l,"onAnimationIteration"),Dl(Rl,"onAnimationStart"),Dl("dblclick","onDoubleClick"),Dl("focusin","onFocus"),Dl("focusout","onBlur"),Dl(Ol,"onTransitionEnd"),$("onMouseEnter",["mouseout","mouseover"]),$("onMouseLeave",["mouseout","mouseover"]),$("onPointerEnter",["pointerout","pointerover"]),$("onPointerLeave",["pointerout","pointerover"]),F("onChange",["change","click","focusin","focusout","input","keydown","keyup","selectionchange"]),F("onSelect",["focusout","contextmenu","dragend","focusin","keydown","keyup","mousedown","mouseup","selectionchange"]),F("onBeforeInput",["compositionend","keypress","textInput","paste"]),F("onCompositionEnd",["compositionend","focusout","keydown","keypress","keyup","mousedown"]),F("onCompositionStart",["compositionstart","focusout","keydown","keypress","keyup","mousedown"]),F("onCompositionUpdate",["compositionupdate","focusout","keydown","keypress","keyup","mousedown"]);var jl=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","resize","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],Al=new Set(["cancel","close","invalid","load","scroll","toggle"].concat(jl));function Fl(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,i,a,s,l){var c;Br.apply(this,arguments),Lr&&(c=Vr(),Ar||(Ar=!0,Fr=c))}(r,t,void 0,e),e.currentTarget=null}function $l(e,t){for(var n=0!=(t&hr),r=0;r<e.length;r++){var o=e[r];!function(e,t,n){var r;if(n)for(var o=t.length-1;0<=o;o--){var i=t[o],a=i.instance,s=i.currentTarget,i=i.listener;if(a!==r&&e.isPropagationStopped())return;Fl(e,i,s),r=a}else for(var l=0;l<t.length;l++){var c=t[l],u=c.instance,d=c.currentTarget,c=c.listener;if(u!==r&&e.isPropagationStopped())return;Fl(e,c,d),r=u}}(o.event,o.listeners,n)}if(Ar)throw t=Fr,Ar=!1,Fr=null,t}function _(e,t){Al.has(e)||te('Did not expect a listenToNonDelegatedEvent() call for "%s". This is a bug in React. Please file an issue.',e);var n=function(e){var t=e[fu];void 0===t&&(t=e[fu]=new Set);return t}(t),r=e+"__"+"bubble";n.has(r)||(Wl(t,e,fr,!1),n.add(r))}function Bl(e,t,n){Al.has(e)&&!t&&te('Did not expect a listenToNativeEvent() call for "%s" in the bubble phase. This is a bug in React. Please file an issue.',e);var r=0;t&&(r|=hr),Wl(n,e,r,t)}var Vl="_reactListening"+Math.random().toString(36).slice(2);function Hl(t){var e;t[Vl]||(t[Vl]=!0,L.forEach(function(e){"selectionchange"!==e&&(Al.has(e)||Bl(e,!1,t),Bl(e,!0,t))}),null===(e=t.nodeType===Cn?t:t.ownerDocument))||e[Vl]||Bl("selectionchange",!(e[Vl]=!0),e)}function Wl(e,t,n,r){var o,n=function(e,t,n){var r;switch(Za(t)){case ma:r=Ua;break;case ga:r=qa;break;default:r=Ya}return r.bind(null,t,n,e)}(e,t,n),i=!Ir||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t?void 0:!0;r?void 0!==i?(r=n,o=i,e.addEventListener(t,r,{capture:!0,passive:o})):(r=n,e.addEventListener(t,r,!0)):void 0!==i?(o=n,r=i,e.addEventListener(t,o,{passive:r})):(i=n,e.addEventListener(t,i,!1))}function Ul(e,t){return e===t||e.nodeType===kn&&e.parentNode===t}function ql(n,r,o,e,t){var i=e;if(0==(r&pr)&&0==(r&fr)){var a=t;if(null!==e){var s=e;e:for(;;){if(null===s)return;var l=s.tag;if(l===K||l===ne){var c=s.stateNode.containerInfo;if(Ul(c,a))break;if(l===ne)for(var u=s.return;null!==u;){var d=u.tag;if(d===K||d===ne)if(Ul(u.stateNode.containerInfo,a))return;u=u.return}for(;null!==c;){var p=wu(c);if(null===p)return;var f=p.tag;if(f===G||f===re){s=i=p;continue e}c=c.parentNode}}s=s.return}}}Rr(function(){return e=r,Ll(t=[],n,i,o,vr(o),e),void $l(t,e);var e,t})}function Yl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kl(e,t){for(var n=t+"Capture",r=[],o=e;null!==o;){var i=o,a=i.stateNode;i.tag===G&&null!==a&&(i=a,null!=(a=Or(o,n))&&r.unshift(Yl(o,a,i)),null!=(a=Or(o,t)))&&r.push(Yl(o,a,i)),o=o.return}return r}function Gl(e){if(null===e)return null;for(;(e=e.return)&&e.tag!==G;);return e||null}function Zl(e,t,n,r,o){for(var i=t._reactName,a=[],s=n;null!==s&&s!==r;){var l=s,c=l.alternate,u=l.stateNode,l=l.tag;if(null!==c&&c===r)break;l===G&&null!==u&&(c=u,o?null!=(l=Or(s,i))&&a.unshift(Yl(s,l,c)):null!=(u=Or(s,i))&&a.push(Yl(s,u,c))),s=s.return}0!==a.length&&e.push({event:t,listeners:a})}var Xl=!1,Jl="dangerouslySetInnerHTML",Ql="suppressContentEditableWarning",ec="suppressHydrationWarning",tc="children",nc="style",rc="__html",oc={dialog:!0,webview:!0},ic=function(e,t){var n,r;Xn(r=e,n=t)||rr(r,n),r=t,"input"!==(n=e)&&"textarea"!==n&&"select"!==n||null==r||null!==r.value||or||(or=!0,"select"===n&&r.multiple?te("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",n):te("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",n)),r={registrationNameDependencies:j,possibleRegistrationNames:A},Xn(n=e,e=t)||ir(n,e,r)},ac=B&&!document.documentMode,sc=function(e,t,n){Xl||(n=fc(n),(t=fc(t))!==n&&(Xl=!0,te("Prop `%s` did not match. Server: %s Client: %s",e,JSON.stringify(t),JSON.stringify(n))))},lc=function(e){var t;Xl||(Xl=!0,t=[],e.forEach(function(e){t.push(e)}),te("Extra attributes from the server: %s",t))},cc=function(e,t){!1===t?te("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.",e,e,e):te("Expected `%s` listener to be a function, instead got a value of `%s` type.",e,typeof t)},uc=function(e,t){e=e.namespaceURI===fn?e.ownerDocument.createElement(e.tagName):e.ownerDocument.createElementNS(e.namespaceURI,e.tagName);return e.innerHTML=t,e.innerHTML},dc=/\r\n?/g,pc=/\u0000|\uFFFD/g;function fc(e){return("string"==typeof e?e:""+e).replace(dc,"\n").replace(pc,"")}function hc(e,t,n,r){t=fc(t),e=fc(e);if(e!==t&&(r&&!Xl&&(Xl=!0,te('Text content did not match. Server: "%s" Client: "%s"',e,t)),n))throw new Error("Text content does not match server-rendered HTML.")}function mc(e){return e.nodeType===Cn?e:e.ownerDocument}function gc(){}function vc(e){e.onclick=gc}function yc(e,t,n){var r,o,i,a,s,l,c=Xn(t,n);switch(ic(t,n),t){case"dialog":_("cancel",e),_("close",e),r=n;break;case"iframe":case"object":case"embed":_("load",e),r=n;break;case"video":case"audio":for(var u=0;u<jl.length;u++)_(jl[u],e);r=n;break;case"source":_("error",e),r=n;break;case"img":case"image":case"link":_("error",e),_("load",e),r=n;break;case"details":_("toggle",e),r=n;break;case"input":Ht(e,n),r=Vt(e,n),_("invalid",e);break;case"option":Jt(0,n),r=n;break;case"select":sn(e,n),r=an(0,n),_("invalid",e);break;case"textarea":un(e,n),r=cn(e,n),_("invalid",e);break;default:r=n}Zn(t,r);var d,p=t,f=e,h=r,m=c;for(d in h)h.hasOwnProperty(d)&&(o=h[d],d===nc?(o&&Object.freeze(o),Yn(f,o)):d===Jl?null!=(i=o?o[rc]:void 0)&&wn(f,i):d===tc?"string"==typeof o?"textarea"===p&&""===o||vn(f,o):"number"==typeof o&&vn(f,""+o):d!==Ql&&d!==ec&&"autoFocus"!==d&&(j.hasOwnProperty(d)?null!=o&&("function"!=typeof o&&cc(d,o),"onScroll"===d)&&_("scroll",f):null!=o&&Ae(f,d,o,m)));switch(t){case"input":Pt(e),qt(e,n,!1);break;case"textarea":Pt(e),pn(e);break;case"option":s=e,null!=(l=n).value&&s.setAttribute("value",""+Ot(l.value));break;case"select":s=n,(l=e).multiple=!!s.multiple,null!=(a=s.value)?on(l,!!s.multiple,a,!1):null!=s.defaultValue&&on(l,!!s.multiple,s.defaultValue,!0);break;default:"function"==typeof r.onClick&&vc(e)}}function bc(e,t,n,r){ic(t,r);var o,i,a,s,l=null;switch(t){case"input":o=Vt(e,n),i=Vt(e,r),l=[];break;case"select":o=an(0,n),i=an(0,r),l=[];break;case"textarea":o=cn(e,n),i=cn(e,r),l=[];break;default:i=r,"function"!=typeof(o=n).onClick&&"function"==typeof i.onClick&&vc(e)}Zn(t,i);var c=null;for(a in o)if(!i.hasOwnProperty(a)&&o.hasOwnProperty(a)&&null!=o[a])if(a===nc){var u=o[a];for(s in u)u.hasOwnProperty(s)&&((c=c||{})[s]="")}else a!==Jl&&a!==tc&&a!==Ql&&a!==ec&&"autoFocus"!==a&&(j.hasOwnProperty(a)?l=l||[]:(l=l||[]).push(a,null));for(a in i){var d,p,f=i[a],h=null!=o?o[a]:void 0;if(i.hasOwnProperty(a)&&f!==h&&(null!=f||null!=h))if(a===nc)if(f&&Object.freeze(f),h){for(s in h)!h.hasOwnProperty(s)||f&&f.hasOwnProperty(s)||((c=c||{})[s]="");for(s in f)f.hasOwnProperty(s)&&h[s]!==f[s]&&((c=c||{})[s]=f[s])}else c||(l=l||[]).push(a,c),c=f;else a===Jl?(d=f?f[rc]:void 0,p=h?h[rc]:void 0,null!=d&&p!==d&&(l=l||[]).push(a,d)):a===tc?"string"!=typeof f&&"number"!=typeof f||(l=l||[]).push(a,""+f):a!==Ql&&a!==ec&&(j.hasOwnProperty(a)?(null!=f&&("function"!=typeof f&&cc(a,f),"onScroll"===a)&&_("scroll",e),l||h===f||(l=[])):(l=l||[]).push(a,f))}if(c){var m,g=c,t=i[nc];if(t){var v,y=Kn(g),b=Kn(t),w={};for(v in y){var x=y[v],S=b[v];!S||x===S||w[m=x+","+S]||(w[m]=!0,te("%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",null==(m=g[x])||"boolean"==typeof m||""===m?"Removing":"Updating",x,S))}}(l=l||[]).push(nc,c)}return l}function wc(e,t,n,r,o){"input"===n&&"radio"===o.type&&null!=o.name&&Wt(e,o);Xn(n,r);for(var i,a,s,l,r=Xn(n,o),c=e,u=t,d=r,p=0;p<u.length;p+=2){var f=u[p],h=u[p+1];f===nc?Yn(c,h):f===Jl?wn(c,h):f===tc?vn(c,h):Ae(c,f,h,d)}switch(n){case"input":Ut(e,o);break;case"textarea":dn(e,o);break;case"select":a=o,s=(i=e)._wrapperState.wasMultiple,i._wrapperState.wasMultiple=!!a.multiple,null!=(l=a.value)?on(i,!!a.multiple,l,!1):s!==!!a.multiple&&(null!=a.defaultValue?on(i,!!a.multiple,a.defaultValue,!0):on(i,!!a.multiple,a.multiple?[]:"",!1))}}function xc(e,t,n,r,o,i,a){var s=Xn(t,n);switch(ic(t,n),t){case"dialog":_("cancel",e),_("close",e);break;case"iframe":case"object":case"embed":_("load",e);break;case"video":case"audio":for(var l=0;l<jl.length;l++)_(jl[l],e);break;case"source":_("error",e);break;case"img":case"image":case"link":_("error",e),_("load",e);break;case"details":_("toggle",e);break;case"input":Ht(e,n),_("invalid",e);break;case"option":Jt(0,n);break;case"select":sn(e,n),_("invalid",e);break;case"textarea":un(e,n),_("invalid",e)}Zn(t,n);for(var c=new Set,u=e.attributes,d=0;d<u.length;d++)switch(u[d].name.toLowerCase()){case"value":case"checked":case"selected":break;default:c.add(u[d].name)}var p,f,h,m,g,v,y=null;for(p in n)n.hasOwnProperty(p)&&(f=n[p],p===tc?"string"==typeof f?e.textContent!==f&&(!0!==n[ec]&&hc(e.textContent,f,i,a),y=[tc,f]):"number"==typeof f&&e.textContent!==""+f&&(!0!==n[ec]&&hc(e.textContent,f,i,a),y=[tc,""+f]):j.hasOwnProperty(p)?null!=f&&("function"!=typeof f&&cc(p,f),"onScroll"===p)&&_("scroll",e):a&&"boolean"==typeof s&&(m=void 0,v=Oe(p),!0!==n[ec])&&p!==Ql&&p!==ec&&"value"!==p&&"checked"!==p&&"selected"!==p&&(p===Jl?(h=e.innerHTML,null!=(g=f?f[rc]:void 0)&&(g=uc(e,g))!==h&&sc(p,h,g)):p===nc?(c.delete(p),ac&&(h=qn(f))!==(m=e.getAttribute("style"))&&sc(p,m,h)):s?(c.delete(p.toLowerCase()),f!==(m=je(e,p,f))&&sc(p,m,f)):Te(p,v,s)||Re(p,f,v,s)||(g=!1,f===(m=null!==v?(c.delete(v.attributeName),function(e,t,n,r){if(r.mustUseProperty)return e[r.propertyName];r.sanitizeURL&&Le(""+n);var o,i=r.attributeName,a=null;if(r.type===xe){if(e.hasAttribute(i))return""===(o=e.getAttribute(i))||(!Re(t,n,r,!1)&&o===""+n?n:o)}else if(e.hasAttribute(i)){if(Re(t,n,r,!1))return e.getAttribute(i);if(r.type===U)return n;a=e.getAttribute(i)}return Re(t,n,r,!1)?null===a?n:a:a===""+n?n:a}(e,p,f,v)):((v=(v=r)===fn?mn(t):v)===fn?c.delete(p.toLowerCase()):(v=(v=p).toLowerCase(),null!==(v=Jn.hasOwnProperty(v)&&Jn[v]||null)&&v!==p&&(g=!0,c.delete(v)),c.delete(p)),je(e,p,f))))||g||sc(p,m,f)));switch(a&&0<c.size&&!0!==n[ec]&&lc(c),t){case"input":Pt(e),qt(e,n,!0);break;case"textarea":Pt(e),pn(e);break;case"select":case"option":break;default:"function"==typeof n.onClick&&vc(e)}return y}function Sc(e,t){Xl||(Xl=!0,te("Did not expect server HTML to contain a <%s> in <%s>.",t.nodeName.toLowerCase(),e.nodeName.toLowerCase()))}function kc(e,t){Xl||(Xl=!0,te('Did not expect server HTML to contain the text node "%s" in <%s>.',t.nodeValue,e.nodeName.toLowerCase()))}function Cc(e,t){Xl||(Xl=!0,te("Expected server HTML to contain a matching <%s> in <%s>.",t,e.nodeName.toLowerCase()))}function Ec(e,t){""===t||Xl||(Xl=!0,te('Expected server HTML to contain a matching text node for "%s" in <%s>.',t,e.nodeName.toLowerCase()))}var Tc=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],_c=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],Rc=_c.concat(["button"]),Oc=["dd","dt","li","option","optgroup","p","rp","rt"],Ic={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null},Mc=function(e,t){var e=k({},e||Ic),n={tag:t};return-1!==_c.indexOf(t)&&(e.aTagInScope=null,e.buttonTagInScope=null,e.nobrTagInScope=null),-1!==Rc.indexOf(t)&&(e.pTagInButtonScope=null),-1!==Tc.indexOf(t)&&"address"!==t&&"div"!==t&&"p"!==t&&(e.listItemTagAutoclosing=null,e.dlItemTagAutoclosing=null),e.current=n,"form"===t&&(e.formTag=n),"a"===t&&(e.aTagInScope=n),"button"===t&&(e.buttonTagInScope=n),"nobr"===t&&(e.nobrTagInScope=n),"p"===t&&(e.pTagInButtonScope=n),"li"===t&&(e.listItemTagAutoclosing=n),"dd"!==t&&"dt"!==t||(e.dlItemTagAutoclosing=n),e},Dc=function(e,t){switch(t){case"select":return"option"===e||"optgroup"===e||"#text"===e;case"optgroup":return"option"===e||"#text"===e;case"option":return"#text"===e;case"tr":return"th"===e||"td"===e||"style"===e||"script"===e||"template"===e;case"tbody":case"thead":case"tfoot":return"tr"===e||"style"===e||"script"===e||"template"===e;case"colgroup":return"col"===e||"template"===e;case"table":return"caption"===e||"colgroup"===e||"tbody"===e||"tfoot"===e||"thead"===e||"style"===e||"script"===e||"template"===e;case"head":return"base"===e||"basefont"===e||"bgsound"===e||"link"===e||"meta"===e||"title"===e||"noscript"===e||"noframes"===e||"style"===e||"script"===e||"template"===e;case"html":return"head"===e||"body"===e||"frameset"===e;case"frameset":return"frame"===e;case"#document":return"html"===e}switch(e){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return"h1"!==t&&"h2"!==t&&"h3"!==t&&"h4"!==t&&"h5"!==t&&"h6"!==t;case"rp":case"rt":return-1===Oc.indexOf(t);case"body":case"caption":case"col":case"colgroup":case"frameset":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return null==t}return!0},Nc=function(e,t){switch(e){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return t.pTagInButtonScope;case"form":return t.formTag||t.pTagInButtonScope;case"li":return t.listItemTagAutoclosing;case"dd":case"dt":return t.dlItemTagAutoclosing;case"button":return t.buttonTagInScope;case"a":return t.aTagInScope;case"nobr":return t.nobrTagInScope}return null},Pc={},zc=function(e,t,n){var r,o=(n=n||Ic).current,i=o&&o.tag,i=(null!=t&&(null!=e&&te("validateDOMNesting: when childText is passed, childTag should be null"),e="#text"),Dc(e,i)?null:o),o=i?null:Nc(e,n),n=i||o;n&&(o=n.tag,Pc[n=!!i+"|"+e+"|"+o]||(Pc[n]=!0,n="","#text"===(r=e)?/\S/.test(t)?r="Text nodes":(r="Whitespace text nodes",n=" Make sure you don't have any extra whitespace between tags on each line of your source code."):r="<"+e+">",i?(t="","table"===o&&"tr"===e&&(t+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."),te("validateDOMNesting(...): %s cannot appear as a child of <%s>.%s%s",r,o,n,t)):te("validateDOMNesting(...): %s cannot appear as a descendant of <%s>.",r,o)))},Lc="suppressHydrationWarning",jc="$",Ac="/$",Fc="$?",$c="$!",Bc=null,Vc=null;function Hc(){Bc=Ha,Vc=fl();Wa(!1)}function Wc(e,t,n,r,o){zc(e,null,r.ancestorInfo),"string"!=typeof t.children&&"number"!=typeof t.children||(a=""+t.children,i=Mc(r.ancestorInfo,e),zc(null,a,i)),a=r.namespace,i=e,r=t,e=a,a=mc(a=n),(e=e===fn?mn(i):e)===fn?((s=Xn(i,r))||i===i.toLowerCase()||te("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",i),"script"===i?((l=a.createElement("div")).innerHTML="<script><\/script>",c=l.firstChild,l=l.removeChild(c)):"string"==typeof r.is?l=a.createElement(i,{is:r.is}):(l=a.createElement(i),"select"===i&&(c=l,r.multiple?c.multiple=!0:r.size&&(c.size=r.size)))):l=a.createElementNS(e,i),e!==fn||s||"[object HTMLUnknownElement]"!==Object.prototype.toString.call(l)||V.call(oc,i)||(oc[i]=!0,te("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",i));var i,a,s,l,c,n=l;return gu(o,n),Cu(n,t),n}function Uc(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}function qc(e,t,n,r){zc(null,e,n.ancestorInfo);n=mc(t).createTextNode(e);return gu(r,n),n}var Yc="function"==typeof setTimeout?setTimeout:void 0,Kc="function"==typeof clearTimeout?clearTimeout:void 0,Gc=-1,Zc="function"==typeof Promise?Promise:void 0,Xc="function"==typeof queueMicrotask?queueMicrotask:void 0!==Zc?function(e){return Zc.resolve(null).then(e).catch(Jc)}:Yc;function Jc(e){setTimeout(function(){throw e})}function Qc(e){vn(e,"")}function eu(e,t){e.appendChild(t)}function tu(e,t){e.nodeType===kn?(n=e.parentNode).insertBefore(t,e):(n=e).appendChild(t);var n,t=e._reactRootContainer;null==t&&null===n.onclick&&vc(n)}function nu(e,t,n){e.insertBefore(t,n)}function ru(e,t,n){(e.nodeType===kn?e.parentNode:e).insertBefore(t,n)}function ou(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===kn){var i=o.data;if(i===Ac){if(0===r)return e.removeChild(o),void Ba(t);r--}else i!==jc&&i!==Fc&&i!==$c||r++}}while(n=o);Ba(t)}function iu(e){return e.data===Fc}function au(e){return e.data===$c}function su(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(t===xn||t===Sn)break;if(t===kn){t=e.data;if(t===jc||t===$c||t===Fc)break;if(t===Ac)return null}}return e}function lu(e){return su(e.nextSibling)}function cu(e){for(var t=e.previousSibling,n=0;t;){if(t.nodeType===kn){var r=t.data;if(r===jc||r===$c||r===Fc){if(0===n)return t;n--}else r===Ac&&n++}t=t.previousSibling}return null}var uu="__reactFiber$"+(e=Math.random().toString(36).slice(2)),du="__reactProps$"+e,pu="__reactContainer$"+e,fu="__reactEvents$"+e,hu="__reactListeners$"+e,mu="__reactHandles$"+e;function gu(e,t){t[uu]=e}function vu(e,t){t[pu]=e}function yu(e){e[pu]=null}function bu(e){return!!e[pu]}function wu(e){var t=e[uu];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pu]||n[uu]){var r=t.alternate;if(null!==t.child||null!==r&&null!==r.child)for(var o=cu(e);null!==o;){var i=o[uu];if(i)return i;o=cu(o)}return t}n=(e=n).parentNode}return null}function xu(e){e=e[uu]||e[pu];return e&&(e.tag===G||e.tag===re||e.tag===X||e.tag===K)?e:null}function Su(e){if(e.tag===G||e.tag===re)return e.stateNode;throw new Error("getNodeFromInstance: Invalid argument.")}function ku(e){return e[du]||null}function Cu(e,t){e[du]=t}var Eu={},Tu=s.ReactDebugCurrentFrame;function _u(e){var t;e?(t=e._owner,e=function e(t,n,r){if(null!=t){if("function"==typeof t)return mt(t,!(!(o=(o=t).prototype)||!o.isReactComponent));var o;if("string"==typeof t)return pt(t);switch(t){case Ye:return pt("Suspense");case Ke:return pt("SuspenseList")}if("object"==typeof t)switch(t.$$typeof){case qe:return gt(t.render);case Ge:return e(t.type,n,r);case Ze:var i=t._payload,a=t._init;try{return e(a(i),n,r)}catch(e){}}}return""}(e.type,e._source,t?t.type:null),Tu.setExtraStackFrame(e)):Tu.setExtraStackFrame(null)}function Ru(e,t,n,r,o){var i,a=Function.call.bind(V);for(i in e)if(a(e,i)){var s,l=void 0;try{if("function"!=typeof e[i])throw(s=Error((r||"React class")+": "+n+" type `"+i+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[i]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.")).name="Invariant Violation",s;l=e[i](t,i,r,n,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(e){l=e}!l||l instanceof Error||(_u(o),te("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",n,i,typeof l),_u(null)),l instanceof Error&&!(l.message in Eu)&&(Eu[l.message]=!0,_u(o),te("Failed %s type: %s",n,l.message),_u(null))}}var Ou=[],Iu=[],Mu=-1;function Du(e){return{current:e}}function Nu(e,t){Mu<0?te("Unexpected pop."):(t!==Iu[Mu]&&te("Unexpected Fiber popped."),e.current=Ou[Mu],Ou[Mu]=null,Iu[Mu]=null,Mu--)}function Pu(e,t,n){Ou[++Mu]=e.current,Iu[Mu]=n,e.current=t}var zu={},Lu={},ju=(Object.freeze(Lu),Du(Lu)),Au=Du(!1),Fu=Lu;function $u(e,t,n){return n&&Wu(t)?Fu:ju.current}function Bu(e,t,n){e=e.stateNode;e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n}function Vu(e,t){var n=e.type.contextTypes;if(!n)return Lu;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return Ru(n,i,"context",C(e)||"Unknown"),r&&Bu(e,t,i),i}function Hu(){return Au.current}function Wu(e){e=e.childContextTypes;return null!=e}function Uu(e){Nu(Au,e),Nu(ju,e)}function qu(e){Nu(Au,e),Nu(ju,e)}function Yu(e,t,n){if(ju.current!==Lu)throw new Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");Pu(ju,t,e),Pu(Au,n,e)}function Ku(e,t,n){var r=e.stateNode,o=t.childContextTypes;if("function"!=typeof r.getChildContext)return t=C(e)||"Unknown",zu[t]||(zu[t]=!0,te("%s.childContextTypes is specified but there is no getChildContext() method on the instance. You can either define getChildContext() on %s or remove childContextTypes from it.",t,t)),n;var i,t=r.getChildContext();for(i in t)if(!(i in o))throw new Error((C(e)||"Unknown")+'.getChildContext(): key "'+i+'" is not defined in childContextTypes.');return Ru(o,t,"child context",C(e)||"Unknown"),k({},n,t)}function Gu(e){var t=e.stateNode,t=t&&t.__reactInternalMemoizedMergedChildContext||Lu;Fu=ju.current,Pu(ju,t,e),Pu(Au,Au.current,e)}function Zu(e,t,n){var r=e.stateNode;if(!r)throw new Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");n?(t=Ku(e,t,Fu),r.__reactInternalMemoizedMergedChildContext=t,Nu(Au,e),Nu(ju,e),Pu(ju,t,e)):Nu(Au,e),Pu(Au,n,e)}function Xu(e){if(bo(t=e)!==t||e.tag!==Y)throw new Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");var t,n=e;do{switch(n.tag){case K:return n.stateNode.context;case Y:if(Wu(n.type))return n.stateNode.__reactInternalMemoizedMergedChildContext}}while(null!==(n=n.return));throw new Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.")}var Ju=0,Qu=1,ed=null,td=!1,nd=!1;function rd(e){null===ed?ed=[e]:ed.push(e)}function od(){td&&id()}function id(){if(!nd&&null!==ed){nd=!0;var t=0,e=ba;try{var n=ed;for(xa(ma);t<n.length;t++)for(var r=n[t];null!==(r=r(!0)););ed=null,td=!1}catch(e){throw null!==ed&&(ed=ed.slice(t+1)),To(Do,id),e}finally{xa(e),nd=!1}}return null}var ad=[],sd=0,ld=null,cd=0,ud=[],dd=0,pd=null,fd=1,hd="";function md(){var e=hd;return(fd&~(1<<bd(fd)-1)).toString(32)+e}function gd(e,t){xd(),ad[sd++]=cd,ad[sd++]=ld,ld=e,cd=t}function vd(e,t,n){xd(),ud[dd++]=fd,ud[dd++]=hd,ud[dd++]=pd,pd=e;var r,o,i,e=fd,a=hd,s=bd(e)-1,e=e&~(1<<s),n=n+1,l=bd(t)+s;hd=30<l?(r=(e&(1<<(i=s-s%5))-1).toString(32),o=e>>i,i=s-i,t=bd(t)+i,fd=1<<t|(n<<i|o),r+a):(fd=1<<l|(n<<s|e),a)}function yd(e){xd(),null!==e.return&&(gd(e,1),vd(e,1,0))}function bd(e){return 32-ni(e)}function wd(e){for(;e===ld;)ld=ad[--sd],ad[sd]=null,cd=ad[--sd],ad[sd]=null;for(;e===pd;)pd=ud[--dd],ud[dd]=null,hd=ud[--dd],ud[dd]=null,fd=ud[--dd],ud[dd]=null}function xd(){se||te("Expected to be hydrating. This is a bug in React. Please file an issue.")}var Sd=null,kd=null,se=!1,Cd=!1,Ed=null;function Td(){Cd=!0}function _d(e){var t=e.stateNode.containerInfo;kd=su(t.firstChild),Sd=e,Cd=!(se=!(Ed=null))}function Rd(e,t,n){kd=su(t.nextSibling),Sd=e,Cd=!(se=!0),(Ed=null)!==n&&(t=e,e=n,xd(),ud[dd++]=fd,ud[dd++]=hd,ud[dd++]=pd,fd=e.id,hd=e.overflow,pd=t)}function Od(e,t){switch(e.tag){case K:i=e.stateNode.containerInfo,(a=t).nodeType===xn?Sc(i,a):a.nodeType!==kn&&kc(i,a);break;case G:i=(e.mode&b)!==E;e.type,a=e.memoizedProps,r=e.stateNode,o=t,!i&&!0===a[Lc]||(o.nodeType===xn?Sc(r,o):o.nodeType!==kn&&kc(r,o));break;case X:r=e.memoizedState;null!==r.dehydrated&&(o=r.dehydrated,n=t,null!==(o=o.parentNode))&&(n.nodeType===xn?Sc(o,n):n.nodeType!==kn&&kc(o,n))}var n,r,o,i,a}function Id(e,t){Od(e,t);(n=Ly(G,null,null,E)).elementType="DELETED";n.stateNode=t;var n,t=(n.return=e).deletions;null===t?(e.deletions=[n],e.flags|=qr):t.push(n)}function Md(e,t){if(!Cd)switch(e.tag){case K:var n=e.stateNode.containerInfo;switch(t.tag){case G:var r=t.type;t.pendingProps,Cc(n,r);break;case re:r=t.pendingProps;Ec(n,r)}break;case G:e.type;var o=e.memoizedProps,i=e.stateNode;switch(t.tag){case G:var a=t.type,s=(t.pendingProps,(e.mode&b)!==E);f=o,h=i,a=a,!s&&!0===f[Lc]||Cc(h,a);break;case re:s=t.pendingProps,f=(e.mode&b)!==E;h=o,a=i,p=s,!f&&!0===h[Lc]||Ec(a,p)}break;case X:var l=e.memoizedState.dehydrated;if(null!==l)switch(t.tag){case G:var c=t.type;t.pendingProps,c=c,null!==(d=(d=l).parentNode)&&Cc(d,c);break;case re:d=t.pendingProps;c=d,null!==(u=(u=l).parentNode)&&Ec(u,c)}}var u,d,p,f,h}function Dd(e,t){t.flags=t.flags&~Jr|Ur,Md(e,t)}function Nd(e,t){switch(e.tag){case G:var n=e.type,n=(e.pendingProps,n=n,(r=t).nodeType!==xn||n.toLowerCase()!==r.nodeName.toLowerCase()?null:r);return null!==n?(e.stateNode=n,Sd=e,kd=su(n.firstChild),1):void 0;case re:var r=e.pendingProps,o=(n=t,""===r||n.nodeType!==Sn?null:n);return null!==o?(e.stateNode=o,Sd=e,kd=null,1):void 0;case X:var i=(o=t).nodeType!==kn?null:o;return null!==i?(a={dehydrated:i,treeContext:(xd(),null!==pd?{id:fd,overflow:hd}:null),retryLane:$i},e.memoizedState=a,a=i,(i=Ly(g,null,null,E)).stateNode=a,((a=i).return=e).child=a,Sd=e,kd=null,1):void 0;default:return}var a,r}function Pd(e){return(e.mode&b)!==E&&(e.flags&ie)===ee}function zd(){throw new Error("Hydration failed because the initial UI does not match what was rendered on the server.")}function Ld(e){var t,n,r;se&&((n=kd)?Nd(e,t=n)||(Pd(e)&&(Md(Sd,e),zd()),n=lu(t),r=Sd,n&&Nd(e,n)?Id(r,t):(Dd(Sd,e),se=!1,Sd=e)):(Pd(e)&&(Md(Sd,e),zd()),Dd(Sd,e),se=!1,Sd=e))}function jd(e,t,n){var r,o,i,a=e.stateNode,s=!Cd,a=(a=a,r=e.type,o=e.memoizedProps,n=n,s=s,gu(i=e,a),Cu(a,o),xc(a,r,o,n.namespace,0,(i.mode&b)!==E,s));return null!==(e.updateQueue=a)}function Ad(e){var t,n,r,o,i=e.stateNode,a=e.memoizedProps,e=(n=a,gu(e=e,t=i),e.mode,t.nodeValue!==n);if(e){var s=Sd;if(null!==s)switch(s.tag){case K:s.stateNode.containerInfo;var l=(s.mode&b)!==E;hc(i.nodeValue,a,l,!0);break;case G:s.type;var l=s.memoizedProps,c=(s.stateNode,(s.mode&b)!==E);r=i,o=a,c=c,!0!==l[Lc]&&hc(r.nodeValue,o,c,!0)}}return e}function Fd(e){var t=e.memoizedState,t=null!==t?t.dehydrated:null;if(!t)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");gu(e,t)}function $d(e){e=e.memoizedState,e=null!==e?e.dehydrated:null;if(e){for(var t=e.nextSibling,n=0;t;){if(t.nodeType===kn){var r=t.data;if(r===Ac){if(0===n)return lu(t);n--}else r!==jc&&r!==$c&&r!==Fc||n++}t=t.nextSibling}return null}throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.")}function Bd(e){for(var t=e.return;null!==t&&t.tag!==G&&t.tag!==K&&t.tag!==X;)t=t.return;Sd=t}function Vd(e){if(e!==Sd)return!1;if(!se)return Bd(e),!(se=!0);if(e.tag!==K&&(e.tag!==G||"head"!==(n=e.type)&&"body"!==n&&!Uc(e.type,e.memoizedProps))){var t=kd;if(t)if(Pd(e))Hd(e),zd();else for(;t;)Id(e,t),t=lu(t)}var n;return Bd(e),kd=e.tag===X?$d(e):Sd?lu(e.stateNode):null,!0}function Hd(e){for(var t=kd;t;)Od(e,t),t=lu(t)}function Wd(){kd=Sd=null,Cd=se=!1}function Ud(){null!==Ed&&(Av(Ed),Ed=null)}function qd(e){null===Ed?Ed=[e]:Ed.push(e)}var Yd=s.ReactCurrentBatchConfig,Kd=null;function Gd(e){var t=[];return e.forEach(function(e){t.push(e)}),t.sort().join(", ")}var Zd={recordUnsafeLifecycleWarnings:function(e,t){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(e,t){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}},Xd=[],Jd=[],Qd=[],ep=[],tp=[],np=[],rp=new Set,op=(Zd.recordUnsafeLifecycleWarnings=function(e,t){rp.has(e.type)||("function"==typeof t.componentWillMount&&!0!==t.componentWillMount.__suppressDeprecationWarning&&Xd.push(e),e.mode&ei&&"function"==typeof t.UNSAFE_componentWillMount&&Jd.push(e),"function"==typeof t.componentWillReceiveProps&&!0!==t.componentWillReceiveProps.__suppressDeprecationWarning&&Qd.push(e),e.mode&ei&&"function"==typeof t.UNSAFE_componentWillReceiveProps&&ep.push(e),"function"==typeof t.componentWillUpdate&&!0!==t.componentWillUpdate.__suppressDeprecationWarning&&tp.push(e),e.mode&ei&&"function"==typeof t.UNSAFE_componentWillUpdate&&np.push(e))},Zd.flushPendingUnsafeLifecycleWarnings=function(){var t=new Set,n=(0<Xd.length&&(Xd.forEach(function(e){t.add(C(e)||"Component"),rp.add(e.type)}),Xd=[]),new Set),r=(0<Jd.length&&(Jd.forEach(function(e){n.add(C(e)||"Component"),rp.add(e.type)}),Jd=[]),new Set),o=(0<Qd.length&&(Qd.forEach(function(e){r.add(C(e)||"Component"),rp.add(e.type)}),Qd=[]),new Set),i=(0<ep.length&&(ep.forEach(function(e){o.add(C(e)||"Component"),rp.add(e.type)}),ep=[]),new Set),a=(0<tp.length&&(tp.forEach(function(e){i.add(C(e)||"Component"),rp.add(e.type)}),tp=[]),new Set);0<np.length&&(np.forEach(function(e){a.add(C(e)||"Component"),rp.add(e.type)}),np=[]),0<n.size&&te("Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move code with side effects to componentDidMount, and set initial state in the constructor.\n\nPlease update the following components: %s",Gd(n)),0<o.size&&te("Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state\n\nPlease update the following components: %s",Gd(o)),0<a.size&&te("Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n\nPlease update the following components: %s",Gd(a)),0<t.size&&d("componentWillMount has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move code with side effects to componentDidMount, and set initial state in the constructor.\n* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\n\nPlease update the following components: %s",Gd(t)),0<r.size&&d("componentWillReceiveProps has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state\n* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\n\nPlease update the following components: %s",Gd(r)),0<i.size&&d("componentWillUpdate has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\n\nPlease update the following components: %s",Gd(i))},new Map),ip=new Set;function ap(e,t){if(e&&e.defaultProps){var n,r=k({},t),o=e.defaultProps;for(n in o)void 0===r[n]&&(r[n]=o[n]);return r}return t}Zd.recordLegacyContextWarning=function(e,t){var n,r=function(e){for(var t=null,n=e;null!==n;)n.mode&ei&&(t=n),n=n.return;return t}(e);null===r?te("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue."):!ip.has(e.type)&&(n=op.get(r),null!=e.type.contextTypes||null!=e.type.childContextTypes||null!==t&&"function"==typeof t.getChildContext)&&(void 0===n&&op.set(r,n=[]),n.push(e))},Zd.flushLegacyContextWarning=function(){op.forEach(function(e,t){if(0!==e.length){var n=e[0],r=new Set,e=(e.forEach(function(e){r.add(C(e)||"Component"),ip.add(e.type)}),Gd(r));try{_t(n),te("Legacy context API has been detected within a strict-mode tree.\n\nThe old API will be supported in all 16.x releases, but applications using it should migrate to the new version.\n\nPlease update the following components: %s\n\nLearn more about this warning here: https://reactjs.org/link/legacy-context",e)}finally{Tt()}}})},Zd.discardPendingWarnings=function(){Xd=[],Jd=[],Qd=[],ep=[],tp=[],np=[],op=new Map};var sp=Du(null),lp={},cp=null,up=null,dp=null,pp=!1;function fp(){dp=up=cp=null,pp=!1}function hp(){pp=!0}function mp(){pp=!1}function gp(e,t,n){Pu(sp,t._currentValue,e),t._currentValue=n,void 0!==t._currentRenderer&&null!==t._currentRenderer&&t._currentRenderer!==lp&&te("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),t._currentRenderer=lp}function vp(e,t){var n=sp.current;Nu(sp,t),e._currentValue=n}function yp(e,t,n){for(var r=e;null!==r;){var o=r.alternate;if(ra(r.childLanes,t)?null===o||ra(o.childLanes,t)||(o.childLanes=o.childLanes|t):(r.childLanes=r.childLanes|t,null!==o&&(o.childLanes=o.childLanes|t)),r===n)break;r=r.return}r!==n&&te("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.")}function bp(e,t,n){var r=e,o=t,i=n,a=r.child;for(null!==a&&(a.return=r);null!==a;){var s=void 0,l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===o){a.tag===Y&&(u=Qi(i),(u=Pp(T,u)).tag=Op,null!==(d=a.updateQueue))&&(d=d.shared,null===(p=d.pending)?u.next=u:(u.next=p.next,p.next=u),d.pending=u),a.lanes=a.lanes|i;var u,d,p=a.alternate;null!==p&&(p.lanes=p.lanes|i),yp(a.return,i,r),l.lanes=l.lanes|i;break}c=c.next}}else if(a.tag===pe)s=a.type===r.type?null:a.child;else if(a.tag===g){var f=a.return;if(null===f)throw new Error("We just came from a parent so we must have had a parent. This is a bug in React.");f.lanes=f.lanes|i;var h=f.alternate;null!==h&&(h.lanes=h.lanes|i),yp(f,i,r),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===r){s=null;break}var m=s.sibling;if(null!==m){m.return=s.return,s=m;break}s=s.return}a=s}}function wp(e,t){dp=up=null;e=(cp=e).dependencies;null!==e&&null!==e.firstContext&&(na(e.lanes,t)&&Rg(),e.firstContext=null)}function xp(e){pp&&te("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");var t=e._currentValue;if(dp!==e){e={context:e,memoizedValue:t,next:null};if(null===up){if(null===cp)throw new Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");up=e,cp.dependencies={lanes:ae,firstContext:e}}else up=up.next=e}return t}var Sp=null;function kp(e){null===Sp?Sp=[e]:Sp.push(e)}function Cp(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,kp(t)):(n.next=o.next,o.next=n),t.interleaved=n,_p(e,r)}function Ep(e,t){return _p(e,t)}var Tp=_p;function _p(e,t){e.lanes=e.lanes|t;for(var n=e.alternate,r=(null!==n&&(n.lanes=n.lanes|t),null===n&&(e.flags&(Ur|Jr))!==ee&&uy(e),e),o=e.return;null!==o;)o.childLanes=o.childLanes|t,null!==(n=o.alternate)?n.childLanes=n.childLanes|t:(o.flags&(Ur|Jr))!==ee&&uy(e),o=(r=o).return;return r.tag===K?r.stateNode:null}var Rp=0,Op=2,Ip=3,Mp=!1;function Dp(e){var t={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:ae},effects:null};e.updateQueue=t}function Np(e,t){var n=t.updateQueue,e=e.updateQueue;n===e&&(n={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects},t.updateQueue=n)}function Pp(e,t){return{eventTime:e,lane:t,tag:Rp,payload:null,callback:null,next:null}}function zp(e,t,n){var r,o=e.updateQueue;return null===o?null:(o=o.shared,Vp!==o||Bp||(te("An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback."),Bp=!0),(I&B0)!==F0?(null===(r=o.pending)?t.next=t:(t.next=r.next,r.next=t),o.pending=t,Tp(e,n)):(r=e,e=t,t=n,null===(o=(n=o).interleaved)?(e.next=e,kp(n)):(e.next=o.next,o.next=e),n.interleaved=e,_p(r,t)))}function Lp(e,t,n){var r,t=t.updateQueue;null!==t&&(t=t.shared,Zi(n))&&(r=t.lanes,r=(r&=e.pendingLanes)|n,sa(e,t.lanes=r))}function jp(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r){r=r.updateQueue;if(n===r){var o=null,i=null,a=n.firstBaseUpdate;if(null!==a){var s=a;do{var l={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null}}while(null===i?o=i=l:(i.next=l,i=l),null!==(s=s.next));null===i?o=i=t:(i.next=t,i=t)}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}}a=n.lastBaseUpdate;null===a?n.firstBaseUpdate=t:a.next=t,n.lastBaseUpdate=t}function Ap(e,t,n,r){var o,i,a,s,l=e.updateQueue,c=(Mp=!1,Vp=l.shared,l.firstBaseUpdate),u=l.lastBaseUpdate,d=l.shared.pending;if(null!==d&&(l.shared.pending=null,i=(o=d).next,(o.next=null)===u?c=i:u.next=i,u=o,null!==(a=e.alternate))&&(s=(a=a.updateQueue).lastBaseUpdate)!==u&&(null===s?a.firstBaseUpdate=i:s.next=i,a.lastBaseUpdate=o),null!==c){for(var p=l.baseState,f=ae,h=null,m=null,g=null,v=c;;){var y,b=v.lane,w=v.eventTime;if(ra(r,b)?(null!==g&&(y={eventTime:w,lane:ai,tag:v.tag,payload:v.payload,callback:v.callback,next:null},g=g.next=y),p=function(e,t,n,r,o){switch(t.tag){case 1:var i=t.payload;if("function"!=typeof i)return i;hp();var a=i.call(o,n,r);if(e.mode&ei){Ho(!0);try{i.call(o,n,r)}finally{Ho(!1)}}return mp(),a;case Ip:e.flags=e.flags&~oo|ie;case Rp:var s,i=t.payload;if("function"==typeof i){if(hp(),s=i.call(o,n,r),e.mode&ei){Ho(!0);try{i.call(o,n,r)}finally{Ho(!1)}}mp()}else s=i;return null==s?n:k({},n,s);case Op:return Mp=!0,n}return n}(e,v,p,t,n),null!==v.callback&&v.lane!==ai&&(e.flags|=64,null===(y=l.effects)?l.effects=[v]:y.push(v))):(w={eventTime:w,lane:b,tag:v.tag,payload:v.payload,callback:v.callback,next:null},null===g?(m=g=w,h=p):g=g.next=w,f|=b),null===(v=v.next)){if(null===(d=l.shared.pending))break;w=d,b=w.next;w.next=null,v=b,l.lastBaseUpdate=w,l.shared.pending=null}}null===g&&(h=p),l.baseState=h,l.firstBaseUpdate=m,l.lastBaseUpdate=g;var x=l.shared.interleaved;if(null!==x)for(var S=x;f|=S.lane,(S=S.next)!==x;);else null===c&&(l.shared.lanes=ae);Zv(f),e.lanes=f,e.memoizedState=p}Vp=null}function Fp(){Mp=!1}function $p(e,t,n){var r=t.effects;if((t.effects=null)!==r)for(var o=0;o<r.length;o++){var i=r[o],a=i.callback;if(null!==a){i.callback=null,s=i=void 0;var i=a,s=n;if("function"!=typeof i)throw new Error("Invalid argument passed as callback. Expected a function. Instead received: "+i);i.call(s)}}}var Bp=!1,Vp=null,Hp={},Wp=(new n.Component).refs,Up=new Set,qp=new Set,Yp=new Set,Kp=new Set,Gp=new Set,Zp=new Set,Xp=new Set,Jp=new Set,Qp=new Set,ef=function(e,t){var n;null===e||"function"==typeof e||Qp.has(n=t+"_"+e)||(Qp.add(n),te("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",t,e))},tf=function(e,t){void 0===t&&(t=Q(e)||"Component",Zp.has(t)||(Zp.add(t),te("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",t)))};function nf(e,t,n,r){var o=e.memoizedState,i=n(r,o);if(e.mode&ei){Ho(!0);try{i=n(r,o)}finally{Ho(!1)}}tf(t,i);n=null==i?o:k({},o,i);e.memoizedState=n,e.lanes===ae&&(e.updateQueue.baseState=n)}Object.defineProperty(Hp,"_processChildContext",{enumerable:!1,value:function(){throw new Error("_processChildContext is not available in React 16+. This likely means you have multiple copies of React and are attempting to nest a React 15 tree inside a React 16 tree using unstable_renderSubtreeIntoContainer, which isn't supported. Try to make sure you have only one copy of React (and ideally, switch to ReactDOM.createPortal).")}}),Object.freeze(Hp);var rf,of={isMounted:function(e){var t,n=yo.current;return null!==n&&n.tag===Y&&((t=n.stateNode)._warnedAboutRefsInRender||te("%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",C(n)||"A component"),t._warnedAboutRefsInRender=!0),!!(n=Hr(e))&&bo(n)===n},enqueueSetState:function(e,t,n){var e=Hr(e),r=Mv(),o=Dv(e),i=Pp(r,o),t=(i.payload=t,null!=n&&(ef(n,"setState"),i.callback=n),zp(e,i,o));null!==t&&(Pv(t,e,o,r),Lp(t,e,o)),Qo(e,o)},enqueueReplaceState:function(e,t,n){var e=Hr(e),r=Mv(),o=Dv(e),i=Pp(r,o),t=(i.tag=1,i.payload=t,null!=n&&(ef(n,"replaceState"),i.callback=n),zp(e,i,o));null!==t&&(Pv(t,e,o,r),Lp(t,e,o)),Qo(e,o)},enqueueForceUpdate:function(e,t){var e=Hr(e),n=Mv(),r=Dv(e),o=Pp(n,r),t=(o.tag=Op,null!=t&&(ef(t,"forceUpdate"),o.callback=t),zp(e,o,r));null!==t&&(Pv(t,e,r,n),Lp(t,e,r)),o=e,n=r,null!==w&&"function"==typeof w.markForceUpdateScheduled&&w.markForceUpdateScheduled(o,n)}};function af(e,t,n,r,o,i,a){var s=e.stateNode;if("function"!=typeof s.shouldComponentUpdate)return!(t.prototype&&t.prototype.isPureReactComponent&&il(n,r)&&il(o,i));n=s.shouldComponentUpdate(r,i,a);if(e.mode&ei){Ho(!0);try{n=s.shouldComponentUpdate(r,i,a)}finally{Ho(!1)}}return void 0===n&&te("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",Q(t)||"Component"),n}function sf(e,t){t.updater=of,(e.stateNode=t)._reactInternals=e,t._reactInternalInstance=Hp}function lf(e,t,n){var r=!1,o=Lu,i=Lu,a=t.contextType,s=("contextType"in t&&(null===a||void 0!==a&&a.$$typeof===Ue&&void 0===a._context||Jp.has(t)||(Jp.add(t),s="",s=void 0===a?" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":"object"!=typeof a?" However, it is set to a "+typeof a+".":a.$$typeof===We?" Did you accidentally pass the Context.Provider instead?":void 0!==a._context?" Did you accidentally pass the Context.Consumer instead?":" However, it is set to an object with keys {"+Object.keys(a).join(", ")+"}.",te("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",Q(t)||"Component",s))),new t(n,i="object"==typeof a&&null!==a?xp(a):(o=$u(0,t,!0),(r=null!=t.contextTypes)?Vu(e,o):Lu)));if(e.mode&ei){Ho(!0);try{s=new t(n,i)}finally{Ho(!1)}}var l,a=e.memoizedState=null!==s.state&&void 0!==s.state?s.state:null;sf(e,s),"function"==typeof t.getDerivedStateFromProps&&null===a&&(n=Q(t)||"Component",qp.has(n)||(qp.add(n),te("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",n,null===s.state?"null":"undefined",n))),"function"!=typeof t.getDerivedStateFromProps&&"function"!=typeof s.getSnapshotBeforeUpdate||(l=n=a=null,"function"==typeof s.componentWillMount&&!0!==s.componentWillMount.__suppressDeprecationWarning?a="componentWillMount":"function"==typeof s.UNSAFE_componentWillMount&&(a="UNSAFE_componentWillMount"),"function"==typeof s.componentWillReceiveProps&&!0!==s.componentWillReceiveProps.__suppressDeprecationWarning?n="componentWillReceiveProps":"function"==typeof s.UNSAFE_componentWillReceiveProps&&(n="UNSAFE_componentWillReceiveProps"),"function"==typeof s.componentWillUpdate&&!0!==s.componentWillUpdate.__suppressDeprecationWarning?l="componentWillUpdate":"function"==typeof s.UNSAFE_componentWillUpdate&&(l="UNSAFE_componentWillUpdate"),null===a&&null===n&&null===l)||(s=Q(t)||"Component",t="function"==typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()",Kp.has(s))||(Kp.add(s),te("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n%s uses %s but also contains the following legacy lifecycles:%s%s%s\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://reactjs.org/link/unsafe-component-lifecycles",s,t,null!==a?"\n  "+a:"",null!==n?"\n  "+n:"",null!==l?"\n  "+l:"")),r&&Bu(e,o,i)}function cf(e,t,n,r){var o=t.state;"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==o&&(n=C(e)||"Component",Up.has(n)||(Up.add(n),te("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",n)),of.enqueueReplaceState(t,t.state,null))}function uf(e,t,n,r){o=t,a=n,s=(s=e).stateNode,i=Q(o)||"Component",s.render||(o.prototype&&"function"==typeof o.prototype.render?te("%s(...): No `render` method found on the returned component instance: did you accidentally return an object from the constructor?",i):te("%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.",i)),!s.getInitialState||s.getInitialState.isReactClassApproved||s.state||te("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",i),s.getDefaultProps&&!s.getDefaultProps.isReactClassApproved&&te("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",i),s.propTypes&&te("propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",i),s.contextType&&te("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",i),s.contextTypes&&te("contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",i),o.contextType&&o.contextTypes&&!Xp.has(o)&&(Xp.add(o),te("%s declares both contextTypes and contextType static properties. The legacy contextTypes property will be ignored.",i)),"function"==typeof s.componentShouldUpdate&&te("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",i),o.prototype&&o.prototype.isPureReactComponent&&void 0!==s.shouldComponentUpdate&&te("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",Q(o)||"A pure component"),"function"==typeof s.componentDidUnmount&&te("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",i),"function"==typeof s.componentDidReceiveProps&&te("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",i),"function"==typeof s.componentWillRecieveProps&&te("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",i),"function"==typeof s.UNSAFE_componentWillRecieveProps&&te("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",i),a=s.props!==a,void 0!==s.props&&a&&te("%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",i,i),s.defaultProps&&te("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",i,i),"function"!=typeof s.getSnapshotBeforeUpdate||"function"==typeof s.componentDidUpdate||Yp.has(o)||(Yp.add(o),te("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",Q(o))),"function"==typeof s.getDerivedStateFromProps&&te("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",i),"function"==typeof s.getDerivedStateFromError&&te("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",i),"function"==typeof o.getSnapshotBeforeUpdate&&te("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",i),(a=s.state)&&("object"!=typeof a||en(a))&&te("%s.state: must be set to an object or null",i),"function"==typeof s.getChildContext&&"object"!=typeof o.childContextTypes&&te("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",i);var o,i,a=e.stateNode,s=(a.props=n,a.state=e.memoizedState,a.refs=Wp,Dp(e),t.contextType),s=("object"==typeof s&&null!==s?a.context=xp(s):(o=$u(0,t,!0),a.context=Vu(e,o)),a.state===n&&(i=Q(t)||"Component",Gp.has(i)||(Gp.add(i),te("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",i))),e.mode&ei&&Zd.recordLegacyContextWarning(e,a),Zd.recordUnsafeLifecycleWarnings(e,a),a.state=e.memoizedState,t.getDerivedStateFromProps);"function"==typeof s&&(nf(e,t,s,n),a.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(o=e,s=(i=a).state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),s!==i.state&&(te("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",C(o)||"Component"),of.enqueueReplaceState(i,i.state,null)),Ap(e,n,a,r),a.state=e.memoizedState),"function"==typeof a.componentDidMount&&(t=oe,t|=lo,(e.mode&ti)!==E&&(t|=uo),e.flags|=t)}var df=function(e,t){};function pf(e,t,n){var r=n.ref;if(null!==r&&"function"!=typeof r&&"object"!=typeof r){if(!(e.mode&ei||y)||n._owner&&n._self&&n._owner.stateNode!==n._self||(e=C(e)||"Component",yf[e])||(te('A string ref, "%s", has been found within a strict mode tree. String refs are a source of potential bugs and should be avoided. We recommend using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',r),yf[e]=!0),n._owner){var o,i,a,e=n._owner;if(e){if(e.tag!==Y)throw new Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref");o=e.stateNode}if(o)return i=o,a=""+r,null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:((e=function(e){var t=i.refs;t===Wp&&(t=i.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,e);throw new Error("Missing owner for string ref "+r+". This error is likely caused by a bug in React. Please file an issue.")}if("string"!=typeof r)throw new Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");if(!n._owner)throw new Error("Element ref was specified as a string ("+r+") but no owner was set. This could happen for one of the following reasons:\n1. You may be adding a ref to a function component\n2. You may be adding a ref to a component that was not created inside a component's render method\n3. You have multiple copies of React loaded\nSee https://reactjs.org/link/refs-must-have-owner for more information.")}return r}function ff(e,t){var n=Object.prototype.toString.call(t);throw new Error("Objects are not valid as a React child (found: "+("[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.")}function hf(e){e=C(e)||"Component";wf[e]||(wf[e]=!0,te("Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it."))}function mf(e){var t=e._payload;return(0,e._init)(t)}function gf(W){function U(e,t){var n;W&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=qr):n.push(t))}function q(e,t){if(W)for(var n=t;null!==n;)U(e,n),n=n.sibling;return null}function Y(e,t){for(var n=new Map,r=t;null!==r;)null!==r.key?n.set(r.key,r):n.set(r.index,r),r=r.sibling;return n}function K(e,t){e=Ay(e,t);return e.index=0,e.sibling=null,e}function G(e,t,n){return e.index=n,W?null===(n=e.alternate)||(n=n.index)<t?(e.flags|=Ur,t):n:(e.flags|=ao,t)}function Z(e){return W&&null===e.alternate&&(e.flags|=Ur),e}function a(e,t,n,r){return null===t||t.tag!==re?((r=Hy(n,e.mode,r)).return=e,r):((r=K(t,n)).return=e,r)}function s(e,t,n,r){var o=n.type;if(o===Be)return c(e,t,n.props.children,r,n.key);if(null!==t&&(t.elementType===o||_y(t,n)||"object"==typeof o&&null!==o&&o.$$typeof===Ze&&mf(o)===t.type))return(o=K(t,n.props)).ref=pf(e,t,n),o.return=e,o._debugSource=n._source,o._debugOwner=n._owner,o;o=$y(n,e.mode,r);return o.ref=pf(e,t,n),o.return=e,o}function l(e,t,n,r){return null===t||t.tag!==ne||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((r=Wy(n,e.mode,r)).return=e,r):((r=K(t,n.children||[])).return=e,r)}function c(e,t,n,r,o){return null===t||t.tag!==ce?((r=By(n,e.mode,r,o)).return=e,r):((o=K(t,n)).return=e,o)}function X(e,t,n){var r;if("string"==typeof t&&""!==t||"number"==typeof t)return(r=Hy(""+t,e.mode,n)).return=e,r;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Fe:var o=$y(t,e.mode,n);return o.ref=pf(e,null,t),o.return=e,o;case $e:o=Wy(t,e.mode,n);return o.return=e,o;case Ze:o=t._payload;return X(e,(0,t._init)(o),n)}if(en(t)||et(t))return(r=By(t,e.mode,n,null)).return=e,r;ff(0,t)}return"function"==typeof t&&hf(e),null}function J(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==o?null:a(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Fe:return n.key===o?s(e,t,n,r):null;case $e:return n.key===o?l(e,t,n,r):null;case Ze:var i=n._payload;return J(e,t,(0,n._init)(i),r)}if(en(n)||et(n))return null!==o?null:c(e,t,n,r,null);ff(0,n)}return"function"==typeof n&&hf(e),null}function Q(e,t,n,r,o){if("string"==typeof r&&""!==r||"number"==typeof r)return a(t,e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Fe:return s(t,e.get(null===r.key?n:r.key)||null,r,o);case $e:return l(t,e.get(null===r.key?n:r.key)||null,r,o);case Ze:var i=r._payload;return Q(e,t,n,(0,r._init)(i),o)}if(en(r)||et(r))return c(t,e.get(n)||null,r,o,null);ff(0,r)}return"function"==typeof r&&hf(t),null}function ee(e,t,n){if("object"==typeof e&&null!==e)switch(e.$$typeof){case Fe:case $e:df(e,n);var r=e.key;"string"==typeof r&&(null===t?(t=new Set).add(r):t.has(r)?te("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted  the behavior is unsupported and could change in a future version.",r):t.add(r));break;case Ze:r=e._payload;ee((0,e._init)(r),t,n)}return t}return function L(e,t,n,r){var o,j,i;if("object"==typeof(n="object"==typeof n&&null!==n&&n.type===Be&&null===n.key?n.props.children:n)&&null!==n){switch(n.$$typeof){case Fe:return Z(function(e,t,n,r){for(var o,i=n.key,a=t;null!==a;){if(a.key===i){var s,l=n.type;if(l===Be){if(a.tag===ce)return q(e,a.sibling),(s=K(a,n.props.children)).return=e,s._debugSource=n._source,s._debugOwner=n._owner,s}else if(a.elementType===l||_y(a,n)||"object"==typeof l&&null!==l&&l.$$typeof===Ze&&mf(l)===a.type)return q(e,a.sibling),(s=K(a,n.props)).ref=pf(e,a,n),s.return=e,s._debugSource=n._source,s._debugOwner=n._owner,s;q(e,a);break}U(e,a),a=a.sibling}return n.type===Be?(o=By(n.props.children,e.mode,r,n.key)).return=e:((o=$y(n,e.mode,r)).ref=pf(e,t,n),o.return=e),o}(e,t,n,r));case $e:return Z(function(e,t,n,r){for(var o,i=n.key,a=t;null!==a;){if(a.key===i){if(a.tag===ne&&a.stateNode.containerInfo===n.containerInfo&&a.stateNode.implementation===n.implementation)return q(e,a.sibling),(o=K(a,n.children||[])).return=e,o;q(e,a);break}U(e,a),a=a.sibling}return(t=Wy(n,e.mode,r)).return=e,t}(e,t,n,r));case Ze:var A=n._payload;return L(e,t,(0,n._init)(A),r)}if(en(n)){for(var a=e,F=t,s=n,l=r,$=null,c=0;c<s.length;c++)$=ee(s[c],$,a);for(var u=null,d=null,p=F,f=0,h=0,m=null;null!==p&&h<s.length;h++){p.index>h?(m=p,p=null):m=p.sibling;var g=J(a,p,s[h],l);if(null===g){null===p&&(p=m);break}W&&p&&null===g.alternate&&U(a,p),f=G(g,f,h),null===d?u=g:d.sibling=g,d=g,p=m}if(h===s.length)q(a,p);else if(null===p)for(;h<s.length;h++){var v=X(a,s[h],l);null!==v&&(f=G(v,f,h),null===d?u=v:d.sibling=v,d=v)}else{for(var y=Y(0,p);h<s.length;h++){var b=Q(y,a,h,s[h],l);null!==b&&(W&&null!==b.alternate&&y.delete(null===b.key?h:b.key),f=G(b,f,h),null===d?u=b:d.sibling=b,d=b)}W&&y.forEach(function(e){return U(a,e)})}return se&&gd(a,h),u}if(et(n)){var w=e,F=t,x=n,S=r,k=et(x);if("function"!=typeof k)throw new Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");"function"==typeof Symbol&&"Generator"===x[Symbol.toStringTag]&&(vf||te("Using Generators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. Keep in mind you might need to polyfill these features for older browsers."),vf=!0),x.entries===k&&(rf||te("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),rf=!0);var C=k.call(x);if(C)for(var B=null,V=C.next();!V.done;V=C.next())B=ee(V.value,B,w);var E=k.call(x);if(null==E)throw new Error("An iterable object provided no iterator.");for(var T=null,_=null,R=F,O=0,I=0,M=null,D=E.next();null!==R&&!D.done;I++,D=E.next()){R.index>I?(M=R,R=null):M=R.sibling;var N=J(w,R,D.value,S);if(null===N){null===R&&(R=M);break}W&&R&&null===N.alternate&&U(w,R),O=G(N,O,I),null===_?T=N:_.sibling=N,_=N,R=M}if(D.done)q(w,R);else if(null===R)for(;!D.done;I++,D=E.next()){var P=X(w,D.value,S);null!==P&&(O=G(P,O,I),null===_?T=P:_.sibling=P,_=P)}else{for(var H=Y(0,R);!D.done;I++,D=E.next()){var z=Q(H,w,I,D.value,S);null!==z&&(W&&null!==z.alternate&&H.delete(null===z.key?I:z.key),O=G(z,O,I),null===_?T=z:_.sibling=z,_=z)}W&&H.forEach(function(e){return U(w,e)})}return se&&gd(w,I),T}ff(0,n)}return"string"==typeof n&&""!==n||"number"==typeof n?Z((k=e,x=""+n,j=r,null!==(o=t)&&o.tag===re?(q(k,o.sibling),(i=K(o,x)).return=k):(q(k,o),(i=Hy(x,k.mode,j)).return=k),i)):("function"==typeof n&&hf(e),q(e,t))}}var vf=rf=!1,yf={},bf={},wf={},df=function(e,t){if(null!==e&&"object"==typeof e&&e._store&&!e._store.validated&&null==e.key){if("object"!=typeof e._store)throw new Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");e._store.validated=!0;e=C(t)||"Component";bf[e]||(bf[e]=!0,te('Each child in a list should have a unique "key" prop. See https://reactjs.org/link/warning-keys for more information.'))}},xf=gf(!0),Sf=gf(!1);function kf(e,t){for(var n,r,o,i=e.child;null!==i;)r=t,o=void 0,(n=i).flags&=vo|Ur,null===(o=n.alternate)?(n.childLanes=ae,n.lanes=r,n.child=null,n.subtreeFlags=ee,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null,n.selfBaseDuration=0,n.treeBaseDuration=0):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=ee,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,r=o.dependencies,n.dependencies=null===r?null:{lanes:r.lanes,firstContext:r.firstContext},n.selfBaseDuration=o.selfBaseDuration,n.treeBaseDuration=o.treeBaseDuration),i=i.sibling}var Cf={},Ef=Du(Cf),Tf=Du(Cf),_f=Du(Cf);function Rf(e){if(e===Cf)throw new Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");return e}function Of(){return Rf(_f.current)}function If(e,t){Pu(_f,t,e),Pu(Tf,e,e),Pu(Ef,Cf,e);t=function(e){var t=e.nodeType;switch(t){case Cn:case En:var n=t===Cn?"#document":"#fragment",r=e.documentElement,o=r?r.namespaceURI:gn(null,"");break;default:r=t===kn?e.parentNode:e;o=gn(r.namespaceURI||null,n=r.tagName)}var i=n.toLowerCase();return{namespace:o,ancestorInfo:Mc(null,i)}}(t);Nu(Ef,e),Pu(Ef,t,e)}function Mf(e){Nu(Ef,e),Nu(Tf,e),Nu(_f,e)}function Df(){return Rf(Ef.current)}function Nf(e){Rf(_f.current);var t,n=Rf(Ef.current),r=(r=n,t=e.type,{namespace:gn(r.namespace,t),ancestorInfo:Mc(r.ancestorInfo,t)});n!==r&&(Pu(Tf,e,e),Pu(Ef,r,e))}function Pf(e){Tf.current===e&&(Nu(Ef,e),Nu(Tf,e))}var zf=1,Lf=2,jf=Du(0);function Af(e,t){Pu(jf,t,e)}function Ff(e){Nu(jf,e)}function $f(e){for(var t=e;null!==t;){if(t.tag===X){var n=t.memoizedState;if(null!==n){n=n.dehydrated;if(null===n||iu(n)||au(n))return t}}else if(t.tag===ve&&void 0!==t.memoizedProps.revealOrder){if((t.flags&ie)!==ee)return t}else if(null!==t.child){t=(t.child.return=t).child;continue}if(t===e)return null;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bf=0,Vf=1,Hf=2,Wf=4,Uf=8,qf=[];function Yf(){for(var e=0;e<qf.length;e++)qf[e]._workInProgressVersionPrimary=null;qf.length=0}var Kf,c=s.ReactCurrentDispatcher,Gf=s.ReactCurrentBatchConfig,Zf=new Set,Xf=ae,R=null,Jf=null,Qf=null,eh=!1,th=!1,nh=0,rh=0,l=null,oh=null,ih=-1,ah=!1;function o(){var e=l;null===oh?oh=[e]:oh.push(e)}function i(){var e=l;if(null!==oh&&oh[++ih]!==e){var t=e,e=C(R);if(!Zf.has(e)&&(Zf.add(e),null!==oh)){for(var n="",r=0;r<=ih;r++){for(var o=oh[r],i=r===ih?t:o,a=r+1+". "+o;a.length<30;)a+=" ";n+=a+=i+"\n"}te("React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://reactjs.org/link/rules-of-hooks\n\n   Previous render            Next render\n   ------------------------------------------------------\n%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n",e,n)}}}function sh(e){null==e||en(e)||te("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",l,typeof e)}function lh(){throw new Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.")}function ch(e,t){if(!ah){if(null!==t){e.length!==t.length&&te("The final argument passed to %s changed size between renders. The order and size of this array must remain constant.\n\nPrevious: %s\nIncoming: %s",l,"["+t.join(", ")+"]","["+e.join(", ")+"]");for(var n=0;n<t.length&&n<e.length;n++)if(!ol(e[n],t[n]))return;return 1}te("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",l)}}function uh(e,t,n,r,o,i){Xf=i,R=t,oh=null!==e?e._debugHookTypes:null,ih=-1,ah=null!==e&&e.type!==t.type,t.memoizedState=null,t.updateQueue=null,t.lanes=ae,null!==e&&null!==e.memoizedState?c.current=ym:c.current=null!==oh?vm:gm;var a=n(r,o);if(th){var s=0;do{if(th=!1,nh=0,25<=s)throw new Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.")}while(s+=1,ah=!1,Qf=Jf=null,t.updateQueue=null,ih=-1,c.current=bm,a=n(r,o),th)}c.current=pm,t._debugHookTypes=oh;i=null!==Jf&&null!==Jf.next;if(Xf=ae,ih=-1,(oh=l=Qf=Jf=R=null)!==e&&(e.flags&vo)!=(t.flags&vo)&&(e.mode&b)!==E&&te("Internal React error: Expected static flag was missing. Please notify the React team."),eh=!1,i)throw new Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return a}function dh(){var e=0!==nh;return nh=0,e}function ph(e,t,n){t.updateQueue=e.updateQueue,(t.mode&ti)!==E?t.flags&=~(po|uo|Xr|oe):t.flags&=~(Xr|oe),e.lanes=e.lanes&~n}function fh(){if(c.current=pm,eh){for(var e=R.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}eh=!1}Xf=ae,l=oh=Qf=Jf=R=null,om=!(ih=-1),th=!1,nh=0}function hh(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Qf?R.memoizedState=Qf=e:Qf=Qf.next=e,Qf}function mh(){var e;if(e=null===Jf?null!==(e=R.alternate)?e.memoizedState:null:Jf.next,null!==(t=null===Qf?R.memoizedState:Qf.next))t=(Qf=t).next,Jf=e;else{if(null===e)throw new Error("Rendered more hooks than during the previous render.");var t={memoizedState:(Jf=e).memoizedState,baseState:Jf.baseState,baseQueue:Jf.baseQueue,queue:Jf.queue,next:null};null===Qf?R.memoizedState=Qf=t:Qf=Qf.next=t}return Qf}function gh(){return{lastEffect:null,stores:null}}function vh(e,t){return"function"==typeof t?t(e):t}function yh(e,t,n){var r=hh(),n=void 0!==n?n(t):t,t=(r.memoizedState=r.baseState=n,{pending:null,interleaved:null,lanes:ae,dispatch:null,lastRenderedReducer:e,lastRenderedState:n}),e=(r.queue=t).dispatch=function(e,t,n){"function"==typeof arguments[3]&&te("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var r=Dv(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};{var i;sm(e)?lm(t,o):null!==(o=Cp(e,t,o,r))&&(i=Mv(),Pv(o,e,r,i),cm(o,t,r))}um(e,r)}.bind(null,R,t);return[r.memoizedState,e]}function bh(e){var t=mh(),n=t.queue;if(null===n)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");n.lastRenderedReducer=e;var r,o=Jf,i=o.baseQueue,a=n.pending;if(null!==a&&(null!==i&&(r=i.next,y=a.next,i.next=y,a.next=r),o.baseQueue!==i&&te("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),o.baseQueue=i=a,n.pending=null),null!==i){var s=i.next,l=o.baseState,c=null,u=null,d=null,p=s;do{var f,h=p.lane}while(ra(Xf,h)?(null!==d&&(f={lane:ai,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null},d=d.next=f),l=p.hasEagerState?p.eagerState:e(l,p.action)):(f={lane:h,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null},null===d?(u=d=f,c=l):d=d.next=f,R.lanes=R.lanes|h,Zv(h)),null!==(p=p.next)&&p!==s);null===d?c=l:d.next=u,ol(l,t.memoizedState)||Rg(),t.memoizedState=l,t.baseState=c,t.baseQueue=d,n.lastRenderedState=l}var m=n.interleaved;if(null!==m){var g=m;do{var v=g.lane}while(R.lanes=R.lanes|v,Zv(v),(g=g.next)!==m)}else null===i&&(n.lanes=ae);var y=n.dispatch;return[t.memoizedState,y]}function wh(e){var t=mh(),n=t.queue;if(null===n)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var a=o.next,s=a;do{i=e(i,s.action),s=s.next}while(s!==a);ol(i,t.memoizedState)||Rg(),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function xh(e,t,n){var r=R,o=hh();if(se){if(void 0===n)throw new Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");i=n(),Kf||i!==n()&&(te("The result of getServerSnapshot should be cached to avoid an infinite loop"),Kf=!0)}else{var i=t(),n=(Kf||(n=t(),ol(i,n))||(te("The result of getSnapshot should be cached to avoid an infinite loop"),Kf=!0),Z0);if(null===n)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");Gi(0,Xf)||kh(r,t,i)}n={value:o.memoizedState=i,getSnapshot:t};return o.queue=n,Lh(Eh.bind(null,r,n,e),[e]),r.flags|=Xr,Mh(Vf|Uf,Ch.bind(null,r,n,i,t),void 0,null),i}function Sh(e,t){var n=R,r=mh(),o=t(),i=(Kf||(i=t(),ol(o,i))||(te("The result of getSnapshot should be cached to avoid an infinite loop"),Kf=!0),r.memoizedState),i=!ol(i,o),r=(i&&(r.memoizedState=o,Rg()),r.queue);if(jh(Eh.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==Qf&&Qf.memoizedState.tag&Vf){n.flags|=Xr,Mh(Vf|Uf,Ch.bind(null,n,r,o,t),void 0,null);e=Z0;if(null===e)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");Gi(0,Xf)||kh(n,t,o)}return o}function kh(e,t,n){e.flags|=eo;e={getSnapshot:t,value:n},t=R.updateQueue;null===t?(t=gh(),(R.updateQueue=t).stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ch(e,t,n,r){t.value=n,t.getSnapshot=r,Th(t)&&_h(e)}function Eh(e,t,n){return n(function(){Th(t)&&_h(e)})}function Th(e){var t=e.getSnapshot,e=e.value;try{var n=t();return!ol(e,n)}catch(e){return 1}}function _h(e){var t=Ep(e,S);null!==t&&Pv(t,e,S,T)}function Rh(e){var t=hh(),e=("function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,{pending:null,interleaved:null,lanes:ae,dispatch:null,lastRenderedReducer:vh,lastRenderedState:e}),e=(t.queue=e).dispatch=function(e,t,n){"function"==typeof arguments[3]&&te("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var r,o=Dv(e),i={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(sm(e))lm(t,i);else{var a=e.alternate;if(e.lanes===ae&&(null===a||a.lanes===ae)){a=t.lastRenderedReducer;if(null!==a){r=c.current,c.current=hm;try{var s=t.lastRenderedState,l=a(s,n);if(i.hasEagerState=!0,i.eagerState=l,ol(l,s))return void function(e,t){var n=e.interleaved;null===n?(t.next=t,kp(e)):(t.next=n.next,n.next=t),e.interleaved=t}(t,i)}catch(e){}finally{c.current=r}}}a=Cp(e,t,i,o);null!==a&&(l=Mv(),Pv(a,e,o,l),cm(a,t,o))}um(e,o)}.bind(null,R,e);return[t.memoizedState,e]}function Oh(){return bh(vh)}function Ih(){return wh(vh)}function Mh(e,t,n,r){e={tag:e,create:t,destroy:n,deps:r,next:null},t=R.updateQueue;return null===t?(t=gh(),(R.updateQueue=t).lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,(n.next=e).next=r,t.lastEffect=e),e}function Dh(e){e={current:e};return hh().memoizedState=e}function Nh(){return mh().memoizedState}function Ph(e,t,n,r){var o=hh(),r=void 0===r?null:r;R.flags|=e,o.memoizedState=Mh(Vf|t,n,void 0,r)}function zh(e,t,n,r){var o=mh(),r=void 0===r?null:r,i=void 0;if(null!==Jf){var a=Jf.memoizedState,i=a.destroy;if(null!==r)if(ch(r,a.deps))return void(o.memoizedState=Mh(t,n,i,r))}R.flags|=e,o.memoizedState=Mh(Vf|t,n,i,r)}function Lh(e,t){return(R.mode&ti)!==E?Ph(po|Xr|co,Uf,e,t):Ph(Xr|co,Uf,e,t)}function jh(e,t){return zh(Xr,Uf,e,t)}function Ah(e,t){return Ph(oe,Hf,e,t)}function Fh(e,t){return zh(oe,Hf,e,t)}function $h(e,t){var n=oe;return n|=lo,(R.mode&ti)!==E&&(n|=uo),Ph(n,Wf,e,t)}function Bh(e,t){return zh(oe,Wf,e,t)}function Vh(e,t){var n,r,o;return"function"==typeof t?(n=t,o=e(),n(o),function(){n(null)}):null!=t?((r=t).hasOwnProperty("current")||te("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(r).join(", ")+"}"),o=e(),r.current=o,function(){r.current=null}):void 0}function Hh(e,t,n){"function"!=typeof t&&te("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",null!==t?typeof t:"null");var n=null!=n?n.concat([e]):null,r=oe;return r|=lo,(R.mode&ti)!==E&&(r|=uo),Ph(r,Wf,Vh.bind(null,t,e),n)}function Wh(e,t,n){"function"!=typeof t&&te("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",null!==t?typeof t:"null");n=null!=n?n.concat([e]):null;return zh(oe,Wf,Vh.bind(null,t,e),n)}function Uh(e,t){}var qh=Uh;function Yh(e,t){return hh().memoizedState=[e,void 0===t?null:t],e}function Kh(e,t){var n=mh(),t=void 0===t?null:t,r=n.memoizedState;if(null!==r&&(null!==t&&ch(t,r[1])))return r[0];return n.memoizedState=[e,t],e}function Gh(e,t){var n=hh(),t=void 0===t?null:t,e=e();return n.memoizedState=[e,t],e}function Zh(e,t){var n=mh(),t=void 0===t?null:t,r=n.memoizedState;if(null!==r&&(null!==t&&ch(t,r[1])))return r[0];r=e();return n.memoizedState=[r,t],r}function Xh(e){return hh().memoizedState=e}function Jh(e){return em(mh(),Jf.memoizedState,e)}function Qh(e){var t=mh();return null===Jf?t.memoizedState=e:em(t,Jf.memoizedState,e)}function em(e,t,n){var r;return!((Xf&(S|li|ui))===ae)?(ol(n,t)||(r=Xi(),R.lanes=R.lanes|r,Zv(r),e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Rg()),e.memoizedState=n)}function tm(){var e=Rh(!1),t=e[0],e=e[1],e=function(e,t,n){var r=ba,o=(xa((i=ga,0!==(o=r)&&o<i?o:i)),e(!0),Gf.transition),i=(Gf.transition={},Gf.transition);Gf.transition._updatedFibers=new Set;try{e(!1),t()}finally{xa(r),null===(Gf.transition=o)&&i._updatedFibers&&(10<i._updatedFibers.size&&d("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),i._updatedFibers.clear())}}.bind(null,e);return[t,hh().memoizedState=e]}function nm(){return[Oh()[0],mh().memoizedState]}function rm(){return[Ih()[0],mh().memoizedState]}var om=!1;function im(){var e,t,n=hh(),r=Z0.identifierPrefix;return se?(e=":"+r+"R"+md(),0<(t=nh++)&&(e+="H"+t.toString(32)),e+=":"):e=":"+r+"r"+(rh++).toString(32)+":",n.memoizedState=e}function am(){return mh().memoizedState}function sm(e){var t=e.alternate;return e===R||null!==t&&t===R}function lm(e,t){th=eh=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cm(e,t,n){var r;Zi(n)&&(r=t.lanes,r=(r&=e.pendingLanes)|n,sa(e,t.lanes=r))}function um(e,t){Qo(e,t)}function dm(){te("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")}function a(){te("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://reactjs.org/link/rules-of-hooks")}var pm={readContext:xp,useCallback:lh,useContext:lh,useEffect:lh,useImperativeHandle:lh,useInsertionEffect:lh,useLayoutEffect:lh,useMemo:lh,useReducer:lh,useRef:lh,useState:lh,useDebugValue:lh,useDeferredValue:lh,useTransition:lh,useMutableSource:lh,useSyncExternalStore:lh,useId:lh,unstable_isNewReconciler:!1},fm=null,hm=null,mm=null,gm={readContext:xp,useCallback:function(e,t){return l="useCallback",o(),sh(t),Yh(e,t)},useContext:function(e){return l="useContext",o(),xp(e)},useEffect:function(e,t){return l="useEffect",o(),sh(t),Lh(e,t)},useImperativeHandle:function(e,t,n){return l="useImperativeHandle",o(),sh(n),Hh(e,t,n)},useInsertionEffect:function(e,t){return l="useInsertionEffect",o(),sh(t),Ah(e,t)},useLayoutEffect:function(e,t){return l="useLayoutEffect",o(),sh(t),$h(e,t)},useMemo:function(e,t){l="useMemo",o(),sh(t);var n=c.current;c.current=fm;try{return Gh(e,t)}finally{c.current=n}},useReducer:function(e,t,n){l="useReducer",o();var r=c.current;c.current=fm;try{return yh(e,t,n)}finally{c.current=r}},useRef:function(e){return l="useRef",o(),Dh(e)},useState:function(e){l="useState",o();var t=c.current;c.current=fm;try{return Rh(e)}finally{c.current=t}},useDebugValue:function(e,t){l="useDebugValue",o()},useDeferredValue:function(e){return l="useDeferredValue",o(),Xh(e)},useTransition:function(){return l="useTransition",o(),tm()},useMutableSource:function(e,t,n){l="useMutableSource",o()},useSyncExternalStore:function(e,t,n){return l="useSyncExternalStore",o(),xh(e,t,n)},useId:function(){return l="useId",o(),im()},unstable_isNewReconciler:!1},vm={readContext:xp,useCallback:function(e,t){return l="useCallback",i(),Yh(e,t)},useContext:function(e){return l="useContext",i(),xp(e)},useEffect:function(e,t){return l="useEffect",i(),Lh(e,t)},useImperativeHandle:function(e,t,n){return l="useImperativeHandle",i(),Hh(e,t,n)},useInsertionEffect:function(e,t){return l="useInsertionEffect",i(),Ah(e,t)},useLayoutEffect:function(e,t){return l="useLayoutEffect",i(),$h(e,t)},useMemo:function(e,t){l="useMemo",i();var n=c.current;c.current=fm;try{return Gh(e,t)}finally{c.current=n}},useReducer:function(e,t,n){l="useReducer",i();var r=c.current;c.current=fm;try{return yh(e,t,n)}finally{c.current=r}},useRef:function(e){return l="useRef",i(),Dh(e)},useState:function(e){l="useState",i();var t=c.current;c.current=fm;try{return Rh(e)}finally{c.current=t}},useDebugValue:function(e,t){l="useDebugValue",i()},useDeferredValue:function(e){return l="useDeferredValue",i(),Xh(e)},useTransition:function(){return l="useTransition",i(),tm()},useMutableSource:function(e,t,n){l="useMutableSource",i()},useSyncExternalStore:function(e,t,n){return l="useSyncExternalStore",i(),xh(e,t,n)},useId:function(){return l="useId",i(),im()},unstable_isNewReconciler:!1},ym={readContext:xp,useCallback:function(e,t){return l="useCallback",i(),Kh(e,t)},useContext:function(e){return l="useContext",i(),xp(e)},useEffect:function(e,t){return l="useEffect",i(),jh(e,t)},useImperativeHandle:function(e,t,n){return l="useImperativeHandle",i(),Wh(e,t,n)},useInsertionEffect:function(e,t){return l="useInsertionEffect",i(),Fh(e,t)},useLayoutEffect:function(e,t){return l="useLayoutEffect",i(),Bh(e,t)},useMemo:function(e,t){l="useMemo",i();var n=c.current;c.current=hm;try{return Zh(e,t)}finally{c.current=n}},useReducer:function(e,t,n){l="useReducer",i();var r=c.current;c.current=hm;try{return bh(e)}finally{c.current=r}},useRef:function(e){return l="useRef",i(),Nh()},useState:function(e){l="useState",i();var t=c.current;c.current=hm;try{return Oh()}finally{c.current=t}},useDebugValue:function(e,t){return l="useDebugValue",i(),qh()},useDeferredValue:function(e){return l="useDeferredValue",i(),Jh(e)},useTransition:function(){return l="useTransition",i(),nm()},useMutableSource:function(e,t,n){l="useMutableSource",i()},useSyncExternalStore:function(e,t,n){return l="useSyncExternalStore",i(),Sh(e,t)},useId:function(){return l="useId",i(),am()},unstable_isNewReconciler:!1},bm={readContext:xp,useCallback:function(e,t){return l="useCallback",i(),Kh(e,t)},useContext:function(e){return l="useContext",i(),xp(e)},useEffect:function(e,t){return l="useEffect",i(),jh(e,t)},useImperativeHandle:function(e,t,n){return l="useImperativeHandle",i(),Wh(e,t,n)},useInsertionEffect:function(e,t){return l="useInsertionEffect",i(),Fh(e,t)},useLayoutEffect:function(e,t){return l="useLayoutEffect",i(),Bh(e,t)},useMemo:function(e,t){l="useMemo",i();var n=c.current;c.current=mm;try{return Zh(e,t)}finally{c.current=n}},useReducer:function(e,t,n){l="useReducer",i();var r=c.current;c.current=mm;try{return wh(e)}finally{c.current=r}},useRef:function(e){return l="useRef",i(),Nh()},useState:function(e){l="useState",i();var t=c.current;c.current=mm;try{return Ih()}finally{c.current=t}},useDebugValue:function(e,t){return l="useDebugValue",i(),qh()},useDeferredValue:function(e){return l="useDeferredValue",i(),Qh(e)},useTransition:function(){return l="useTransition",i(),rm()},useMutableSource:function(e,t,n){l="useMutableSource",i()},useSyncExternalStore:function(e,t,n){return l="useSyncExternalStore",i(),Sh(e,t)},useId:function(){return l="useId",i(),am()},unstable_isNewReconciler:!1},fm={readContext:function(e){return dm(),xp(e)},useCallback:function(e,t){return l="useCallback",a(),o(),Yh(e,t)},useContext:function(e){return l="useContext",a(),o(),xp(e)},useEffect:function(e,t){return l="useEffect",a(),o(),Lh(e,t)},useImperativeHandle:function(e,t,n){return l="useImperativeHandle",a(),o(),Hh(e,t,n)},useInsertionEffect:function(e,t){return l="useInsertionEffect",a(),o(),Ah(e,t)},useLayoutEffect:function(e,t){return l="useLayoutEffect",a(),o(),$h(e,t)},useMemo:function(e,t){l="useMemo",a(),o();var n=c.current;c.current=fm;try{return Gh(e,t)}finally{c.current=n}},useReducer:function(e,t,n){l="useReducer",a(),o();var r=c.current;c.current=fm;try{return yh(e,t,n)}finally{c.current=r}},useRef:function(e){return l="useRef",a(),o(),Dh(e)},useState:function(e){l="useState",a(),o();var t=c.current;c.current=fm;try{return Rh(e)}finally{c.current=t}},useDebugValue:function(e,t){l="useDebugValue",a(),o()},useDeferredValue:function(e){return l="useDeferredValue",a(),o(),Xh(e)},useTransition:function(){return l="useTransition",a(),o(),tm()},useMutableSource:function(e,t,n){l="useMutableSource",a(),o()},useSyncExternalStore:function(e,t,n){return l="useSyncExternalStore",a(),o(),xh(e,t,n)},useId:function(){return l="useId",a(),o(),im()},unstable_isNewReconciler:!1},hm={readContext:function(e){return dm(),xp(e)},useCallback:function(e,t){return l="useCallback",a(),i(),Kh(e,t)},useContext:function(e){return l="useContext",a(),i(),xp(e)},useEffect:function(e,t){return l="useEffect",a(),i(),jh(e,t)},useImperativeHandle:function(e,t,n){return l="useImperativeHandle",a(),i(),Wh(e,t,n)},useInsertionEffect:function(e,t){return l="useInsertionEffect",a(),i(),Fh(e,t)},useLayoutEffect:function(e,t){return l="useLayoutEffect",a(),i(),Bh(e,t)},useMemo:function(e,t){l="useMemo",a(),i();var n=c.current;c.current=hm;try{return Zh(e,t)}finally{c.current=n}},useReducer:function(e,t,n){l="useReducer",a(),i();var r=c.current;c.current=hm;try{return bh(e)}finally{c.current=r}},useRef:function(e){return l="useRef",a(),i(),Nh()},useState:function(e){l="useState",a(),i();var t=c.current;c.current=hm;try{return Oh()}finally{c.current=t}},useDebugValue:function(e,t){return l="useDebugValue",a(),i(),qh()},useDeferredValue:function(e){return l="useDeferredValue",a(),i(),Jh(e)},useTransition:function(){return l="useTransition",a(),i(),nm()},useMutableSource:function(e,t,n){l="useMutableSource",a(),i()},useSyncExternalStore:function(e,t,n){return l="useSyncExternalStore",a(),i(),Sh(e,t)},useId:function(){return l="useId",a(),i(),am()},unstable_isNewReconciler:!1},mm={readContext:function(e){return dm(),xp(e)},useCallback:function(e,t){return l="useCallback",a(),i(),Kh(e,t)},useContext:function(e){return l="useContext",a(),i(),xp(e)},useEffect:function(e,t){return l="useEffect",a(),i(),jh(e,t)},useImperativeHandle:function(e,t,n){return l="useImperativeHandle",a(),i(),Wh(e,t,n)},useInsertionEffect:function(e,t){return l="useInsertionEffect",a(),i(),Fh(e,t)},useLayoutEffect:function(e,t){return l="useLayoutEffect",a(),i(),Bh(e,t)},useMemo:function(e,t){l="useMemo",a(),i();var n=c.current;c.current=hm;try{return Zh(e,t)}finally{c.current=n}},useReducer:function(e,t,n){l="useReducer",a(),i();var r=c.current;c.current=hm;try{return wh(e)}finally{c.current=r}},useRef:function(e){return l="useRef",a(),i(),Nh()},useState:function(e){l="useState",a(),i();var t=c.current;c.current=hm;try{return Ih()}finally{c.current=t}},useDebugValue:function(e,t){return l="useDebugValue",a(),i(),qh()},useDeferredValue:function(e){return l="useDeferredValue",a(),i(),Qh(e)},useTransition:function(){return l="useTransition",a(),i(),rm()},useMutableSource:function(e,t,n){l="useMutableSource",a(),i()},useSyncExternalStore:function(e,t,n){return l="useSyncExternalStore",a(),i(),Sh(e,t)},useId:function(){return l="useId",a(),i(),am()},unstable_isNewReconciler:!1},wm=r.unstable_now,xm=0,Sm=-1,km=-1,Cm=-1,Em=!1,Tm=!1;function _m(){xm=wm()}function Rm(e){km=wm(),e.actualStartTime<0&&(e.actualStartTime=wm())}function Om(){km=-1}function Im(e,t){var n;0<=km&&(n=wm()-km,e.actualDuration+=n,t&&(e.selfBaseDuration=n),km=-1)}function Mm(e){if(0<=Sm)for(var t=wm()-Sm,n=(Sm=-1,e.return);null!==n;){switch(n.tag){case K:return void(n.stateNode.effectDuration+=t);case fe:return void(n.stateNode.effectDuration+=t)}n=n.return}}function Dm(e){if(0<=Cm)for(var t=wm()-Cm,n=(Cm=-1,e.return);null!==n;){switch(n.tag){case K:var r=n.stateNode;return void(null!==r&&(r.passiveEffectDuration+=t));case fe:r=n.stateNode;return void(null!==r&&(r.passiveEffectDuration+=t))}n=n.return}}function Nm(){Sm=wm()}function Pm(){Cm=wm()}function zm(e){for(var t=e.child;t;)e.actualDuration+=t.actualDuration,t=t.sibling}function Lm(e,t){return{value:e,source:t,stack:yt(t),digest:null}}function jm(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function Am(e,t){try{var n=t.value,r=t.source,o=t.stack,i=null!==o?o:"";if(null!=n&&n._suppressLogging){if(e.tag===Y)return;console.error(n)}var a=r?C(r):null,s=(a?"The above error occurred in the <"+a+"> component:":"The above error occurred in one of your React components:")+"\n"+i+"\n\n"+(e.tag===K?"Consider adding an error boundary to your tree to customize error handling behavior.\nVisit https://reactjs.org/link/error-boundaries to learn more about error boundaries.":"React will try to recreate this component tree from scratch using the error boundary you provided, "+(C(e)||"Anonymous")+".");console.error(s)}catch(e){setTimeout(function(){throw e})}}var Fm="function"==typeof WeakMap?WeakMap:Map;function $m(e,t,n){var n=Pp(T,n),r=(n.tag=Ip,n.payload={element:null},t.value);return n.callback=function(){oy(r),Am(e,t)},n}function Bm(n,r,e){var t,e=Pp(T,e),o=(e.tag=Ip,n.type.getDerivedStateFromError),i=("function"==typeof o&&(t=r.value,e.payload=function(){return o(t)},e.callback=function(){Ry(n),Am(n,r)}),n.stateNode);return null!==i&&"function"==typeof i.componentDidCatch&&(e.callback=function(){Ry(n),Am(n,r),"function"!=typeof o&&(e=this,null===mv?mv=new Set([e]):mv.add(e));var e=r.value,t=r.stack;this.componentDidCatch(e,{componentStack:null!==t?t:""}),"function"==typeof o||na(n.lanes,S)||te("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",C(n)||"Unknown")}),e}function Vm(e,t,n){var r,o=e.pingCache;null===o?(o=e.pingCache=new Fm,r=new Set,o.set(t,r)):void 0===(r=o.get(t))&&(r=new Set,o.set(t,r)),r.has(n)||(r.add(n),o=function(e,t,n){var r=e.pingCache;null!==r&&r.delete(t);r=Mv();aa(e,n),function(e){e.tag!==Ju&&N0()&&null===A0.current&&te("A suspended resource finished loading inside a test, but the event was not wrapped in act(...).\n\nWhen testing, code that resolves suspended data should be wrapped into act(...):\n\nact(() => {\n  /* finish loading suspended data */\n});\n/* assert on the output */\n\nThis ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act")}(e),Z0===e&&ra(X0,n)&&(ev===Y0||ev===q0&&Ki(X0)&&Io()-sv<lv?qv(e,ae):ov|=n);zv(e,r)}.bind(null,e,t,n),Vo&&hy(e,n),t.then(o,o))}function Hm(e){var t,n,r=e;do{if(r.tag===X&&(n=void 0,null!==(n=(t=r).memoizedState)?null!==n.dehydrated:(t.memoizedProps,1)))return r}while(null!==(r=r.return));return null}function Wm(e,t,n,r,o){(e.mode&b)===E?e===t?e.flags|=oo:(e.flags|=ie,n.flags|=io,n.flags&=~(to|ro),n.tag===Y&&(null===n.alternate?n.tag=ge:((t=Pp(T,S)).tag=Op,zp(n,t,S))),n.lanes=n.lanes|S):(e.flags|=oo,e.lanes=o)}function Um(e,t,n,r,o){if(n.flags|=ro,Vo&&hy(e,o),null!==r&&"object"==typeof r&&"function"==typeof r.then){var i=r,a=(a=(l=n).tag,(l.mode&b)!==E||a!==q&&a!==Z&&a!==J||((a=l.alternate)?(l.updateQueue=a.updateQueue,l.memoizedState=a.memoizedState,l.lanes=a.lanes):(l.updateQueue=null,l.memoizedState=null)),se&&n.mode&b&&Td(),Hm(t));if(null!==a)return a.flags&=~Kr,Wm(a,t,n,0,o),a.mode&b&&Vm(e,i,o),l=i,void(null===(s=(a=a).updateQueue)?((c=new Set).add(l),a.updateQueue=c):s.add(l));if((o&S)===ae)return Vm(e,i,o),void Xv();r=new Error("A component suspended while responding to synchronous input. This will cause the UI to be replaced with a loading indicator. To fix, updates that suspend should be wrapped with startTransition.")}else if(se&&n.mode&b){Td();a=Hm(t);if(null!==a)return(a.flags&oo)===ee&&(a.flags|=Kr),Wm(a,t,n,0,o),void qd(Lm(r,n))}var s,l,a,c=r=Lm(r,n),u=(ev!==Y0&&(ev=U0),null===iv?iv=[c]:iv.push(c),t);do{switch(u.tag){case K:var d=r,p=(u.flags|=oo,Qi(o)),d=(u.lanes=u.lanes|p,$m(u,d,p));return void jp(u,d);case Y:var p=r,d=u.type,f=u.stateNode;if((u.flags&ie)!==ee||"function"!=typeof d.getDerivedStateFromError&&(null===f||"function"!=typeof f.componentDidCatch||ry(f)))break;return u.flags|=oo,f=Qi(o),u.lanes=u.lanes|f,void jp(u,Bm(u,p,f))}}while(null!==(u=u.return))}var qm,Ym=s.ReactCurrentOwner,Km=!1;function Gm(e,t,n,r){t.child=null===e?Sf(t,null,n,r):xf(t,e.child,n,r)}function Zm(e,t,n,r,o){t.type!==t.elementType&&(s=n.propTypes)&&Ru(s,r,"prop",Q(n));var i,a,s=n.render,n=t.ref;if(wp(t,o),Yo(t),Ym.current=t,Rt(!0),i=uh(e,t,s,r,n,o),a=dh(),t.mode&ei){Ho(!0);try{i=uh(e,t,s,r,n,o),a=dh()}finally{Ho(!1)}}return Rt(!1),Ko(),null===e||Km?(se&&a&&yd(t),t.flags|=Wr,Gm(e,t,i,o),t.child):(ph(e,t,o),Ig(e,t,o))}function Xm(e,t,n,r,o){if(null===e)return i=n.type,"function"!=typeof(a=i)||jy(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((a=i.propTypes)&&Ru(a,r,"prop",Q(i)),(a=Fy(n.type,null,r,t,t.mode,o)).ref=t.ref,(a.return=t).child=a):(a=Cy(a=i),t.tag=J,t.type=a,sg(t,i),Jm(e,t,a,r,o));var i=n.type,a=i.propTypes,s=(a&&Ru(a,r,"prop",Q(i)),e.child);if(!Mg(e,o)){var l=s.memoizedProps,n=n.compare;if((n=null!==n?n:il)(l,r)&&e.ref===t.ref)return Ig(e,t,o)}t.flags|=Wr;n=Ay(s,r);return n.ref=t.ref,(n.return=t).child=n}function Jm(e,t,n,r,o){if(t.type!==t.elementType){var i=t.elementType;if(i.$$typeof===Ze){var a=i,s=a._payload,a=a._init;try{i=a(s)}catch(e){i=null}a=i&&i.propTypes;a&&Ru(a,r,"prop",Q(i))}}if(null!==e){s=e.memoizedProps;if(il(s,r)&&e.ref===t.ref&&t.type===e.type){if(Km=!1,t.pendingProps=r=s,!Mg(e,o))return t.lanes=e.lanes,Ig(e,t,o);(e.flags&io)!==ee&&(Km=!0)}}return tg(e,t,n,r,o)}function Qm(e,t,n){var r,o=t.pendingProps,i=o.children,a=null!==e?e.memoizedState:null;if("hidden"===o.mode||m)if((t.mode&b)===E)t.memoizedState={baseLanes:ae,cachePool:null,transitions:null},Wv(t,n);else{if(!na(n,$i))return o=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=$i,t.memoizedState={baseLanes:o,cachePool:null,transitions:null},t.updateQueue=null,Wv(t,o),null;t.memoizedState={baseLanes:ae,cachePool:null,transitions:null},Wv(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Wv(t,r);return Gm(e,t,i,n),t.child}function eg(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=Gr,t.flags|=so)}function tg(e,t,n,r,o){t.type!==t.elementType&&(s=n.propTypes)&&Ru(s,r,"prop",Q(n));var i,a,s=Vu(t,$u(0,n,!0));if(wp(t,o),Yo(t),Ym.current=t,Rt(!0),i=uh(e,t,n,r,s,o),a=dh(),t.mode&ei){Ho(!0);try{i=uh(e,t,n,r,s,o),a=dh()}finally{Ho(!1)}}return Rt(!1),Ko(),null===e||Km?(se&&a&&yd(t),t.flags|=Wr,Gm(e,t,i,o),t.child):(ph(e,t,o),Ig(e,t,o))}function ng(e,t,n,r,o){switch(i1(t)){case!1:var i=t.stateNode,a=new t.type(t.memoizedProps,i.context).state;i.updater.enqueueSetState(i,a,null);break;case!0:t.flags|=ie,t.flags|=oo;i=new Error("Simulated error coming from DevTools"),a=Qi(o),i=(t.lanes=t.lanes|a,Bm(t,Lm(i,t),a));jp(t,i)}var s;t.type!==t.elementType&&(u=n.propTypes)&&Ru(u,r,"prop",Q(n)),Wu(n)?(s=!0,Gu(t)):s=!1,wp(t,o);var l,c,u,d,p,f,h,m,g,v,y,b,w=null===t.stateNode?(Og(e,t),lf(t,n,r),uf(t,n,r,o),!0):null===e?(u=n,d=r,p=o,f=(c=t).stateNode,h=c.memoizedProps,f.props=h,m=f.context,g=u.contextType,v=Lu,v="object"==typeof g&&null!==g?xp(g):Vu(c,$u(0,u,!0)),(y="function"==typeof(g=u.getDerivedStateFromProps)||"function"==typeof f.getSnapshotBeforeUpdate)||"function"!=typeof f.UNSAFE_componentWillReceiveProps&&"function"!=typeof f.componentWillReceiveProps||h===d&&m===v||cf(c,f,d,v),Fp(),m=c.memoizedState,b=f.state=m,Ap(c,d,f,p),b=c.memoizedState,h!==d||m!==b||Hu()||Mp?("function"==typeof g&&(nf(c,u,g,d),b=c.memoizedState),(p=Mp||af(c,u,h,d,m,b,v))?(y||"function"!=typeof f.UNSAFE_componentWillMount&&"function"!=typeof f.componentWillMount||("function"==typeof f.componentWillMount&&f.componentWillMount(),"function"==typeof f.UNSAFE_componentWillMount&&f.UNSAFE_componentWillMount()),"function"==typeof f.componentDidMount&&(g=oe,g|=lo,(c.mode&ti)!==E&&(g|=uo),c.flags|=g)):("function"==typeof f.componentDidMount&&(u=oe,u|=lo,(c.mode&ti)!==E&&(u|=uo),c.flags|=u),c.memoizedProps=d,c.memoizedState=b),f.props=d,f.state=b,f.context=v,p):("function"==typeof f.componentDidMount&&(p=oe,p|=lo,(c.mode&ti)!==E&&(p|=uo),c.flags|=p),!1)):(h=e,m=n,y=r,g=o,b=(d=t).stateNode,Np(h,d),v=d.memoizedProps,f=d.type===d.elementType?v:ap(d.type,v),b.props=f,c=d.pendingProps,p=b.context,w=m.contextType,l=Lu,l="object"==typeof w&&null!==w?xp(w):Vu(d,$u(0,m,!0)),(x="function"==typeof(w=m.getDerivedStateFromProps)||"function"==typeof b.getSnapshotBeforeUpdate)||"function"!=typeof b.UNSAFE_componentWillReceiveProps&&"function"!=typeof b.componentWillReceiveProps||v===c&&p===l||cf(d,b,y,l),Fp(),p=d.memoizedState,S=b.state=p,Ap(d,y,b,g),S=d.memoizedState,v!==c||p!==S||Hu()||Mp?("function"==typeof w&&(nf(d,m,w,y),S=d.memoizedState),(g=Mp||af(d,m,f,y,p,S,l)||!1)?(x||"function"!=typeof b.UNSAFE_componentWillUpdate&&"function"!=typeof b.componentWillUpdate||("function"==typeof b.componentWillUpdate&&b.componentWillUpdate(y,S,l),"function"==typeof b.UNSAFE_componentWillUpdate&&b.UNSAFE_componentWillUpdate(y,S,l)),"function"==typeof b.componentDidUpdate&&(d.flags|=oe),"function"==typeof b.getSnapshotBeforeUpdate&&(d.flags|=Zr)):("function"!=typeof b.componentDidUpdate||v===h.memoizedProps&&p===h.memoizedState||(d.flags|=oe),"function"!=typeof b.getSnapshotBeforeUpdate||v===h.memoizedProps&&p===h.memoizedState||(d.flags|=Zr),d.memoizedProps=y,d.memoizedState=S),b.props=y,b.state=S,b.context=l,g):("function"!=typeof b.componentDidUpdate||v===h.memoizedProps&&p===h.memoizedState||(d.flags|=oe),"function"!=typeof b.getSnapshotBeforeUpdate||v===h.memoizedProps&&p===h.memoizedState||(d.flags|=Zr),!1)),x=rg(e,t,n,w,s,o),S=t.stateNode;return w&&S.props!==r&&(pg||te("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",C(t)||"a component"),pg=!0),x}function rg(e,t,n,r,o,i){eg(e,t);var a=(t.flags&ie)!==ee;if(!r&&!a)return o&&Zu(t,n,!1),Ig(e,t,i);var s,l,c,r=t.stateNode;if(Ym.current=t,a&&"function"!=typeof n.getDerivedStateFromError)s=null,Om();else{if(Yo(t),Rt(!0),s=r.render(),t.mode&ei){Ho(!0);try{r.render()}finally{Ho(!1)}}Rt(!1),Ko()}return t.flags|=Wr,null!==e&&a?(a=s,c=i,(l=t).child=xf(l,e.child,null,c),l.child=xf(l,null,a,c)):Gm(e,t,s,i),t.memoizedState=r.state,o&&Zu(t,n,!0),t.child}function og(e){var t=e.stateNode;t.pendingContext?Yu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Yu(e,t.context,!1),If(e,t.containerInfo)}function ig(e,t,n,r,o){return Wd(),qd(o),t.flags|=Kr,Gm(e,t,n,r),t.child}function ag(e,t,n,r){Og(e,t);var o,e=t.pendingProps,i=n._payload,a=(0,n._init)(i),n=(t.type=a,t.tag=function(e){{if("function"==typeof e)return jy(e)?Y:q;if(null!=e){e=e.$$typeof;if(e===qe)return Z;if(e===Ge)return he}}return le}(a)),s=ap(a,e);switch(n){case q:return sg(t,a),t.type=a=Cy(a),tg(null,t,a,s,r);case Y:return t.type=a=Ey(a),ng(null,t,a,s,r);case Z:return t.type=a=Ty(a),Zm(null,t,a,s,r);case he:return t.type!==t.elementType&&(o=a.propTypes)&&Ru(o,s,"prop",Q(a)),Xm(null,t,a,ap(a.type,s),r)}i="";throw null!==a&&"object"==typeof a&&a.$$typeof===Ze&&(i=" Did you wrap a component in React.lazy() more than once?"),new Error("Element type is invalid. Received a promise that resolves to: "+a+". Lazy element type must resolve to a class or function."+i)}function sg(e,t){var n,r;t&&t.childContextTypes&&te("%s(...): childContextTypes cannot be defined on a function component.",t.displayName||t.name||"Component"),null!==e.ref&&(n="",(r=Ct())&&(n+="\n\nCheck the render method of `"+r+"`."),r=r||"",(e=e._debugSource)&&(r=e.fileName+":"+e.lineNumber),qm[r]||(qm[r]=!0,te("Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?%s",n))),"function"==typeof t.getDerivedStateFromProps&&(e=Q(t)||"Unknown",dg[e]||(te("%s: Function components do not support getDerivedStateFromProps.",e),dg[e]=!0)),"object"==typeof t.contextType&&null!==t.contextType&&(r=Q(t)||"Unknown",ug[r]||(te("%s: Function components do not support contextType.",r),ug[r]=!0))}var lg={},cg={},ug={},dg={},pg=!(qm={}),fg={},hg={},mg={dehydrated:null,treeContext:null,retryLane:ai};function gg(e){return{baseLanes:e,cachePool:null,transitions:null}}function vg(e,t,n){var r=t.pendingProps,o=(a1(t)&&(t.flags|=ie),jf.current),i=!1,a=(t.flags&ie)!==ee;if(!a&&(l=o,null!==(s=e)&&null===s.memoizedState||0==(l&Lf))?null!==e&&null===e.memoizedState||(o|=zf):(i=!0,t.flags&=~ie),Af(t,o&=1),null===e){Ld(t);var s=t.memoizedState;if(null!==s){var l=s.dehydrated;if(null!==l)return o=l,((c=t).mode&b)===E?(te("Cannot hydrate Suspense in legacy mode. Switch from ReactDOM.hydrate(element, container) to ReactDOMClient.hydrateRoot(container, <App />).render(element) or remove the Suspense components from the server rendered components."),c.lanes=S):au(o)?c.lanes=ci:c.lanes=$i,null}var o=r.children,c=r.fallback;return i?(u=function(e,t,n,r){var o,i=e.mode,a=e.child,t={mode:"hidden",children:t};a=((i&b)===E&&null!==a?((o=a).childLanes=ae,o.pendingProps=t,e.mode&x&&(o.actualDuration=0,o.actualStartTime=-1,o.selfBaseDuration=0,o.treeBaseDuration=0)):o=bg(t,i),By(n,i,r,null));return o.return=e,a.return=e,o.sibling=a,e.child=o,a}(t,o,c,n),t.child.memoizedState=gg(n),t.memoizedState=mg,u):yg(t,o)}var u=e.memoizedState;if(null!==u){var d,p,f,h,m,g,o=u.dehydrated;if(null!==o)return d=e,p=t,f=r,o=o,u=u,h=n,(a=a)?p.flags&Kr?(p.flags&=~Kr,a=jm(new Error("There was an error while hydrating this Suspense boundary. Switched to client rendering.")),xg(d,p,h,a)):null!==p.memoizedState?(p.child=d.child,p.flags|=ie,null):(a=f.children,m=f.fallback,a=function(e,t,n,r,o){var i=t.mode,n=bg({mode:"visible",children:n},i),r=By(r,i,o,null);r.flags|=Ur,n.return=t,r.return=t,n.sibling=r,t.child=n,(t.mode&b)!==E&&xf(t,e.child,null,o);return r}(d,p,a,m,h),p.child.memoizedState=gg(h),p.memoizedState=mg,a):(se&&te("We should not be hydrating here. This is a bug in React. Please file a bug."),(p.mode&b)===E?xg(d,p,h,null):au(o)?(m=function(e){var t,n,r;return(e=e.nextSibling&&e.nextSibling.dataset)&&(t=e.dgst,n=e.msg,r=e.stck),{message:n,digest:t,stack:r}}(o),a=m.digest,g=m.message,m=m.stack,g=jm(g?new Error(g):new Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering."),a,m),xg(d,p,h,g)):(a=na(h,d.childLanes),Km||a?(null!==(m=Z0)&&(g=function(e,t){var n;switch(Ji(t)){case li:n=si;break;case ui:n=ci;break;case fi:case hi:case mi:case gi:case vi:case yi:case bi:case wi:case xi:case Si:case ki:case Ci:case Ei:case Ti:case _i:case Ri:case Ii:case Mi:case Di:case Ni:case Pi:n=di;break;case Fi:n=Ai;break;default:n=ai}return(n&(e.suspendedLanes|t))!==ai?ai:n}(m,h))!==ai&&g!==u.retryLane&&(u.retryLane=g,a=T,Ep(d,g),Pv(m,d,g,a)),Xv(),m=jm(new Error("This Suspense boundary received an update before it finished hydrating. This caused the boundary to switch to client rendering. The usual way to fix this is to wrap the original update in startTransition.")),xg(d,p,h,m)):iu(o)?(p.flags|=ie,p.child=d.child,g=function(e){var t=e.memoizedState,n=ai;null!==t&&(n=t.retryLane);ay(e,n)}.bind(null,d),o._reactRetry=g,null):(Rd(p,o,u.treeContext),a=f.children,(h=yg(p,a)).flags|=Jr,h)))}return i?(m=r.fallback,d=r.children,g=function(e,t,n,r,o){var i,a=t.mode,e=e.child,s=e.sibling,n={mode:"hidden",children:n};{var l;(a&b)===E&&t.child!==e?(l=t.child,(l=l).childLanes=ae,l.pendingProps=n,t.mode&x&&(l.actualDuration=0,l.actualStartTime=-1,l.selfBaseDuration=e.selfBaseDuration,l.treeBaseDuration=e.treeBaseDuration),t.deletions=null):(l=wg(e,n)).subtreeFlags=e.subtreeFlags&vo}null!==s?i=Ay(s,r):(i=By(r,a,o,null)).flags|=Ur;return i.return=t,l.return=t,l.sibling=i,t.child=l,i}(e,t,d,m,n),o=t.child,f=e.child.memoizedState,o.memoizedState=null===f?gg(n):{baseLanes:f.baseLanes|n,cachePool:null,transitions:f.transitions},o.childLanes=e.childLanes&~n,t.memoizedState=mg,g):(p=r.children,a=function(e,t,n,r){var e=e.child,o=e.sibling,e=wg(e,{mode:"visible",children:n});(t.mode&b)===E&&(e.lanes=r);e.return=t,(e.sibling=null)!==o&&(null===(n=t.deletions)?(t.deletions=[o],t.flags|=qr):n.push(o));return t.child=e}(e,t,p,n),t.memoizedState=null,a)}function yg(e,t){t=bg({mode:"visible",children:t},e.mode);return(t.return=e).child=t}function bg(e,t){return Vy(e,t,ae,null)}function wg(e,t){return Ay(e,t)}function xg(e,t,n,r){null!==r&&qd(r),xf(t,e.child,null,n);r=yg(t,t.pendingProps.children);return r.flags|=Ur,t.memoizedState=null,r}function Sg(e,t,n){e.lanes=e.lanes|t;var r=e.alternate;null!==r&&(r.lanes=r.lanes|t),yp(e.return,t,n)}function kg(e,t){var n=en(e),e=!n&&"function"==typeof et(e);if(!n&&!e)return 1;te("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",e=n?"array":"iterable",t,e)}function Cg(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Eg(e,t,n){var r,o=t.pendingProps,i=o.revealOrder,a=o.tail,o=o.children,s=i;if(void 0!==s&&"forwards"!==s&&"backwards"!==s&&"together"!==s&&!fg[s])if(fg[s]=!0,"string"==typeof s)switch(s.toLowerCase()){case"together":case"forwards":case"backwards":te('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',s,s.toLowerCase());break;case"forward":case"backward":te('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',s,s.toLowerCase());break;default:te('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',s)}else te('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',s);l=i,void 0===(r=a)||hg[r]||("collapsed"!==r&&"hidden"!==r?(hg[r]=!0,te('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',r)):"forwards"!==l&&"backwards"!==l&&(hg[r]=!0,te('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',r))),function(e,t){if(("forwards"===t||"backwards"===t)&&null!=e&&!1!==e)if(en(e)){for(var n=0;n<e.length;n++)if(!kg(e[n],n))return}else{var r=et(e);if("function"==typeof r){var o=r.call(e);if(o)for(var i=o.next(),a=0;!i.done;i=o.next()){if(!kg(i.value,a))return;a++}}else te('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',t)}}(o,i),Gm(e,t,o,n);var l=jf.current;if(0!=(l&Lf)?(l=1&l|Lf,t.flags|=ie):(null!==e&&(e.flags&ie)!==ee&&function(e,t,n){for(var r=t;null!==r;){if(r.tag===X)null!==r.memoizedState&&Sg(r,n,e);else if(r.tag===ve)Sg(r,n,e);else if(null!==r.child){r=(r.child.return=r).child;continue}if(r===e)return;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}(t,t.child,n),l&=1),Af(t,l),(t.mode&b)===E)t.memoizedState=null;else switch(i){case"forwards":var c,u=function(e){for(var t=e,n=null;null!==t;){var r=t.alternate;null!==r&&null===$f(r)&&(n=t),t=t.sibling}return n}(t.child);null===u?(c=t.child,t.child=null):(c=u.sibling,u.sibling=null),Cg(t,!1,c,u,a);break;case"backwards":var d=null,p=t.child;for(t.child=null;null!==p;){var f=p.alternate;if(null!==f&&null===$f(f)){t.child=p;break}f=p.sibling;p.sibling=d,d=p,p=f}Cg(t,!0,d,null,a);break;case"together":Cg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}var Tg=!1,_g=!1;function Rg(){Km=!0}function Og(e,t){(t.mode&b)===E&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=Ur)}function Ig(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Om(),Zv(t.lanes),!na(n,t.childLanes))return null;var n=e,r=t;if(null!==n&&r.child!==n.child)throw new Error("Resuming work not yet implemented.");if(null!==r.child){var o=r.child,i=Ay(o,o.pendingProps);for((r.child=i).return=r;null!==o.sibling;)o=o.sibling,(i=i.sibling=Ay(o,o.pendingProps)).return=r;i.sibling=null}return t.child}function Mg(e,t){return!!na(e.lanes,t)}function Dg(e,t,n){if(t._debugNeedsRemount&&null!==e){var L=e,r=t,o=Fy(t.type,t.key,t.pendingProps,t._debugOwner||null,t.mode,t.lanes),i=r.return;if(null===i)throw new Error("Cannot swap the root fiber.");if(L.alternate=null,r.alternate=null,o.index=r.index,o.sibling=r.sibling,o.return=r.return,o.ref=r.ref,r===i.child)i.child=o;else{var a=i.child;if(null===a)throw new Error("Expected parent to have a child.");for(;a.sibling!==r;)if(null===(a=a.sibling))throw new Error("Expected to find the previous sibling.");a.sibling=o}var j=i.deletions;return null===j?(i.deletions=[L],i.flags|=qr):j.push(L),o.flags|=Ur,o}var s,A,l,c,u,d,p;if(null!==e)if(e.memoizedProps!==t.pendingProps||Hu()||t.type!==e.type)Km=!0;else{if(!Mg(e,n)&&(t.flags&ie)===ee){Km=!1;var f=e,h=t,m=n;switch(h.tag){case K:og(h),h.stateNode,Wd();break;case G:Nf(h);break;case Y:Wu(h.type)&&Gu(h);break;case ne:If(h,h.stateNode.containerInfo);break;case pe:var g=h.memoizedProps.value;gp(h,h.type._context,g);break;case fe:na(m,h.childLanes)&&(h.flags|=oe);g=h.stateNode;g.effectDuration=0,g.passiveEffectDuration=0;break;case X:var g=h.memoizedState;if(null!==g)return null!==g.dehydrated?(Af(h,1&jf.current),h.flags|=ie,null):na(m,h.child.childLanes)?vg(f,h,m):(Af(h,1&jf.current),null!==(g=Ig(f,h,m))?g.sibling:null);Af(h,1&jf.current);break;case ve:var g=(f.flags&ie)!==ee,F=na(m,h.childLanes);if(g){if(F)return Eg(f,h,m);h.flags|=ie}g=h.memoizedState;if(null!==g&&(g.rendering=null,g.tail=null,g.lastEffect=null),Af(h,jf.current),F)break;return null;case be:case we:return h.lanes=ae,Qm(f,h,m)}return Ig(f,h,m)}Km=(e.flags&io)!==ee}else Km=!1,se&&(i=t,xd(),(i.flags&ao)!==ee)&&(j=t.index,xd(),vd(t,cd,j));switch(t.lanes=ae,t.tag){case le:var v=e,y=t,b=t.type,w=n;Og(v,y);var v=y.pendingProps,$=Vu(y,$u(0,b,!1));if(wp(y,w),Yo(y),b.prototype&&"function"==typeof b.prototype.render&&(S=Q(b)||"Unknown",lg[S]||(te("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",S,S),lg[S]=!0)),y.mode&ei&&Zd.recordLegacyContextWarning(y,null),Rt(!0),S=uh(null,Ym.current=y,b,v,$,w),B=dh(),Rt(!1),Ko(),y.flags|=Wr,"object"==typeof S&&null!==S&&"function"==typeof S.render&&void 0===S.$$typeof&&(x=Q(b)||"Unknown",cg[x]||(te("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",x,x,x),cg[x]=!0)),"object"==typeof S&&null!==S&&"function"==typeof S.render&&void 0===S.$$typeof)return x=Q(b)||"Unknown",cg[x]||(te("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",x,x,x),cg[x]=!0),y.tag=Y,y.memoizedState=null,y.updateQueue=null,x=!1,Wu(b)?(x=!0,Gu(y)):x=!1,y.memoizedState=null!==S.state&&void 0!==S.state?S.state:null,Dp(y),sf(y,S),uf(y,b,v,w),rg(null,y,b,!0,x,w);if(y.tag=q,y.mode&ei){Ho(!0);try{S=uh(null,y,b,v,$,w),B=dh()}finally{Ho(!1)}}return se&&B&&yd(y),Gm(null,y,S,w),sg(y,b),y.child;case me:return ag(e,t,t.elementType,n);case q:var x=t.type,v=t.pendingProps;return tg(e,t,x,t.elementType===x?v:ap(x,v),n);case Y:var $=t.type,B=t.pendingProps;return ng(e,t,$,t.elementType===$?B:ap($,B),n);case K:var S=e,w=t,b=n;if(og(w),null===S)throw new Error("Should have a current fiber. This is a bug in React.");var y=w.pendingProps,k=w.memoizedState,V=k.element,y=(Np(S,w),Ap(w,y,null,b),w.memoizedState),C=(w.stateNode,y.element);if(k.isDehydrated){k={element:C,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions};if(w.updateQueue.baseState=k,w.memoizedState=k,w.flags&Kr)return ig(S,w,C,b,Lm(new Error("There was an error while hydrating. Because the error happened outside of a Suspense boundary, the entire root will switch to client rendering."),w));if(C!==V)return ig(S,w,C,b,Lm(new Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."),w));_d(w);for(var y=Sf(w,null,C,b),H=w.child=y;H;)H.flags=H.flags&~Ur|Jr,H=H.sibling}else{if(Wd(),C===V)return Ig(S,w,b);Gm(S,w,C,b)}return w.child;case G:return k=e,V=n,Nf(C=t),null===k&&Ld(C),c=C.type,u=C.pendingProps,d=null!==k?k.memoizedProps:null,p=u.children,Uc(c,u)?p=null:null!==d&&Uc(c,d)&&(C.flags|=Yr),eg(k,C),Gm(k,C,p,V),C.child;case re:return u=t,null===e&&Ld(u),null;case X:return vg(e,t,n);case ne:return c=e,d=n,If(p=t,p.stateNode.containerInfo),E=p.pendingProps,null===c?p.child=xf(p,null,E,d):Gm(c,p,E,d),p.child;case Z:var E=t.type,T=t.pendingProps,T=t.elementType===E?T:ap(E,T);return Zm(e,t,E,T,n);case ce:return Gm(e,T=t,T.pendingProps,n),T.child;case ue:return Gm(e,l=t,l.pendingProps.children,n),l.child;case fe:return l=e,_=n,(R=t).flags|=oe,(W=R.stateNode).effectDuration=0,W.passiveEffectDuration=0,Gm(l,R,R.pendingProps.children,_),R.child;case pe:var W=e,_=t,R=n,O=_.type._context,I=_.pendingProps,M=_.memoizedProps,U=I.value,D=("value"in I||Tg||(Tg=!0,te("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?")),_.type.propTypes);if(D&&Ru(D,I,"prop","Context.Provider"),gp(_,O,U),null!==M){D=M.value;if(ol(D,U)){if(M.children===I.children&&!Hu())return Ig(W,_,R)}else bp(_,O,R)}return Gm(W,_,I.children,R),_.child;case de:return D=e,U=n,void 0===(O=(M=t).type)._context?O===O.Consumer||_g||(_g=!0,te("Rendering <Context> directly is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?")):O=O._context,"function"!=typeof(I=M.pendingProps.children)&&te("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),wp(M,U),O=xp(O),Yo(M),Ym.current=M,Rt(!0),I=I(O),Rt(!1),Ko(),M.flags|=Wr,Gm(D,M,I,U),M.child;case he:var N=t.type,P=ap(N,t.pendingProps);return t.type!==t.elementType&&(z=N.propTypes)&&Ru(z,P,"prop",Q(N)),P=ap(N.type,P),Xm(e,t,N,P,n);case J:return Jm(e,t,t.type,t.pendingProps,n);case ge:var z=t.type,N=t.pendingProps,P=t.elementType===z?N:ap(z,N);return N=z,z=P,P=n,Og(e,s=t),s.tag=Y,Wu(N)?(A=!0,Gu(s)):A=!1,wp(s,P),lf(s,N,z),uf(s,N,z,P),rg(null,s,N,!0,A,P);case ve:return Eg(e,t,n);case ye:break;case be:return Qm(e,t,n)}throw new Error("Unknown unit of work tag ("+t.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function Ng(e){e.flags|=oe}function Pg(e){e.flags|=Gr,e.flags|=so}function zg(e,t){if(!se)switch(e.tailMode){case"hidden":for(var n=e.tail,r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":for(var o=e.tail,i=null;null!==o;)null!==o.alternate&&(i=o),o=o.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Lg(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=ae,r=ee;if(t)if((e.mode&x)!==E){for(var o=e.selfBaseDuration,i=e.child;null!==i;)n|=i.lanes|i.childLanes,r=(r|=i.subtreeFlags&vo)|i.flags&vo,o+=i.treeBaseDuration,i=i.sibling;e.treeBaseDuration=o}else for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r=(r|=a.subtreeFlags&vo)|a.flags&vo,a.return=e,a=a.sibling;else if((e.mode&x)!==E){for(var s=e.actualDuration,l=e.selfBaseDuration,c=e.child;null!==c;)n|=c.lanes|c.childLanes,r=(r|=c.subtreeFlags)|c.flags,s+=c.actualDuration,l+=c.treeBaseDuration,c=c.sibling;e.actualDuration=s,e.treeBaseDuration=l}else for(var u=e.child;null!==u;)n|=u.lanes|u.childLanes,r=(r|=u.subtreeFlags)|u.flags,u.return=e,u=u.sibling;e.subtreeFlags|=r,e.childLanes=n}function jg(e,t,n){if(se&&null!==kd&&(t.mode&b)!==E&&(t.flags&ie)===ee)return Hd(t),Wd(),t.flags|=Kr|ro|oo,!1;var r=Vd(t);if(null===n||null===n.dehydrated)return Ud(),!0;if(null!==e)return Wd(),(t.flags&ie)===ee&&(t.memoizedState=null),t.flags|=oe,Lg(t),(t.mode&x)!==E&&null!==n&&null!==(e=t.child)&&(t.treeBaseDuration-=e.treeBaseDuration),!1;if(r)return Fd(t),Lg(t),(t.mode&x)!==E&&null!==n&&null!==(e=t.child)&&(t.treeBaseDuration-=e.treeBaseDuration),!1;throw new Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.")}function Ag(e,t,n){var r=t.pendingProps;switch(wd(t),t.tag){case le:case me:case J:case q:case Z:case ce:case ue:case fe:case de:case he:return Lg(t),null;case Y:return Wu(t.type)&&Uu(t),Lg(t),null;case K:var o=t.stateNode;return Mf(t),qu(t),Yf(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),null!==e&&null!==e.child||(Vd(t)?Ng(t):null===e||e.memoizedState.isDehydrated&&(t.flags&Kr)===ee||(t.flags|=Zr,Ud())),Lg(t),null;case G:Pf(t);var o=Of(),i=t.type;if(null!==e&&null!=t.stateNode)Bg(e,t,i,r),e.ref!==t.ref&&Pg(t);else{if(!r){if(null===t.stateNode)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return Lg(t),null}var a=Df();Vd(t)?jd(t,0,a)&&Ng(t):(o=Wc(i,r,o,a,t),$g(o,t),function(e,t,n){switch(yc(e,t,n),t){case"button":case"input":case"select":case"textarea":return n.autoFocus;case"img":return 1;default:return}}(t.stateNode=o,i,r)&&Ng(t)),null!==t.ref&&Pg(t)}return Lg(t),null;case re:a=r;if(e&&null!=t.stateNode){o=e.memoizedProps;Vg(0,t,o,a)}else{if("string"!=typeof a&&null===t.stateNode)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");i=Of(),o=Df();Vd(t)?Ad(t)&&Ng(t):t.stateNode=qc(a,i,o,t)}return Lg(t),null;case X:Ff(t);a=t.memoizedState;if(null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated)if(!jg(e,t,a))return t.flags&oo?t:null;return(t.flags&ie)!==ee?(t.lanes=n,(t.mode&x)!==E&&zm(t),t):((i=null!==a)!=(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=Qr,(t.mode&b)!==E)&&(null===e&&(!0!==t.memoizedProps.unstable_avoidThisFallback||!v)||0!=(jf.current&zf)?ev===H0&&(ev=q0):Xv()),null!==t.updateQueue&&(t.flags|=oe),Lg(t),(t.mode&x)!==E&&i&&null!==(o=t.child)&&(t.treeBaseDuration-=o.treeBaseDuration),null);case ne:return Mf(t),null===e&&Hl(t.stateNode.containerInfo),Lg(t),null;case pe:return vp(t.type._context,t),Lg(t),null;case ge:return Wu(t.type)&&Uu(t),Lg(t),null;case ve:Ff(t);var s=t.memoizedState;if(null===s);else{var l=(t.flags&ie)!==ee,a=s.rendering;if(null===a)if(l)zg(s,!1);else{if(!(ev===H0&&(null===e||(e.flags&ie)===ee)))for(var c=t.child;null!==c;){var u=$f(c);if(null!==u)return l=!0,t.flags|=ie,zg(s,!1),null!==(u=u.updateQueue)&&(t.updateQueue=u,t.flags|=oe),t.subtreeFlags=ee,kf(t,n),Af(t,1&jf.current|Lf),t.child;c=c.sibling}null!==s.tail&&Io()>cv&&(t.flags|=ie,zg(s,!(l=!0)),t.lanes=zi)}else{if(!l){var i=$f(a);if(null!==i){t.flags|=ie;l=!0,o=i.updateQueue;if(null!==o&&(t.updateQueue=o,t.flags|=oe),zg(s,!0),null===s.tail&&"hidden"===s.tailMode&&!a.alternate&&!se)return Lg(t),null}else 2*Io()-s.renderingStartTime>cv&&n!==$i&&(t.flags|=ie,zg(s,!(l=!0)),t.lanes=zi)}s.isBackwards?(a.sibling=t.child,t.child=a):(null!==(i=s.last)?i.sibling=a:t.child=a,s.last=a)}if(null!==s.tail)return o=s.tail,s.rendering=o,s.tail=o.sibling,s.renderingStartTime=Io(),o.sibling=null,i=jf.current,l?i=1&i|Lf:i&=1,Af(t,i),o}return Lg(t),null;case ye:break;case be:case we:Uv(t);a=null!==t.memoizedState;return null===e||null!==e.memoizedState==a||m||(t.flags|=Qr),a&&(t.mode&b)!==E?na(J0,$i)&&(Lg(t),t.subtreeFlags&(Ur|oe))&&(t.flags|=Qr):Lg(t),null;case f:case h:return null}throw new Error("Unknown unit of work tag ("+t.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function Fg(e,t){switch(wd(t),t.tag){case Y:var n=t.type.childContextTypes;null!=n&&Uu(t);break;case K:t.stateNode,Mf(t),qu(t),Yf();break;case G:Pf(t);break;case ne:Mf(t);break;case X:case ve:Ff(t);break;case pe:vp(t.type._context,t);break;case be:case we:Uv(t)}}var $g=function(e,t,n,r){for(var o,i=t.child;null!==i;){if(i.tag===G||i.tag===re)o=i.stateNode,e.appendChild(o);else if(i.tag!==ne&&null!==i.child){i=(i.child.return=i).child;continue}if(i===t)return;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Bg=function(e,t,n,r,o){var i,a,s,e=e.memoizedProps;e!==r&&(i=t.stateNode,a=Df(),i=i,n=n,e=e,a=a,typeof(r=r).children==typeof e.children||"string"!=typeof r.children&&"number"!=typeof r.children||(s=""+r.children,a=Mc(a.ancestorInfo,n),zc(null,s,a)),s=bc(i,n,e,r),t.updateQueue=s)&&Ng(t)},Vg=function(e,t,n,r){n!==r&&Ng(t)},Hg=null,Hg=new Set,Wg=!1,Ug=!1,qg="function"==typeof WeakSet?WeakSet:Set,O=null,Yg=null,Kg=null;function Gg(e,t){if(t.props=e.memoizedProps,t.state=e.memoizedState,e.mode&x)try{Nm(),t.componentWillUnmount()}finally{Mm(e)}else t.componentWillUnmount()}function Zg(t,n){try{r0(Wf,t)}catch(e){D(t,n,e)}}function Xg(t,n,e){try{Gg(t,e)}catch(e){D(t,n,e)}}function Jg(t,n){try{s0(t)}catch(e){D(t,n,e)}}function Qg(t,n){var e,r=t.ref;if(null!==r)if("function"==typeof r){try{if(P&&z&&t.mode&x)try{Nm(),e=r(null)}finally{Mm(t)}else e=r(null)}catch(e){D(t,n,e)}"function"==typeof e&&te("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",C(t))}else r.current=null}function e0(t,n,e){try{e()}catch(e){D(t,n,e)}}function t0(e,t){for(Hc(e.containerInfo),O=t;null!==O;){var n=O,r=n.child;(n.subtreeFlags&fo)!==ee&&null!==r?(r.return=n,O=r):function(){for(;null!==O;){var t=O;_t(t);try{!function(e){var t=e.alternate;if((e.flags&Zr)!==ee){switch(_t(e),e.tag){case q:case Z:case J:break;case Y:var n,r,o;null!==t&&(r=t.memoizedProps,o=t.memoizedState,n=e.stateNode,e.type!==e.elementType||pg||(n.props!==e.memoizedProps&&te("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",C(e)||"instance"),n.state!==e.memoizedState&&te("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",C(e)||"instance")),r=n.getSnapshotBeforeUpdate(e.elementType===e.type?r:ap(e.type,r),o),o=Hg,void 0!==r||o.has(e.type)||(o.add(e.type),te("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",C(e))),n.__reactInternalSnapshotBeforeUpdate=r);break;case K:!function(e){e.nodeType===xn?e.textContent="":e.nodeType===Cn&&e.documentElement&&e.removeChild(e.documentElement)}(e.stateNode.containerInfo);break;case G:case re:case ne:case ge:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}Tt()}}(t)}catch(e){D(t,t.return,e)}Tt();var e=t.sibling;if(null!==e)return e.return=t.return,O=e;O=t.return}}()}0}function n0(e,t,n){var r,o=t.updateQueue,o=null!==o?o.lastEffect:null;if(null!==o){var i,a=o.next,s=a;do{(s.tag&e)===e&&(i=s.destroy,(s.destroy=void 0)!==i)&&((e&Uf)!==Bf?(r=t,null!==w&&"function"==typeof w.markComponentPassiveEffectUnmountStarted&&w.markComponentPassiveEffectUnmountStarted(r)):(e&Wf)!==Bf&&Go(t),(e&Hf)!==Bf&&wy(!0),e0(t,n,i),(e&Hf)!==Bf&&wy(!1),(e&Uf)!==Bf?null!==w&&"function"==typeof w.markComponentPassiveEffectUnmountStopped&&w.markComponentPassiveEffectUnmountStopped():(e&Wf)!==Bf&&Zo()),s=s.next}while(s!==a)}}function r0(e,t){var n,r=t.updateQueue,r=null!==r?r.lastEffect:null;if(null!==r){var o,i,a=r.next,s=a;do{(s.tag&e)===e&&((e&Uf)!==Bf?(n=t,null!==w&&"function"==typeof w.markComponentPassiveEffectMountStarted&&w.markComponentPassiveEffectMountStarted(n)):(e&Wf)!==Bf&&(n=t,null!==w)&&"function"==typeof w.markComponentLayoutEffectMountStarted&&w.markComponentLayoutEffectMountStarted(n),o=s.create,(e&Hf)!==Bf&&wy(!0),s.destroy=o(),(e&Hf)!==Bf&&wy(!1),(e&Uf)!==Bf?null!==w&&"function"==typeof w.markComponentPassiveEffectMountStopped&&w.markComponentPassiveEffectMountStopped():(e&Wf)!==Bf&&null!==w&&"function"==typeof w.markComponentLayoutEffectMountStopped&&w.markComponentLayoutEffectMountStopped(),void 0!==(o=s.destroy))&&"function"!=typeof o&&(i=void 0,te("%s must not return anything besides a function, which is used for clean-up.%s",i=(s.tag&Wf)!==ee?"useLayoutEffect":(s.tag&Hf)!==ee?"useInsertionEffect":"useEffect",null===o?" You returned null. If your effect does not require clean up, return undefined (or nothing).":"function"==typeof o.then?"\n\nIt looks like you wrote "+i+"(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:\n\n"+i+"(() => {\n  async function fetchData() {\n    // You can await here\n    const response = await MyAPI.getData(someId);\n    // ...\n  }\n  fetchData();\n}, [someId]); // Or [] if effect doesn't need props or state\n\nLearn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching":" You returned: "+o)),s=s.next}while(s!==a)}}function o0(e,t,n){if((n.flags&mo)!==ee)switch(n.tag){case q:case Z:case J:if(!Ug)if(n.mode&x)try{Nm(),r0(Wf|Vf,n)}finally{Mm(n)}else r0(Wf|Vf,n);break;case Y:var r=n.stateNode;if(n.flags&oe&&!Ug)if(null===t)if(n.type!==n.elementType||pg||(r.props!==n.memoizedProps&&te("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",C(n)||"instance"),r.state!==n.memoizedState&&te("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",C(n)||"instance")),n.mode&x)try{Nm(),r.componentDidMount()}finally{Mm(n)}else r.componentDidMount();else{var o=n.elementType===n.type?t.memoizedProps:ap(n.type,t.memoizedProps),i=t.memoizedState;if(n.type!==n.elementType||pg||(r.props!==n.memoizedProps&&te("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",C(n)||"instance"),r.state!==n.memoizedState&&te("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",C(n)||"instance")),n.mode&x)try{Nm(),r.componentDidUpdate(o,i,r.__reactInternalSnapshotBeforeUpdate)}finally{Mm(n)}else r.componentDidUpdate(o,i,r.__reactInternalSnapshotBeforeUpdate)}o=n.updateQueue;null!==o&&(n.type!==n.elementType||pg||(r.props!==n.memoizedProps&&te("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",C(n)||"instance"),r.state!==n.memoizedState&&te("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",C(n)||"instance")),$p(0,o,r));break;case K:i=n.updateQueue;if(null!==i){var a=null;if(null!==n.child)switch(n.child.tag){case G:case Y:a=n.child.stateNode}$p(0,i,a)}break;case G:o=n.stateNode;null===t&&n.flags&oe&&!function(e,t,n){switch(t){case"button":case"input":case"select":case"textarea":return n.autoFocus&&e.focus();case"img":n.src&&(e.src=n.src)}}(o,n.type,n.memoizedProps);break;case re:case ne:break;case fe:var r=n.memoizedProps,i=r.onCommit,o=r.onRender,s=n.stateNode.effectDuration,r=xm,l=Em?"nested-update":null===t?"mount":"update",c=("function"==typeof o&&o(n.memoizedProps.id,l,n.actualDuration,n.treeBaseDuration,n.actualStartTime,r),"function"==typeof i&&i(n.memoizedProps.id,l,s,r),bv.push(n),gv||(gv=!0,vy(Po,function(){return ny(),null})),n.return);e:for(;null!==c;){switch(c.tag){case K:c.stateNode.effectDuration+=s;break e;case fe:c.stateNode.effectDuration+=s;break e}c=c.return}break;case X:if(null===(o=n).memoizedState&&null!==(o=o.alternate)&&null!==(o=o.memoizedState)&&null!==(o=o.dehydrated)){i=o;Ba(i)}break;case ve:case ge:case ye:case be:case we:case h:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}Ug||n.flags&Gr&&s0(n)}function i0(e){switch(e.tag){case q:case Z:case J:if(e.mode&x)try{Nm(),Zg(e,e.return)}finally{Mm(e)}else Zg(e,e.return);break;case Y:var t=e.stateNode;if("function"==typeof t.componentDidMount){var n=e,r=e.return;try{t.componentDidMount()}catch(e){D(n,r,e)}}Jg(e,e.return);break;case G:Jg(e,e.return)}}function a0(t,e){for(var n,r,o,i=null,a=t;;){if(a.tag===G){if(null===i){i=a;try{var s=a.stateNode;e?"function"==typeof(o=(o=s).style).setProperty?o.setProperty("display","none","important"):o.display="none":(n=a.stateNode,r=null!=(r=(r=a.memoizedProps).style)&&r.hasOwnProperty("display")?r.display:null,n.style.display=On("display",r))}catch(e){D(t,t.return,e)}}}else if(a.tag===re){if(null===i)try{var l=a.stateNode;l.nodeValue=e?"":a.memoizedProps}catch(e){D(t,t.return,e)}}else if((a.tag!==be&&a.tag!==we||null===a.memoizedState||a===t)&&null!==a.child){a=(a.child.return=a).child;continue}if(a===t)return;for(;null===a.sibling;){if(null===a.return||a.return===t)return;i===a&&(i=null),a=a.return}i===a&&(i=null),a.sibling.return=a.return,a=a.sibling}}function s0(e){var t=e.ref;if(null!==t){var n,r=e.stateNode;if(e.tag,r=r,"function"==typeof t){if(e.mode&x)try{Nm(),n=t(r)}finally{Mm(e)}else n=t(r);"function"==typeof n&&te("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",C(e))}else t.hasOwnProperty("current")||te("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",C(e)),t.current=r}}function l0(e){var t=e.alternate;null!==t&&(e.alternate=null,l0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===G&&null!==(t=e.stateNode)&&(delete(t=t)[uu],delete t[du],delete t[fu],delete t[hu],delete t[mu]),e.stateNode=null,e._debugOwner=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function c0(e){return e.tag===G||e.tag===K||e.tag===ne}function u0(e){var t=e;e:for(;;){for(;null===t.sibling;){if(null===t.return||c0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==G&&t.tag!==re&&t.tag!==g;){if(t.flags&Ur)continue e;if(null===t.child||t.tag===ne)continue e;t=(t.child.return=t).child}if(!(t.flags&Ur))return t.stateNode}}function d0(e){var t=function(e){for(var t=e.return;null!==t;){if(c0(t))return t;t=t.return}throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}(e);switch(t.tag){case G:var n=t.stateNode;t.flags&Yr&&(Qc(n),t.flags&=~Yr),!function e(t,n,r){var o=t.tag;var i=o===G||o===re;if(i){i=t.stateNode;n?nu(r,i,n):eu(r,i)}else if(o!==ne){i=t.child;if(null!==i){e(i,n,r);for(var a=i.sibling;null!==a;)e(a,n,r),a=a.sibling}}}(e,u0(e),n);break;case K:case ne:n=t.stateNode.containerInfo;!function e(t,n,r){var o=t.tag;var i=o===G||o===re;if(i){i=t.stateNode;n?ru(r,i,n):tu(r,i)}else if(o!==ne){i=t.child;if(null!==i){e(i,n,r);for(var a=i.sibling;null!==a;)e(a,n,r),a=a.sibling}}}(e,u0(e),n);break;default:throw new Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}var p0=null,f0=!1;function h0(e,t,n){for(var r=n.child;null!==r;)m0(e,t,r),r=r.sibling}function m0(e,t,n){var r=n;if($o&&"function"==typeof $o.onCommitFiberUnmount)try{$o.onCommitFiberUnmount(Fo,r)}catch(e){Bo||(Bo=!0,te("React instrumentation encountered an error: %s",e))}switch(n.tag){case G:Ug||Qg(n,t);case re:var o=p0,i=f0;return p0=null,h0(e,t,n),f0=i,void(null!==(p0=o)&&(f0?(i=p0,o=n.stateNode,(i.nodeType===kn?i.parentNode:i).removeChild(o)):(i=p0,o=n.stateNode,i.removeChild(o))));case g:return void(null!==p0&&(f0?(i=p0,o=n.stateNode,i.nodeType===kn?ou(i.parentNode,o):i.nodeType===xn&&ou(i,o),Ba(i)):ou(p0,n.stateNode)));case ne:var a=p0,s=f0;return p0=n.stateNode.containerInfo,f0=!0,h0(e,t,n),p0=a,void(f0=s);case q:case Z:case he:case J:if(!Ug){var a=n.updateQueue;if(null!==a){var s=a.lastEffect;if(null!==s){var l=s.next,c=l;do{var u=c,d=u.destroy,u=u.tag}while(void 0!==d&&((u&Hf)!==Bf?e0(n,t,d):(u&Wf)!==Bf&&(Go(n),n.mode&x?(Nm(),e0(n,t,d),Mm(n)):e0(n,t,d),Zo())),(c=c.next)!==l)}}}return void h0(e,t,n);case Y:return Ug||(Qg(n,t),"function"==typeof(a=n.stateNode).componentWillUnmount&&Xg(n,t,a)),void h0(e,t,n);case ye:return void h0(e,t,n);case be:n.mode&b?(Ug=(s=Ug)||null!==n.memoizedState,h0(e,t,n),Ug=s):h0(e,t,n);break;default:h0(e,t,n)}}function g0(n){var r,e=n.updateQueue;null!==e&&((n.updateQueue=null)===(r=n.stateNode)&&(r=n.stateNode=new qg),e.forEach(function(e){var t=function(e,t){var n,r=ai;switch(e.tag){case X:n=e.stateNode;var o=e.memoizedState;null!==o&&(r=o.retryLane);break;case ve:n=e.stateNode;break;default:throw new Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}null!==n&&n.delete(t);ay(e,r)}.bind(null,n,e);if(!r.has(e)){if(r.add(e),Vo){if(null===Yg||null===Kg)throw Error("Expected finished root and lanes to be set. This is a bug in React.");hy(Kg,Yg)}e.then(t,t)}}))}function v0(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{l=s=a=i=void 0;var i=e,a=t,s=o,l=a;e:for(;null!==l;){switch(l.tag){case G:p0=l.stateNode,f0=!1;break e;case K:case ne:p0=l.stateNode.containerInfo,f0=!0;break e}l=l.return}if(null===p0)throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");m0(i,a,s),f0=!1,(p0=null)!==(a=(i=s).alternate)&&(a.return=null),i.return=null}catch(e){D(o,t,e)}}var c=St;if(t.subtreeFlags&ho)for(var u=t.child;null!==u;)_t(u),y0(u,e),u=u.sibling;_t(c)}function y0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case q:case Z:case he:case J:if(v0(e,t),b0(t),r&oe){try{n0(Hf|Vf,t,t.return),r0(Hf|Vf,t)}catch(e){D(t,t.return,e)}if(t.mode&x){try{Nm(),n0(Wf|Vf,t,t.return)}catch(e){D(t,t.return,e)}Mm(t)}else try{n0(Wf|Vf,t,t.return)}catch(e){D(t,t.return,e)}}return;case Y:return v0(e,t),b0(t),void(r&Gr&&null!==n&&Qg(n,n.return));case G:if(v0(e,t),b0(t),r&Gr&&null!==n&&Qg(n,n.return),t.flags&Yr){var o=t.stateNode;try{Qc(o)}catch(e){D(t,t.return,e)}}if(r&oe){o=t.stateNode;if(null!=o){var i=t.memoizedProps,a=null!==n?n.memoizedProps:i,s=t.type,l=t.updateQueue;if((t.updateQueue=null)!==l)try{wc(c=o,l,s,a,u=i),Cu(c,u)}catch(e){D(t,t.return,e)}}}return;case re:if(v0(e,t),b0(t),r&oe){if(null===t.stateNode)throw new Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");l=t.stateNode,s=t.memoizedProps;null!==n&&n.memoizedProps;try{l.nodeValue=s}catch(e){D(t,t.return,e)}}return;case K:if(v0(e,t),b0(t),r&oe)if(null!==n)if(n.memoizedState.isDehydrated)try{Ba(e.containerInfo)}catch(e){D(t,t.return,e)}return;case ne:return v0(e,t),void b0(t);case X:v0(e,t),b0(t);var c,a=t.child;if(a.flags&Qr&&(i=a.stateNode,c=null!==a.memoizedState,!(i.isHidden=c)||null!==a.alternate&&null!==a.alternate.memoizedState||(sv=Io())),r&oe){try{t.memoizedState}catch(e){D(t,t.return,e)}g0(t)}return;case be:var u=null!==n&&null!==n.memoizedState;if(t.mode&b?(Ug=(d=Ug)||u,v0(e,t),Ug=d):v0(e,t),b0(t),r&Qr){var d=t.stateNode,p=null!==t.memoizedState,f=t;if((d.isHidden=p)&&!u&&(f.mode&b)!==E)for(var h=(O=f).child;null!==h;){y=v=g=m=void 0;for(var m=O=h;null!==O;){var g=O,v=g.child;switch(g.tag){case q:case Z:case he:case J:if(g.mode&x)try{Nm(),n0(Wf,g,g.return)}finally{Mm(g)}else n0(Wf,g,g.return);break;case Y:Qg(g,g.return);var y=g.stateNode;"function"==typeof y.componentWillUnmount&&Xg(g,g.return,y);break;case G:Qg(g,g.return);break;case be:if(null!==g.memoizedState){S0(m);continue}}null!==v?(v.return=g,O=v):S0(m)}h=h.sibling}a0(f,p)}return;case ve:return v0(e,t),b0(t),void(r&oe&&g0(t));case ye:return;default:v0(e,t),b0(t)}}function b0(t){var e=t.flags;if(e&Ur){try{d0(t)}catch(e){D(t,t.return,e)}t.flags&=~Ur}e&Jr&&(t.flags&=~Jr)}function w0(e,t,n){!function e(t,n,r){var o=(t.mode&b)!==E;for(;null!==O;){var i=O,a=i.child;if(i.tag===be&&o){var s=null!==i.memoizedState,s=s||Wg;if(s);else{for(var l=i.alternate,l=null!==l&&null!==l.memoizedState,l=l||Ug,c=Wg,u=Ug,d=(Wg=s,(Ug=l)&&!u&&k0(O=i),a);null!==d;)e(O=d,n,r),d=d.sibling;O=i,Wg=c,Ug=u}x0(t)}else(i.subtreeFlags&mo)!==ee&&null!==a?(a.return=i,O=a):x0(t)}}(O=e,Kg=t,Yg=n),Kg=Yg=null}function x0(e){for(;null!==O;){var t=O;if((t.flags&mo)!==ee){var n=t.alternate;_t(t);try{o0(0,n,t)}catch(e){D(t,t.return,e)}Tt()}if(t===e)return void(O=null);n=t.sibling;if(null!==n)return n.return=t.return,void(O=n);O=t.return}}function S0(e){for(;null!==O;){var t=O;if(t===e)return void(O=null);var n=t.sibling;if(null!==n)return n.return=t.return,void(O=n);O=t.return}}function k0(e){for(;null!==O;){var t=O,n=t.child;if(t.tag===be)if(null!==t.memoizedState){C0(e);continue}null!==n?(n.return=t,O=n):C0(e)}}function C0(e){for(;null!==O;){var t=O;_t(t);try{i0(t)}catch(e){D(t,t.return,e)}if(Tt(),t===e)return void(O=null);var n=t.sibling;if(null!==n)return n.return=t.return,void(O=n);O=t.return}}function E0(e,t){for(var n=O=t;null!==O;){var r=O,o=r.child;(r.subtreeFlags&go)!==ee&&null!==o?(o.return=r,O=o):function(e){for(;null!==O;){var t=O;if((t.flags&Xr)!==ee){_t(t);try{!function(e){switch(e.tag){case q:case Z:case J:if(e.mode&x){Pm();try{r0(Uf|Vf,e)}finally{Dm(e)}}else r0(Uf|Vf,e)}}(t)}catch(e){D(t,t.return,e)}Tt()}if(t===e)return O=null;var n=t.sibling;if(null!==n)return n.return=t.return,O=n;O=t.return}}(n)}}function T0(e){for(O=e;null!==O;){var t=O,n=t.child;if((O.flags&qr)!==ee){var r=t.deletions;if(null!==r){for(var o=0;o<r.length;o++){var i=r[o];!function(e,t){for(;null!==O;){var n=O,r=(_t(n),!function(e,t){switch(e.tag){case q:case Z:case J:e.mode&x?(Pm(),n0(Uf,e,t),Dm(e)):n0(Uf,e,t)}}(n,t),Tt(),n.child);null!==r?(r.return=n,O=r):function(e){for(;null!==O;){var t=O,n=t.sibling,r=t.return;if(l0(t),t===e)return O=null;if(null!==n)return n.return=r,O=n;O=r}}(e)}}(O=i,t)}var a=t.alternate;if(null!==a){var s=a.child;if(null!==s){a.child=null;do{var l=s.sibling}while((s.sibling=null)!==(s=l))}}O=t}}(t.subtreeFlags&go)!==ee&&null!==n?(n.return=t,O=n):function(){for(;null!==O;){var e=O,t=((e.flags&Xr)!==ee&&(_t(e),function(e){switch(e.tag){case q:case Z:case J:e.mode&x?(Pm(),n0(Uf|Vf,e,e.return),Dm(e)):n0(Uf|Vf,e,e.return)}}(e),Tt()),e.sibling);if(null!==t)return t.return=e.return,O=t;O=e.return}}()}}function _0(t){switch(t.tag){case q:case Z:case J:try{r0(Wf|Vf,t)}catch(e){D(t,t.return,e)}break;case Y:var e=t.stateNode;try{e.componentDidMount()}catch(e){D(t,t.return,e)}}}function R0(t){switch(t.tag){case q:case Z:case J:try{r0(Uf|Vf,t)}catch(e){D(t,t.return,e)}}}function O0(t){switch(t.tag){case q:case Z:case J:try{n0(Wf|Vf,t,t.return)}catch(e){D(t,t.return,e)}break;case Y:var e=t.stateNode;"function"==typeof e.componentWillUnmount&&Xg(t,t.return,e)}}function I0(t){switch(t.tag){case q:case Z:case J:try{n0(Uf|Vf,t,t.return)}catch(e){D(t,t.return,e)}}}"function"==typeof Symbol&&Symbol.for&&((Pr=Symbol.for)("selector.component"),Pr("selector.has_pseudo_class"),Pr("selector.role"),Pr("selector.test_id"),Pr("selector.text"));var M0=[],D0=s.ReactCurrentActQueue;function N0(){var e="undefined"!=typeof IS_REACT_ACT_ENVIRONMENT?IS_REACT_ACT_ENVIRONMENT:void 0;return e||null===D0.current||te("The current testing environment is not configured to support act(...)"),e}var P0=Math.ceil,z0=s.ReactCurrentDispatcher,L0=s.ReactCurrentOwner,j0=s.ReactCurrentBatchConfig,A0=s.ReactCurrentActQueue,F0=0,$0=1,B0=2,V0=4,H0=0,W0=1,U0=2,q0=3,Y0=4,K0=5,G0=6,I=F0,Z0=null,M=null,X0=ae,J0=ae,Q0=Du(ae),ev=H0,tv=null,nv=ae,rv=ae,ov=ae,iv=null,av=null,sv=0,lv=500,cv=1/0,uv=500,dv=null;function pv(){cv=Io()+uv}var fv=!1,hv=null,mv=null,gv=!1,vv=null,yv=ae,bv=[],wv=50,xv=0,Sv=null,kv=!1,Cv=!1,Ev=50,Tv=0,_v=null,Rv=T,Ov=ae,Iv=!1;function Mv(){return(I&(B0|V0))!==F0?Io():Rv=Rv===T?Io():Rv}function Dv(e){var t;return(e.mode&b)===E?S:(I&B0)!==F0&&X0!==ae?Qi(X0):Yd.transition!==Kd?(null!==j0.transition&&((t=j0.transition)._updatedFibers||(t._updatedFibers=new Set),t._updatedFibers.add(e)),Ov=Ov===ai?Xi():Ov):ba!==ai?ba:void 0===(t=window.event)?va:Za(t.type)}function Nv(e){return(e.mode&b)===E?S:(e=Vi,((Vi<<=1)&Oi)===ae&&(Vi=Ii),e)}function Pv(e,t,n,r){if(wv<xv)throw xv=0,Sv=null,new Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");if(Ev<Tv&&(Tv=0,_v=null,te("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render.")),Iv&&te("useInsertionEffect must not schedule updates."),kv&&(Cv=!0),ia(e,n,r),(I&B0)!==ae&&e===Z0){var o=t;if(kt&&!om)switch(o.tag){case q:case Z:case J:var i=M&&C(M)||"Unknown",a=i;my.has(a)||(my.add(a),te("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://reactjs.org/link/setstate-in-render",C(o)||"Unknown",i,i));break;case Y:fy||(te("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),fy=!0)}}else Vo&&la(e,t,n),function(e){if(e.mode&b){if(!N0())return}else{if(!function(){var e="undefined"!=typeof IS_REACT_ACT_ENVIRONMENT?IS_REACT_ACT_ENVIRONMENT:void 0;return"undefined"!=typeof jest&&!1!==e}())return;if(I!==F0)return;if(e.tag!==q&&e.tag!==Z&&e.tag!==J)return}if(null===A0.current){var t=St;try{_t(e),te("An update to %s inside a test was not wrapped in act(...).\n\nWhen testing, code that causes React state updates should be wrapped into act(...):\n\nact(() => {\n  /* fire events that update state */\n});\n/* assert on the output */\n\nThis ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act",C(e))}finally{t?_t(e):Tt()}}}(t),e===Z0&&((I&B0)===F0&&(rv|=n),ev===Y0)&&Fv(e,X0),zv(e,r),n!==S||I!==F0||(t.mode&b)!==E||A0.isBatchingLegacy||(pv(),od())}function zv(e,t){var n=e.callbackNode,t=(Ui(e,t),Wi(e,e===Z0?X0:ae));if(t===ae)null!==n&&yy(n),e.callbackNode=null,e.callbackPriority=ai;else{var r,o,i=Ji(t),a=e.callbackPriority;if(a!==i||null!==A0.current&&n!==gy){if(null!=n&&yy(n),i===S)e.tag===Ju?(null!==A0.isBatchingLegacy&&(A0.didScheduleLegacyUpdate=!0),o=$v.bind(null,e),td=!0,rd(o)):rd($v.bind(null,e)),null!==A0.current?A0.current.push(id):Xc(function(){(I&(B0|V0))===F0&&id()}),o=null;else{switch(ka(t)){case ma:r=Do;break;case ga:r=No;break;case va:r=Po;break;case ya:r=Lo;break;default:r=Po}o=vy(r,Lv.bind(null,e))}e.callbackPriority=i,e.callbackNode=o}else null==n&&a!==S&&te("Expected scheduled callback to exist. This error is likely caused by a bug in React. Please file an issue.")}}function Lv(e,t){if(Tm=Em=!1,Rv=T,Ov=ae,(I&(B0|V0))!==F0)throw new Error("Should not already be working.");var n=e.callbackNode,r=ny();if(r&&e.callbackNode!==n)return null;r=Wi(e,e===Z0?X0:ae);if(r===ae)return null;t=!(Gi(0,r)||(r&e.expiredLanes)!==ae||t);if((t=(t?function(t,e){var n=I,r=(I|=B0,Kv());{var o;Z0===t&&X0===e||(Vo&&(0<(o=t.memoizedUpdaters).size&&(hy(t,X0),o.clear()),ca(t,e)),dv=null,pv(),qv(t,e))}Xo(e);for(;;)try{!function(){for(;null!==M&&!Ro();)Qv(M)}();break}catch(e){Yv(t,e)}return fp(),Gv(r),I=n,null!==M?(null!==w&&"function"==typeof w.markRenderYielded&&w.markRenderYielded(),H0):(Jo(),Z0=null,X0=ae,ev)}:Jv)(e,r))!==H0){if((t=t===U0&&(o=qi(e))!==ae?jv(e,r=o):t)===W0)throw o=tv,qv(e,ae),Fv(e,r),zv(e,Io()),o;if(t===G0)Fv(e,r);else{var o=!Gi(0,r),i=e.current.alternate;if(o&&!function(e){var t=e;for(;;){if(t.flags&eo){var n=t.updateQueue;if(null!==n){var r=n.stores;if(null!==r)for(var o=0;o<r.length;o++){var i=r[o],a=i.getSnapshot,i=i.value;try{if(!ol(a(),i))return}catch(e){return}}}}n=t.child;if(t.subtreeFlags&eo&&null!==n)n.return=t,t=n;else{if(t===e)return 1;for(;null===t.sibling;){if(null===t.return||t.return===e)return 1;t=t.return}t.sibling.return=t.return,t=t.sibling}}return 1}(i))if((t=(t=Jv(e,r))===U0&&(o=qi(e))!==ae?jv(e,r=o):t)===W0)throw o=tv,qv(e,ae),Fv(e,r),zv(e,Io()),o;e.finishedWork=i,e.finishedLanes=r;var a=e,s=r;switch(t){case H0:case W0:throw new Error("Root did not complete. This is a bug in React.");case U0:ty(a,av,dv);break;case q0:if(Fv(a,s),Ki(s)&&!by()){var l=sv+lv-Io();if(10<l){if(Wi(a,ae)!==ae)break;var c=a.suspendedLanes;if(!ra(c,s)){Mv(),aa(a,c);break}a.timeoutHandle=Yc(ty.bind(null,a,av,dv),l);break}}ty(a,av,dv);break;case Y0:if(Fv(a,s),!function(e){return(e&pi)===e}(s)){if(!by()){c=function(e,t){for(var n=e.eventTimes,r=T;0<t;){var o=ea(t),i=n[o];r<i&&(r=i),t&=~(1<<o)}return r}(a,s),l=Io()-c,c=function(e){return e<120?120:e<480?480:e<1080?1080:e<1920?1920:e<3e3?3e3:e<4320?4320:1960*P0(e/1960)}(l)-l;if(10<c){a.timeoutHandle=Yc(ty.bind(null,a,av,dv),c);break}}ty(a,av,dv)}break;case K0:ty(a,av,dv);break;default:throw new Error("Unknown root exit status.")}}}return zv(e,Io()),e.callbackNode===n?Lv.bind(null,e):null}function jv(e,t){var n=iv,e=(Ca(e)&&(qv(e,t).flags|=Kr,te("An error occurred during hydration. The server HTML was replaced with client content in <%s>.",e.containerInfo.nodeName.toLowerCase())),Jv(e,t));return e!==U0&&(t=av,av=n,null!==t)&&Av(t),e}function Av(e){null===av?av=e:av.push.apply(av,e)}function Fv(e,t){t=t&~ov&~rv;e.suspendedLanes|=t,e.pingedLanes&=~t;for(var n=e.expirationTimes,r=t;0<r;){var o=ea(r),i=1<<o;n[o]=T,r&=~i}}function $v(e){if(Em=Tm,Tm=!1,(I&(B0|V0))!==F0)throw new Error("Should not already be working.");ny();var t=Wi(e,ae);if(na(t,S)){var n=Jv(e,t);if((n=e.tag!==Ju&&n===U0&&(r=qi(e))!==ae?jv(e,t=r):n)===W0)throw r=tv,qv(e,ae),Fv(e,t),zv(e,Io()),r;if(n===G0)throw new Error("Root did not complete. This is a bug in React.");var r=e.current.alternate;e.finishedWork=r,e.finishedLanes=t,ty(e,av,dv)}return zv(e,Io()),null}function Bv(e,t){var n=I;I|=$0;try{return e(t)}finally{(I=n)!==F0||A0.isBatchingLegacy||(pv(),od())}}function Vv(e){null!==vv&&vv.tag===Ju&&(I&(B0|V0))===F0&&ny();var t=I,n=(I|=$0,j0.transition),r=ba;try{if(j0.transition=null,xa(ma),e)return e()}finally{xa(r),j0.transition=n,((I=t)&(B0|V0))===F0&&id()}}function Hv(){return(I&(B0|V0))!==F0}function Wv(e,t){Pu(Q0,J0,e),J0|=t}function Uv(e){J0=Q0.current,Nu(Q0,e)}function qv(e,t){e.finishedWork=null,e.finishedLanes=ae;var n=e.timeoutHandle;if(n!==Gc&&(e.timeoutHandle=Gc,Kc(n)),null!==M)for(var r=M.return;null!==r;){r.alternate;Fg(0,r),r=r.return}n=Ay((Z0=e).current,null);if(M=n,X0=J0=t,ev=H0,ov=rv=nv=ae,(av=iv=tv=null)!==Sp){for(var o=0;o<Sp.length;o++){var i,a,s,l=Sp[o],c=l.interleaved;null!==c&&(l.interleaved=null,i=c.next,null!==(a=l.pending)&&(s=a.next,a.next=i,c.next=s),l.pending=c)}Sp=null}return Zd.discardPendingWarnings(),n}function Yv(e,t){do{var n=M;try{if(fp(),fh(),Tt(),(L0.current=null)===n||null===n.return)return ev=W0,tv=t,void(M=null);P&&n.mode&x&&Im(n,!0),N&&(Ko(),null!==t&&"object"==typeof t&&"function"==typeof t.then?(a=n,s=t,l=X0,null!==w&&"function"==typeof w.markComponentSuspended&&w.markComponentSuspended(a,s,l)):(r=n,o=t,i=X0,null!==w&&"function"==typeof w.markComponentErrored&&w.markComponentErrored(r,o,i))),Um(e,n.return,n,t,X0),ey(n)}catch(e){t=e,M===n&&null!==n?(n=n.return,M=n):n=M;continue}return}while(1);var r,o,i,a,s,l}function Kv(){var e=z0.current;return z0.current=pm,null===e?pm:e}function Gv(e){z0.current=e}function Zv(e){nv|=e}function Xv(){ev!==H0&&ev!==q0&&ev!==U0||(ev=Y0),null!==Z0&&(Yi(nv)||Yi(rv))&&Fv(Z0,X0)}function Jv(t,e){var n,r=I,o=(I|=B0,Kv());for(Z0===t&&X0===e||(Vo&&(0<(n=t.memoizedUpdaters).size&&(hy(t,X0),n.clear()),ca(t,e)),dv=null,qv(t,e)),Xo(e);;)try{for(;null!==M;)Qv(M);break}catch(e){Yv(t,e)}if(fp(),I=r,Gv(o),null!==M)throw new Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");return Jo(),Z0=null,X0=ae,ev}function Qv(e){var t,n=e.alternate;_t(e),(e.mode&x)!==E?(Rm(e),t=py(n,e,J0),Im(e,!0)):t=py(n,e,J0),Tt(),e.memoizedProps=e.pendingProps,null===t?ey(e):M=t,L0.current=null}function ey(e){var t=e;do{var n=t.alternate,r=t.return;if((t.flags&ro)===ee){_t(t);var o=void 0;if((t.mode&x)===E?o=Ag(n,t,J0):(Rm(t),o=Ag(n,t,J0),Im(t,!1)),Tt(),null!==o)return void(M=o)}else{n=function(e){switch(wd(e),e.tag){case Y:Wu(e.type)&&Uu(e);var t=e.flags;return t&oo?(e.flags=t&~oo|ie,(e.mode&x)!==E&&zm(e),e):null;case K:e.stateNode,Mf(e),qu(e),Yf();t=e.flags;return(t&oo)!==ee&&(t&ie)===ee?(e.flags=t&~oo|ie,e):null;case G:return Pf(e),null;case X:Ff(e);t=e.memoizedState;if(null!==t&&null!==t.dehydrated){if(null===e.alternate)throw new Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");Wd()}t=e.flags;return t&oo?(e.flags=t&~oo|ie,(e.mode&x)!==E&&zm(e),e):null;case ve:return Ff(e),null;case ne:return Mf(e),null;case pe:return vp(e.type._context,e),null;case be:case we:return Uv(e),null;default:return null}}(t);if(null!==n)return n.flags&=no,void(M=n);if((t.mode&x)!==E){Im(t,!1);for(var i=t.actualDuration,a=t.child;null!==a;)i+=a.actualDuration,a=a.sibling;t.actualDuration=i}if(null===r)return ev=G0,void(M=null);r.flags|=ro,r.subtreeFlags=ee,r.deletions=null}o=t.sibling;if(null!==o)return void(M=o)}while(M=t=r,null!==t);ev===H0&&(ev=K0)}function ty(e,t,n){var r=ba,o=j0.transition;try{j0.transition=null,xa(ma);for(var i=e,a=t,s=n,l=r;ny(),null!==vv;);if(Zd.flushLegacyContextWarning(),Zd.flushPendingUnsafeLifecycleWarnings(),(I&(B0|V0))!==F0)throw new Error("Should not already be working.");var c=i.finishedWork,u=i.finishedLanes,d=u;if(null!==w&&"function"==typeof w.markCommitStarted&&w.markCommitStarted(d),null!==c){if(u===ae&&te("root.finishedLanes should not be empty during a commit. This is a bug in React."),i.finishedWork=null,i.finishedLanes=ae,c===i.current)throw new Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");i.callbackNode=null,i.callbackPriority=ai;var p=c.lanes|c.childLanes,s=(!function(e,t){for(var n=e.pendingLanes&~t,r=(e.pendingLanes=t,e.suspendedLanes=ae,e.pingedLanes=ae,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,e.entanglements),o=e.eventTimes,i=e.expirationTimes,a=n;0<a;){var s=ea(a),l=1<<s;r[s]=ae,o[s]=T,i[s]=T,a&=~l}}(i,p),i===Z0&&(M=Z0=null,X0=ae),(c.subtreeFlags&go)===ee&&(c.flags&go)===ee||gv||(gv=!0,vy(Po,function(){return ny(),null})),(c.subtreeFlags&(fo|ho|mo|go))!==ee),f=(c.flags&(fo|ho|mo|go))!==ee,h=(s||f?(s=j0.transition,j0.transition=null,f=ba,xa(ma),h=I,I|=V0,L0.current=null,t0(i,c),_m(),function(e,t,n){Yg=n,Kg=e,_t(t),y0(t,e),_t(t),Kg=Yg=null}(i,c,u),i.containerInfo,hl(Vc),Wa(Bc),Vc=Bc=null,i.current=c,function(e){null!==w&&"function"==typeof w.markLayoutEffectsStarted&&w.markLayoutEffectsStarted(e)}(u),w0(c,i,u),null!==w&&"function"==typeof w.markLayoutEffectsStopped&&w.markLayoutEffectsStopped(),Oo(),I=h,xa(f),j0.transition=s):(i.current=c,_m()),gv);if(gv?(gv=!1,vv=i,yv=u):(Tv=0,_v=null),(p=i.pendingLanes)===ae&&(mv=null),h||sy(i.current,!1),!function(e,t){if($o&&"function"==typeof $o.onCommitFiberRoot)try{var n,r=(e.current.flags&ie)===ie;if(P){switch(t){case ma:n=Do;break;case ga:n=No;break;case va:n=Po;break;case ya:n=Lo;break;default:n=Po}$o.onCommitFiberRoot(Fo,e,n,r)}}catch(e){Bo||(Bo=!0,te("React instrumentation encountered an error: %s",e))}}(c.stateNode,l),Vo&&i.memoizedUpdaters.clear(),M0.forEach(function(e){return e()}),zv(i,Io()),null!==a)for(var m=i.onRecoverableError,g=0;g<a.length;g++){var v=a[g],y=v.stack,b=v.digest;m(v.value,{componentStack:y,digest:b})}if(fv)throw fv=!1,f=hv,hv=null,f;na(yv,S)&&i.tag!==Ju&&ny(),na(p=i.pendingLanes,S)?(Tm=!0,i===Sv?xv++:(xv=0,Sv=i)):xv=0,id()}qo()}finally{j0.transition=o,xa(r)}return null}function ny(){if(null!==vv){var e=ka(yv),t=(e=e,0===(t=va)||e<t?t:e),e=j0.transition,n=ba;try{if(j0.transition=null,xa(t),null===vv)return!1;var r=vv,o=yv;if(vv=null,yv=ae,(I&(B0|V0))!==F0)throw new Error("Cannot flush passive effects while already rendering.");Cv=!(kv=!0);var i=o,o=(null!==w&&"function"==typeof w.markPassiveEffectsStarted&&w.markPassiveEffectsStarted(i),I),a=(I|=V0,T0(r.current),E0(0,r.current),bv);bv=[];for(var s=0;s<a.length;s++){l=void 0;c=void 0;u=void 0;d=void 0;p=void 0;f=void 0;h=void 0;var l=a[s];if((l.flags&oe)!==ee&&l.tag===fe){var c=l.stateNode.passiveEffectDuration,u=l.memoizedProps,d=u.id,u=u.onPostCommit,p=xm,f=null===l.alternate?"mount":"update",h=(Em&&(f="nested-update"),"function"==typeof u&&u(d,f,c,p),l.return);e:for(;null!==h;){switch(h.tag){case K:h.stateNode.passiveEffectDuration+=c;break e;case fe:h.stateNode.passiveEffectDuration+=c;break e}h=h.return}}}null!==w&&"function"==typeof w.markPassiveEffectsStopped&&w.markPassiveEffectsStopped(),sy(r.current,!0),I=o,id(),Cv?r===_v?Tv++:(Tv=0,_v=r):Tv=0,Cv=kv=!1;var m=r;if($o&&"function"==typeof $o.onPostCommitFiberRoot)try{$o.onPostCommitFiberRoot(Fo,m)}catch(e){Bo||(Bo=!0,te("React instrumentation encountered an error: %s",e))}return(o=r.current.stateNode).effectDuration=0,!(o.passiveEffectDuration=0)}finally{xa(n),j0.transition=e}}var t;return!1}function ry(e){return null!==mv&&mv.has(e)}var oy=function(e){fv||(fv=!0,hv=e)};function iy(e,t,n){e=zp(e,$m(e,Lm(n,t),S),S),n=Mv();null!==e&&(ia(e,S,n),zv(e,n))}function D(e,t,n){var r;if(r=n,Br(null,function(){throw r}),Vr(),wy(!1),e.tag===K)iy(e,e,n);else{for(var o=null,o=t;null!==o;){if(o.tag===K)return void iy(o,e,n);if(o.tag===Y){var i=o.type,a=o.stateNode;if("function"==typeof i.getDerivedStateFromError||"function"==typeof a.componentDidCatch&&!ry(a))return i=zp(o,Bm(o,Lm(n,e),S),S),a=Mv(),void(null!==i&&(ia(i,S,a),zv(i,a)))}o=o.return}te("Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Likely causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.\n\nError message:\n\n%s",n)}}function ay(e,t){t===ai&&(t=Nv(e));var n=Mv(),e=Ep(e,t);null!==e&&(ia(e,t,n),zv(e,n))}function sy(e,t){_t(e),ly(e,uo,O0),t&&ly(e,po,I0),ly(e,uo,_0),t&&ly(e,po,R0),Tt()}function ly(e,t,n){for(var r=e,o=null;null!==r;)var i=r.subtreeFlags&t,r=r!==o&&null!==r.child&&i!==ee?r.child:((r.flags&t)!==ee&&n(r),null!==r.sibling?r.sibling:o=r.return)}var cy=null;function uy(e){if((I&B0)===F0&&e.mode&b){var t=e.tag;if(t===le||t===K||t===Y||t===q||t===Z||t===he||t===J){t=C(e)||"ReactComponent";if(null!==cy){if(cy.has(t))return;cy.add(t)}else cy=new Set([t]);t=St;try{_t(e),te("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")}finally{t?_t(e):Tt()}}}}var dy=null,py=function(t,n,r){var o=Uy(dy,n);try{return Dg(t,n,r)}catch(e){throw Cd||null!==e&&"object"==typeof e&&"function"==typeof e.then||(fp(),fh(),Fg(0,n),Uy(n,o),n.mode&x&&Rm(n),Br(null,Dg,null,t,n,r),Lr&&"object"==typeof(o=Vr())&&null!==o&&o._suppressLogging&&"object"==typeof e&&null!==e&&!e._suppressLogging&&(e._suppressLogging=!0)),e}},fy=!1;function hy(t,n){Vo&&t.memoizedUpdaters.forEach(function(e){la(t,e,n)})}var my=new Set,gy={};function vy(e,t){var n=A0.current;return null!==n?(n.push(t),gy):To(e,t)}function yy(e){e!==gy&&_o(e)}function by(){return null!==A0.current}function wy(e){Iv=e}var xy=null,Sy=null,ky=function(e){xy=e};function Cy(e){var t;return null===xy||void 0===(t=xy(e))?e:t.current}function Ey(e){return Cy(e)}function Ty(e){if(null!==xy){var t=xy(e);if(void 0!==t)return t.current;if(null!=e&&"function"==typeof e.render){var t=Cy(e.render);if(e.render!==t)return t={$$typeof:qe,render:t},void 0!==e.displayName&&(t.displayName=e.displayName),t}}return e}function _y(e,t){if(null!==xy){var n=e.elementType,r=t.type,o=!1,i="object"==typeof r&&null!==r?r.$$typeof:null;switch(e.tag){case Y:"function"==typeof r&&(o=!0);break;case q:("function"==typeof r||i===Ze)&&(o=!0);break;case Z:(i===qe||i===Ze)&&(o=!0);break;case he:case J:(i===Ge||i===Ze)&&(o=!0);break;default:return!1}if(o){t=xy(n);if(void 0!==t&&t===xy(r))return!0}}return!1}function Ry(e){null!==xy&&"function"==typeof WeakSet&&(Sy=null===Sy?new WeakSet:Sy).add(e)}var Oy,Iy=function(e,t){var n,r;null!==xy&&(n=t.staleFamilies,r=t.updatedFamilies,ny(),Vv(function(){!function e(t,n,r){{var o=t.alternate,i=t.child,a=t.sibling,s=t.tag,l=t.type,c=null;switch(s){case q:case J:case Y:c=l;break;case Z:c=l.render}if(null===xy)throw new Error("Expected resolveFamily to be set during hot reload.");var u,d=!1,p=!1;null!==c&&void 0!==(u=xy(c))&&(r.has(u)?p=!0:n.has(u)&&(s===Y?p=!0:d=!0)),(p=null!==Sy&&(Sy.has(t)||null!==o&&Sy.has(o))?!0:p)&&(t._debugNeedsRemount=!0),(p||d)&&null!==(u=Ep(t,S))&&Pv(u,t,S,T),null===i||p||e(i,n,r),null!==a&&e(a,n,r)}}(e.current,r,n)}))},My=function(e,t){e.context===Lu&&(ny(),Vv(function(){Jy(t,e,null,null)}))},Dy=function(e,t){var n=new Set,t=new Set(t.map(function(e){return e.current}));return function e(t,n,r){{var o=t.child,i=t.sibling,a=t.tag,s=t.type,l=null;switch(a){case q:case J:case Y:l=s;break;case Z:l=s.render}a=!1;(a=null!==l&&n.has(l)?!0:a)?Ny(t,r):null!==o&&e(o,n,r),null!==i&&e(i,n,r)}}(e.current,t,n),n};function Ny(e,t){var n=function(e,t){var n=e,r=!1;for(;;){if(n.tag===G)r=!0,t.add(n.stateNode);else if(null!==n.child){n=(n.child.return=n).child;continue}if(n===e)return r;for(;null===n.sibling;){if(null===n.return||n.return===e)return r;n=n.return}n.sibling.return=n.return,n=n.sibling}return!1}(e,t);if(!n)for(var r=e;;){switch(r.tag){case G:return void t.add(r.stateNode);case ne:case K:return void t.add(r.stateNode.containerInfo)}if(null===r.return)throw new Error("Expected to reach root first.");r=r.return}}Oy=!1;try{var Py=Object.preventExtensions({});new Map([[Py,null]]),new Set([Py])}catch(e){Oy=!0}function zy(e,t,n,r){this.tag=e,this.key=n,this.elementType=null,this.type=null,this.stateNode=null,this.return=null,this.child=null,this.sibling=null,this.index=0,this.ref=null,this.pendingProps=t,this.memoizedProps=null,this.updateQueue=null,this.memoizedState=null,this.dependencies=null,this.mode=r,this.flags=ee,this.subtreeFlags=ee,this.deletions=null,this.lanes=ae,this.childLanes=ae,this.alternate=null,this.actualDuration=Number.NaN,this.actualStartTime=Number.NaN,this.selfBaseDuration=Number.NaN,this.treeBaseDuration=Number.NaN,this.actualDuration=0,this.actualStartTime=-1,this.selfBaseDuration=0,this.treeBaseDuration=0,this._debugSource=null,this._debugOwner=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,Oy||"function"!=typeof Object.preventExtensions||Object.preventExtensions(this)}var Ly=function(e,t,n,r){return new zy(e,t,n,r)};function jy(e){e=e.prototype;return e&&e.isReactComponent}function Ay(e,t){var n=e.alternate,t=(null===n?((n=Ly(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n._debugSource=e._debugSource,n._debugOwner=e._debugOwner,n._debugHookTypes=e._debugHookTypes,(n.alternate=e).alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=ee,n.subtreeFlags=ee,n.deletions=null,n.actualDuration=0,n.actualStartTime=-1),n.flags=e.flags&vo,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,e.dependencies);switch(n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.selfBaseDuration=e.selfBaseDuration,n.treeBaseDuration=e.treeBaseDuration,n._debugNeedsRemount=e._debugNeedsRemount,n.tag){case le:case q:case J:n.type=Cy(e.type);break;case Y:n.type=Ey(e.type);break;case Z:n.type=Ty(e.type)}return n}function Fy(e,t,n,r,o,i){var a=le,s=e;if("function"==typeof e)s=(jy(e)?(a=Y,Ey):Cy)(s);else if("string"==typeof e)a=G;else e:switch(e){case Be:return By(n.children,o,i,t);case Ve:a=ue,((o|=ei)&b)!==E&&(o|=ti);break;case He:var l=n,c=o,u=i,d=t;return"string"!=typeof l.id&&te('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.',typeof l.id),(l=Ly(fe,l,d,c|x)).elementType=He,l.lanes=u,l.stateNode={effectDuration:0,passiveEffectDuration:0},l;case Ye:d=n,c=i;return(d=Ly(X,d,t,o)).elementType=Ye,d.lanes=c,d;case Ke:u=n,l=i;return(u=Ly(ve,u,t,o)).elementType=Ke,u.lanes=l,u;case Xe:return Vy(n,o,i,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case We:a=pe;break e;case Ue:a=de;break e;case qe:a=Z,s=Ty(s);break e;case Ge:a=he;break e;case Ze:a=me,s=null;break e}var p="",f=((void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(p+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports."),r?C(r):null);throw f&&(p+="\n\nCheck the render method of `"+f+"`."),new Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(null==e?e:typeof e)+"."+p)}var h=Ly(a,n,t,o);return h.elementType=e,h.type=s,h.lanes=i,h._debugOwner=r,h}function $y(e,t,n){var r=e._owner,r=Fy(e.type,e.key,e.props,r,t,n);return r._debugSource=e._source,r._debugOwner=e._owner,r}function By(e,t,n,r){e=Ly(ce,e,r,t);return e.lanes=n,e}function Vy(e,t,n,r){e=Ly(be,e,r,t);e.elementType=Xe,e.lanes=n;return e.stateNode={isHidden:!1},e}function Hy(e,t,n){e=Ly(re,e,null,t);return e.lanes=n,e}function Wy(e,t,n){var r=null!==e.children?e.children:[],r=Ly(ne,r,e.key,t);return r.lanes=n,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function Uy(e,t){return(e=null===e?Ly(le,null,null,E):e).tag=t.tag,e.key=t.key,e.elementType=t.elementType,e.type=t.type,e.stateNode=t.stateNode,e.return=t.return,e.child=t.child,e.sibling=t.sibling,e.index=t.index,e.ref=t.ref,e.pendingProps=t.pendingProps,e.memoizedProps=t.memoizedProps,e.updateQueue=t.updateQueue,e.memoizedState=t.memoizedState,e.dependencies=t.dependencies,e.mode=t.mode,e.flags=t.flags,e.subtreeFlags=t.subtreeFlags,e.deletions=t.deletions,e.lanes=t.lanes,e.childLanes=t.childLanes,e.alternate=t.alternate,e.actualDuration=t.actualDuration,e.actualStartTime=t.actualStartTime,e.selfBaseDuration=t.selfBaseDuration,e.treeBaseDuration=t.treeBaseDuration,e._debugSource=t._debugSource,e._debugOwner=t._debugOwner,e._debugNeedsRemount=t._debugNeedsRemount,e._debugHookTypes=t._debugHookTypes,e}function qy(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.pendingChildren=null,this.current=null,this.pingCache=null,this.finishedWork=null,this.timeoutHandle=Gc,this.context=null,this.pendingContext=null,this.callbackNode=null,this.callbackPriority=ai,this.eventTimes=oa(ae),this.expirationTimes=oa(T),this.pendingLanes=ae,this.suspendedLanes=ae,this.pingedLanes=ae,this.expiredLanes=ae,this.mutableReadLanes=ae,this.finishedLanes=ae,this.entangledLanes=ae,this.entanglements=oa(ae),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null,this.effectDuration=0,this.passiveEffectDuration=0,this.memoizedUpdaters=new Set;for(var i=this.pendingUpdatersLaneMap=[],a=0;a<ii;a++)i.push(new Set);switch(t){case Qu:this._debugRootType=n?"hydrateRoot()":"createRoot()";break;case Ju:this._debugRootType=n?"hydrate()":"render()"}}function Yy(e,t,n,r,o,i,a,s,l){var c,e=new qy(e,t,n,s,l),l=(s=i,t===Qu?(c=b,!0===s&&(c=c|ei|ti)):c=E,Vo&&(c|=x),Ly(K,null,null,c));return(e.current=l).stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dp(l),e}var Ky="18.2.0";function Gy(e){if(!e)return Lu;var e=Hr(e),t=Xu(e);if(e.tag===Y){var n=e.type;if(Wu(n))return Ku(e,n,t)}return t}function Zy(e,t,n,r,o,i,a){return Yy(e,t,!1,null,0,r,0,i,a)}function Xy(e,t,n,r,o,i,a,s,l){var n=Yy(n,r,!0,e,0,i,0,s,l),r=(n.context=Gy(null),n.current),e=Mv(),i=Dv(r),s=Pp(e,i);return s.callback=null!=t?t:null,zp(r,s,i),l=i,t=e,ia(r=n,r.current.lanes=l,t),zv(r,t),n}function Jy(e,t,n,r){var o=t,i=e;if($o&&"function"==typeof $o.onScheduleFiberRoot)try{$o.onScheduleFiberRoot(Fo,o,i)}catch(e){Bo||(Bo=!0,te("React instrumentation encountered an error: %s",e))}var o=t.current,i=Mv(),a=Dv(o),s=(s=a,null!==w&&"function"==typeof w.markRenderScheduled&&w.markRenderScheduled(s),Gy(n)),n=(null===t.context?t.context=s:t.pendingContext=s,kt&&null!==St&&!r1&&(r1=!0,te("Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.\n\nCheck the render method of %s.",C(St)||"Unknown")),Pp(i,a)),t=(n.payload={element:e},null!==(r=void 0===r?null:r)&&("function"!=typeof r&&te("render(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",r),n.callback=r),zp(o,n,a));null!==t&&(Pv(t,o,a,i),Lp(t,o,a))}function Qy(e){e=e.current;return e.child?(e.child.tag,e.child.stateNode):null}function e1(e,t){var e=e.memoizedState;null!==e&&null!==e.dehydrated&&(e.retryLane=(e=e.retryLane,t=t,e!==ai&&e<t?e:t))}function t1(e,t){e1(e,t);e=e.alternate;e&&e1(e,t)}function n1(e){e=Eo(e);return null===e?null:e.stateNode}var r1=!1,o1={},i1=function(e){return null},a1=function(e){return!1};function s1(e,t,n){var r=t[n],o=en(e)?e.slice():k({},e);return n+1===t.length?en(o)?o.splice(r,1):delete o[r]:o[r]=s1(e[r],t,n+1),o}function l1(e,t,n,r){var o=t[r],i=en(e)?e.slice():k({},e);return r+1===t.length?(i[n[r]]=i[o],en(i)?i.splice(o,1):delete i[o]):i[o]=l1(e[o],t,n,r+1),i}function c1(e,t,n,r){var o,i;return n>=t.length?r:(o=t[n],(i=en(e)?e.slice():k({},e))[o]=c1(e[o],t,n+1,r),i)}var u1=null,d1=null,p1=null,f1=null,h1=null,m1=null,g1=null,v1=null,y1=null,b1=function(e,t){return s1(e,t,0)},w1=function(e,t,n){if(t.length===n.length){for(var r=0;r<n.length-1;r++)if(t[r]!==n[r])return void d("copyWithRename() expects paths to be the same except for the deepest key");return l1(e,t,n,0)}d("copyWithRename() expects paths of the same length")},x1=function(e,t,n){return c1(e,t,0,n)},S1=function(e,t){for(var n=e.memoizedState;null!==n&&0<t;)n=n.next,t--;return n},u1=function(e,t,n,r){t=S1(e,t);null!==t&&(n=x1(t.memoizedState,n,r),t.memoizedState=n,t.baseState=n,e.memoizedProps=k({},e.memoizedProps),null!==(r=Ep(e,S)))&&Pv(r,e,S,T)},d1=function(e,t,n){var t=S1(e,t);null!==t&&(n=b1(t.memoizedState,n),t.memoizedState=n,t.baseState=n,e.memoizedProps=k({},e.memoizedProps),null!==(t=Ep(e,S)))&&Pv(t,e,S,T)},p1=function(e,t,n,r){t=S1(e,t);null!==t&&(n=w1(t.memoizedState,n,r),t.memoizedState=n,t.baseState=n,e.memoizedProps=k({},e.memoizedProps),null!==(r=Ep(e,S)))&&Pv(r,e,S,T)},f1=function(e,t,n){e.pendingProps=x1(e.memoizedProps,t,n),e.alternate&&(e.alternate.pendingProps=e.pendingProps);t=Ep(e,S);null!==t&&Pv(t,e,S,T)},h1=function(e,t){e.pendingProps=b1(e.memoizedProps,t),e.alternate&&(e.alternate.pendingProps=e.pendingProps);t=Ep(e,S);null!==t&&Pv(t,e,S,T)},m1=function(e,t,n){e.pendingProps=w1(e.memoizedProps,t,n),e.alternate&&(e.alternate.pendingProps=e.pendingProps);t=Ep(e,S);null!==t&&Pv(t,e,S,T)},g1=function(e){var t=Ep(e,S);null!==t&&Pv(t,e,S,T)},v1=function(e){i1=e},y1=function(e){a1=e};function k1(e){e=Co(e);return null===e?null:e.stateNode}function C1(e){return null}function E1(){return St}var T1="function"==typeof reportError?reportError:function(e){console.error(e)};function _1(e){this._internalRoot=e}function R1(e){this._internalRoot=e}function O1(e){return e&&(e.nodeType===xn||e.nodeType===Cn||e.nodeType===En||!t)}function I1(e){return!(!e||e.nodeType!==xn&&e.nodeType!==Cn&&e.nodeType!==En&&(e.nodeType!==kn||" react-mount-point-unstable "!==e.nodeValue))}function M1(e){e.nodeType===xn&&e.tagName&&"BODY"===e.tagName.toUpperCase()&&te("createRoot(): Creating roots directly with document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try using a container element created for your app."),bu(e)&&(e._reactRootContainer?te("You are calling ReactDOMClient.createRoot() on a container that was previously passed to ReactDOM.render(). This is not supported."):te("You are calling ReactDOMClient.createRoot() on a container that has already been passed to createRoot() before. Instead, call root.render() on the existing root instead if you want to update it."))}R1.prototype.render=_1.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw new Error("Cannot update an unmounted root.");"function"==typeof arguments[1]?te("render(...): does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."):O1(arguments[1])?te("You passed a container to the second argument of root.render(...). You don't need to pass it again since you already passed it to create the root."):void 0!==arguments[1]&&te("You passed a second argument to root.render(...) but it only accepts one argument.");var n,r=t.containerInfo;r.nodeType!==kn&&(n=n1(t.current))&&n.parentNode!==r&&te("render(...): It looks like the React-rendered content of the root container was removed without using React. This is not supported and will cause errors. Instead, call root.unmount() to empty a root's container."),Jy(e,t,null,null)},R1.prototype.unmount=_1.prototype.unmount=function(){"function"==typeof arguments[0]&&te("unmount(...): does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect().");var e,t=this._internalRoot;null!==t&&(this._internalRoot=null,e=t.containerInfo,Hv()&&te("Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition."),Vv(function(){Jy(null,t,null,null)}),yu(e))},R1.prototype.unstable_scheduleHydration=function(e){if(e){for(var t=fa(),e={blockedOn:null,target:e,priority:t},n=0;n<Da.length&&Sa(t,Da[n].priority);n++);Da.splice(n,0,e),0===n&&La(e)}};var D1,N1=s.ReactCurrentOwner;function P1(e){return e?e.nodeType===Cn?e.documentElement:e.firstChild:null}function z1(){}function L1(e,t,n,r,o){D1(n),l="render",null!==(i=void 0===o?null:o)&&"function"!=typeof i&&te("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",l,i);var i,a,s,l=n._reactRootContainer;return l?("function"==typeof o&&(a=o,o=function(){var e=Qy(s);a.call(e)}),Jy(t,s=l,e,o)):s=function(e,t,n,r,o){var i,a,s,l;if(o)return"function"==typeof r&&(i=r,r=function(){var e=Qy(a);i.call(e)}),a=Xy(t,r,e,Ju,0,!1,0,"",z1),vu((e._reactRootContainer=a).current,e),Hl(e.nodeType===kn?e.parentNode:e),Vv(),a;for(;s=e.lastChild;)e.removeChild(s);"function"==typeof r&&(l=r,r=function(){var e=Qy(c);l.call(e)});var c=Zy(e,Ju,0,!1,0,"",z1);return vu((e._reactRootContainer=c).current,e),Hl(e.nodeType===kn?e.parentNode:e),Vv(function(){Jy(t,c,n,r)}),c}(n,t,e,o,r),Qy(s)}D1=function(e){e._reactRootContainer&&e.nodeType!==kn&&(t=n1(e._reactRootContainer.current))&&t.parentNode!==e&&te("render(...): It looks like the React-rendered content of this container was removed without using React. This is not supported and will cause errors. Instead, call ReactDOM.unmountComponentAtNode to empty a container.");var t=!!e._reactRootContainer,n=P1(e);n&&xu(n)&&!t&&te("render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."),e.nodeType===xn&&e.tagName&&"BODY"===e.tagName.toUpperCase()&&te("render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.")},ua=function(n){switch(n.tag){case K:var e=n.stateNode;Ca(e)&&(t=Hi(e.pendingLanes),e=e,(t=t)!==ae)&&(sa(e,t|S),zv(e,Io()),(I&(B0|V0))===F0)&&(pv(),id());break;case X:Vv(function(){var e,t=Ep(n,S);null!==t&&(e=Mv(),Pv(t,n,S,e))}),t1(n,S)}var t},da=function(e){var t,n;e.tag===X&&(null!==(n=Ep(e,t=Li))&&Pv(n,e,t,Mv()),t1(e,t))},pa=function(e){var t,n;e.tag===X&&(null!==(n=Ep(e,t=Dv(e)))&&Pv(n,e,t,Mv()),t1(e,t))},fa=wa,ha=function(e,t){var n=ba;try{return ba=e,t()}finally{ba=n}},"function"==typeof Map&&null!=Map.prototype&&"function"==typeof Map.prototype.forEach&&"function"==typeof Set&&null!=Set.prototype&&"function"==typeof Set.prototype.clear&&"function"==typeof Set.prototype.forEach||te("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),Er=Vv;var j1={usingClientEntryPoint:!(yr=function(e,t,n){switch(t){case"input":return void Yt(e,n);case"textarea":return void dn(e,n);case"select":return r=e,void(null!=(i=(o=n).value)&&on(r,!!o.multiple,i,!1))}var r,o,i}),Events:[xu,Su,ku,Sr,kr,Cr=Bv]};!function(e){var t=e.findFiberByHostInstance,n=s.ReactCurrentDispatcher,e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:u1,overrideHookStateDeletePath:d1,overrideHookStateRenamePath:p1,overrideProps:f1,overridePropsDeletePath:h1,overridePropsRenamePath:m1,setErrorHandler:v1,setSuspenseHandler:y1,scheduleUpdate:g1,currentDispatcherRef:n,findHostInstanceByFiber:k1,findFiberByHostInstance:t||C1,findHostInstancesForRefresh:Dy,scheduleRefresh:Iy,scheduleRoot:My,setRefreshHandler:ky,getCurrentFiber:E1,reconcilerVersion:Ky};if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;if((n=__REACT_DEVTOOLS_GLOBAL_HOOK__).isDisabled)return!0;if(!n.supportsFiber)return te("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://reactjs.org/link/react-devtools"),!0;try{N&&(e=k({},e,{getLaneLabelMap:Uo,injectProfilingHooks:Wo})),Fo=n.inject(e),$o=n}catch(e){te("React instrumentation encountered an error: %s.",e)}return!!n.checkDCE}({findFiberByHostInstance:wu,bundleType:1,version:Ky,rendererPackageName:"react-dom"})&&B&&window.top===window.self&&(-1<navigator.userAgent.indexOf("Chrome")&&-1===navigator.userAgent.indexOf("Edge")||-1<navigator.userAgent.indexOf("Firefox"))&&(e=window.location.protocol,/^(https?|file):$/.test(e))&&console.info("%cDownload the React DevTools for a better development experience: https://reactjs.org/link/react-devtools"+("file:"===e?"\nYou might need to use a local HTTP server (instead of file://): https://reactjs.org/link/react-devtools-faq":""),"font-weight:bold"),reactDom_development.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j1,reactDom_development.createPortal=function(e,t){if(O1(t))return function(e,t,n,r){var o=3<arguments.length&&void 0!==r?r:null;return{$$typeof:$e,key:null==o?null:""+o,children:e,containerInfo:t,implementation:n}}(e,t,null,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null);throw new Error("Target container is not a DOM element.")},reactDom_development.createRoot=function(e,t){if(j1.usingClientEntryPoint||te('You are importing createRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),!O1(e))throw new Error("createRoot(...): Target container is not a DOM element.");M1(e);var n=!1,r="",o=T1;return null!=t&&(t.hydrate?d("hydrate through createRoot is deprecated. Use ReactDOMClient.hydrateRoot(container, <App />) instead."):"object"==typeof t&&null!==t&&t.$$typeof===Fe&&te("You passed a JSX element to createRoot. You probably meant to call root.render instead. Example usage:\n\n  let root = createRoot(domContainer);\n  root.render(<App />);"),!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError),void 0!==t.transitionCallbacks)&&t.transitionCallbacks,vu((t=Zy(e,Qu,0,n,0,r,o)).current,e),Hl(e.nodeType===kn?e.parentNode:e),new _1(t)},reactDom_development.findDOMNode=function(e){if(null!==(t=N1.current)&&null!==t.stateNode&&(t.stateNode._warnedAboutRefsInRender||te("%s is accessing findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",Q(t.type)||"A component"),t.stateNode._warnedAboutRefsInRender=!0),null==e)return null;if(e.nodeType===xn)return e;var t=e,e="findDOMNode",n=Hr(t);if(void 0===n)throw"function"==typeof t.render?new Error("Unable to find node on an unmounted component."):(t=Object.keys(t).join(","),new Error("Argument appears to not be a ReactComponent. Keys: "+t));if(null===(t=Co(n)))return null;if(t.mode&ei){var r=C(n)||"Component";if(!o1[r]){o1[r]=!0;var o=St;try{_t(t),n.mode&ei?te("%s is deprecated in StrictMode. %s was passed an instance of %s which is inside StrictMode. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",e,e,r):te("%s is deprecated in StrictMode. %s was passed an instance of %s which renders StrictMode children. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",e,e,r)}finally{o?_t(o):Tt()}}}return t.stateNode},reactDom_development.flushSync=function(e){return Hv()&&te("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task."),Vv(e)},reactDom_development.hydrate=function(e,t,n){if(te("ReactDOM.hydrate is no longer supported in React 18. Use hydrateRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),I1(t))return bu(t)&&void 0===t._reactRootContainer&&te("You are calling ReactDOM.hydrate() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call hydrateRoot(container, element)?"),L1(null,e,t,!0,n);throw new Error("Target container is not a DOM element.")},reactDom_development.hydrateRoot=function(e,t,n){if(j1.usingClientEntryPoint||te('You are importing hydrateRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),!O1(e))throw new Error("hydrateRoot(...): Target container is not a DOM element.");M1(e),void 0===t&&te("Must provide initial children as second argument to hydrateRoot. Example usage: hydrateRoot(domContainer, <App />)");var r,o,i=null!=n&&n.hydratedSources||null,a=!1,s="",l=T1,c=(null!=n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError)&&(l=n.onRecoverableError),Xy(t,null,e,Qu,0,a,0,s,l));if(vu(c.current,e),Hl(e),i)for(var u=0;u<i.length;u++){var d=i[u];r=c,o=(o=void 0,(d=d)._getVersion)(d._source),null==r.mutableSourceEagerHydrationData?r.mutableSourceEagerHydrationData=[d,o]:r.mutableSourceEagerHydrationData.push(d,o)}return new R1(c)},reactDom_development.render=function(e,t,n){if(te("ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),I1(t))return bu(t)&&void 0===t._reactRootContainer&&te("You are calling ReactDOM.render() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.render(element)?"),L1(null,e,t,!1,n);throw new Error("Target container is not a DOM element.")},reactDom_development.unmountComponentAtNode=function(e){var t,n;if(I1(e))return bu(e)&&void 0===e._reactRootContainer&&te("You are calling ReactDOM.unmountComponentAtNode() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.unmount()?"),e._reactRootContainer?((t=P1(e))&&!xu(t)&&te("unmountComponentAtNode(): The node you're attempting to unmount was rendered by another copy of React."),Vv(function(){L1(null,null,e,!1,function(){e._reactRootContainer=null,yu(e)})}),!0):(t=!(!(t=P1(e))||!xu(t)),n=e.nodeType===xn&&I1(e.parentNode)&&!!e.parentNode._reactRootContainer,t&&te("unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",n?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component."),!1);throw new Error("unmountComponentAtNode(...): Target container is not a DOM element.")},reactDom_development.unstable_batchedUpdates=Bv,reactDom_development.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(te("ReactDOM.unstable_renderSubtreeIntoContainer() is no longer supported in React 18. Consider using a portal instead. Until you switch to the createRoot API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!I1(n))throw new Error("Target container is not a DOM element.");if(null==e||void 0===e._reactInternals)throw new Error("parentComponent must be a valid React Component");return L1(e,t,n,!1,r)},reactDom_development.version=Ky,"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)}return reactDom_development}function checkDCE(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){if("production"!==process.env.NODE_ENV)throw new Error("^_^");try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(e){console.error(e)}}}"production"===process.env.NODE_ENV?(checkDCE(),reactDom.exports=requireReactDom_production_min()):reactDom.exports=requireReactDom_development();var reactDomExports=reactDom.exports,ReactDOM=getDefaultExportFromCjs(reactDomExports);const Sidebar=({open:e,children:t},n)=>{const[r,o]=useState(window.document.getElementById("settings"));n=jsx("div",{ref:n,css:{borderRight:"1px solid rgba(57,76,96,.15)",background:"#fff",width:"100%",height:"100%",position:"absolute",overflowY:"auto",pointerEvents:"auto","@media (max-width: 900px)":{width:"100%",position:"fixed",bottom:0,left:0,top:0,background:"#fff"}},children:t});return useEffect(()=>{o(window.document.getElementById("settings"))},[]),r&&e?ReactDOM.createPortal(n,r):null};var Sidebar$1=forwardRef(Sidebar);const FontStyle=()=>{const e=useEditor(e=>({fontList:e.fontList}))["fontList"];var t=useMemo(()=>{const n=[];return e.forEach(e=>{var t=e.fonts.find(e=>!e.style);t&&n.push(`
                @font-face {
                  font-family: '${e.name}';
                  src: url(${t.urls.join(",")}) format('woff2');
                  font-display: block;
                }
                `)}),n.join("\n")},[e]);return jsx(Global,{styles:css`
                ${t}
            `})};var FontStyle$1=React__default$1.memo(FontStyle),CheckIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"m229.66 77.66-128 128a8 8 0 0 1-11.32 0l-56-56a8 8 0 0 1 11.32-11.32L96 188.69 218.34 66.34a8 8 0 0 1 11.32 11.32Z"})}))},MagnifyingGlassIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"m229.66 218.34-50.07-50.06a88.11 88.11 0 1 0-11.31 11.31l50.06 50.07a8 8 0 0 0 11.32-11.32ZM40 112a72 72 0 1 1 72 72 72.08 72.08 0 0 1-72-72Z"})}))};const FontSidebar=(e,t)=>{var{selected:n,onChangeFontFamily:r}=e,e=__rest(e,["selected","onChangeFontFamily"]);const o=useRef(!1),i=useRef(null),a=useRef(null),s=useContext(EditorContext)["getFonts"];var l=useUsedFont()["usedFonts"];const{actions:c,fontList:u}=useEditor(e=>({fontList:e.fontList})),[d,p]=useState(!1),[f,h]=useState(""),m=useCallback(async(e=0)=>{o.current=!0,p(!0);var t=await s({limit:"30",offset:e+"",q:f});e?c.appendFontList(t):c.setFontList(t),p(!1),0<t.length&&(o.current=!1)},[s,c,p,f]);useAsync(async()=>{await m()},[m]),useEffect(()=>{var e;const t=async e=>{e=e.target;e.scrollHeight-e.scrollTop-80<=e.clientHeight&&!o.current&&await m(u.length)};return null!=(e=a.current)&&e.addEventListener("scroll",t),()=>{var e;null!=(e=a.current)&&e.removeEventListener("scroll",t)}},[m,u]);return jsxs(Sidebar$1,Object.assign({ref:t},e,{children:[jsx(FontStyle$1,{}),jsxs("div",{css:{width:"100%",height:"100%",display:"flex",flexDirection:"column",overflowY:"auto"},children:[jsxs("div",{css:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,height:48,borderBottom:"1px solid rgba(57,76,96,.15)",padding:"0 20px"},children:[jsx("p",{css:{lineHeight:"48px",fontWeight:600,color:"#181C32",flexGrow:1},children:"Font"}),jsx("div",{css:{fontSize:20,flexShrink:0,width:32,height:32,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>{c.setSidebar()},children:jsx(XIcon,{})})]}),jsx("div",{css:{borderRadius:4,boxShadow:"0 0 0 1px rgba(43,59,74,.3)",margin:16},children:jsxs("div",{css:{height:40,borderRadius:4,padding:"0 12px",display:"flex",alignItems:"center"},children:[jsx("div",{css:{fontSize:24,marginRight:8,flexShrink:0},children:jsx(MagnifyingGlassIcon,{})}),jsx("form",{onSubmit:async e=>{e.preventDefault(),a.current&&(a.current.scrollTop=0),h((null==(e=i.current)?void 0:e.value)||""),await m(0)},children:jsx("input",{ref:i,type:"text",css:{width:"100%",height:"100%"}})})]})}),jsxs("div",{ref:a,css:{flexGrow:1,overflowY:"auto"},children:[jsx("div",{css:{padding:"16px 20px",fontWeight:700},children:"Document fonts"}),l.map(e=>jsxs("div",{css:{height:40,display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",padding:"0 24px",":hover":{background:"#F9F9F9"}},onClick:()=>r(e),children:[jsx("span",{css:{fontFamily:e.name},children:e.name}),n.map(e=>e.name).includes(e.name)&&jsx("span",{children:jsx(CheckIcon,{})})]},e.name)),jsxs("div",{css:{borderTop:"1px solid rgba(217, 219, 228, 0.6)"},children:[jsx("div",{css:{padding:"16px 20px",fontWeight:700},children:"Fonts"}),u.map(e=>jsxs("div",{css:{height:40,display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",padding:"0 24px",":hover":{background:"#F9F9F9"}},onClick:()=>r(e),children:[jsx("span",{css:{fontFamily:e.name},children:e.name}),n.map(e=>e.name).includes(e.name)&&jsx("span",{children:jsx(CheckIcon,{})})]},e.name)),d&&jsx("div",{children:"Loading..."})]})]})]})]}))};var FontSidebar$1=forwardRef(FontSidebar);const Slider=({label:e,min:n=0,max:t=100,step:r=1,defaultValue:o,value:i,hideLabel:a,hideInput:s,onChange:l})=>{const c=useRef(null),u=useRef(null);var d=useRef(null);const p=useRef({startPoint:0,startValue:0}),[f,h]=useState(0),[m,g]=useState(o||i||0),[v,y]=useState(!1),b=(useEffect(()=>{void 0!==i&&(g(i),u.current)&&(u.current.value=""+i)},[i]),useEffect(()=>{var e;n<0&&(e=-n/(t-n)*100,h(e))},[n,t]),e=>{g(e);var t=(r+"").split("."),t=parseFloat((Math.round(e/r)*r).toFixed((null==(e=t[1])?void 0:e.length)||0));u.current&&(u.current.value=t+""),l&&l(t)}),w=e=>{return e/((null==(e=c.current)?void 0:e.getBoundingClientRect()).width/(t-n))},x=lodashExports.throttle(e=>{e=getPosition(e).clientX,e-=p.current.startPoint,e=Math.max(n,Math.min(t,p.current.startValue+w(e)));b(e)},16),S=e=>{var e=getPosition(e)["clientX"],e=e-p.current.startPoint;e&&(e=Math.max(n,Math.min(t,p.current.startValue+w(e))),b(e)),y(!1),window.removeEventListener("touchmove",x),window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",S),window.removeEventListener("mouseleave",S),window.removeEventListener("touchend",S)};o=e=>{var e=getPosition(e.nativeEvent)["clientX"],t=(t=e)-(null==(t=c.current)?void 0:t.getBoundingClientRect()).x,t=w(t);p.current.startPoint=e,p.current.startValue=n+t,b(n+t),y(!0),window.addEventListener("touchmove",x),window.addEventListener("mousemove",x),window.addEventListener("mouseup",S,{once:!0}),window.addEventListener("mouseleave",S,{once:!0}),window.addEventListener("touchend",S,{once:!0})};const k=()=>{var e;u.current&&(e=Math.max(n,Math.min(t,parseInt(u.current.value,10))),u.current.blur(),b(e))};return jsxs("div",{css:{display:"grid",gridColumnGap:16,gridRowGap:8,gridTemplateColumns:"1fr auto",alignItems:"center"},children:[!a&&jsx("div",{css:{fontSize:14,textTransform:"capitalize",whiteSpace:"nowrap"},children:e}),!s&&jsx("div",{css:{background:"#fff",border:"1px solid rgba(43,59,74,.3)",width:40,height:24,borderRadius:4,overflow:"hidden"},children:jsx("input",{ref:u,css:{width:"100%",height:"100%",padding:2,textAlign:"center"},defaultValue:m,onBlur:k,onKeyDown:e=>{"enter"===e.key.toLowerCase()&&k()}})}),jsxs("div",{css:{height:16,position:"relative",width:"100%",gridRow:s&&a?1:"2/auto",gridColumn:"1/-1"},onMouseDown:o,onTouchStart:o,children:[jsx("div",{ref:c,css:{width:"100%",position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",height:2,borderRadius:2,cursor:"pointer",backgroundColor:"#bbbbbb"}}),0<f&&jsxs("div",{css:{position:"absolute",top:"50%",width:"100%",transform:"translateY(-50%)",display:"inline-flex"},children:[jsx("div",{css:{width:`calc(${f}% - 2px)`,maxWidth:"calc(100% - 4px)"}}),jsx("div",{css:{width:4,height:4,transform:"translateY(-6px)",borderRadius:"50%",background:"#bbbbbb"}})]}),jsx("div",{ref:d,css:{position:"absolute",top:"50%"},style:{width:(Math.abs(m)-(0<n?n:0))/(t-n)*100+"%",marginLeft:Math.min(f,f+m/(t-n)*100)+"%",transform:`scaleX(${0<=m?1:-1})`},children:jsx("div",{css:{backgroundColor:"#3d8eff",width:"100%",height:2,transform:"translateY(-50%)",position:"absolute",borderRadius:2},children:jsxs("div",{css:{width:16,height:16,transform:"translate(-50%, -50%)",background:"#fff",left:"100%",position:"absolute"},onMouseDown:o,onTouchStart:o,children:[jsx("div",{css:{position:"absolute",borderRadius:"50%",width:16,height:16,transform:v?" scale(1.125)":void 0,border:v?"1px solid #3d8eff":"1px solid #5E6278"}}),jsx("div",{css:{position:"absolute",borderRadius:"50%",width:16,height:16,boxShadow:v?"0 0 0 8px #3d8eff":"0 0 4px 1px #bbbbbb",opacity:v?.5:1}})]})})})]})]})},PopoverWrapper=({open:e,children:t,anchorEl:i,placement:a="bottom-end",onClose:o,offsets:n},r)=>{const s=useForwardedRef(r),l=useRef(null),[c,u]=useState({x:-9999,y:-9999}),[d,p]=useState({x:-9999,y:-9999});useEffect(()=>{const e=lodashExports.throttle(()=>{var e,t,n;i&&(e=i.getBoundingClientRect(),[t]=a.split("-"),n={x:e.x,y:e.y},"right"===t&&(n.x+=e.width),"bottom"===t&&(n.y+=e.height),"top"===t&&(n.y-=e.height),"left"===t&&(n.x-=e.width),u(n))},16);return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[e]),useEffect(()=>{const e=t=>{var n=s.current;let r=!0;if(n)for(let e=0;e<n.children.length;e++)n.children[e].contains(t.target)&&(r=!1);r&&o()};return window.addEventListener("mousedown",e,{capture:!0}),()=>{window.removeEventListener("mousedown",e,{capture:!0})}},[]),useEffect(()=>{const e=new MutationObserver(()=>{var e,t,n,[r,o]=a.split("-");i?(e=null==(e=l.current)?void 0:e.getBoundingClientRect(),t=i.getBoundingClientRect(),n={x:0,y:0},"top"===r?(n.y=-e.height+t.height,"end"===o&&(n.x=-e.width+t.width)):"bottom"===r&&"end"===o&&(n.x=-e.width+t.width),p(n)):p({x:0,y:0})});return l.current&&e.observe(l.current,{subtree:!0,childList:!0,attributes:!0}),()=>{e.disconnect()}},[a,i]);r=useMemo(()=>{var e;return n&&n[a]?(e=n[a],{x:c.x+e.x,y:c.y+e.y}):c},[n,c]);return jsx("div",{ref:s,css:{position:"fixed",top:0,left:0,zIndex:1040},children:jsx("div",{ref:l,css:{position:"absolute",top:r.y,left:r.x,transform:`translate(${d.x}px, ${d.y}px)`,boxShadow:"0 0 0 1px rgba(64,87,109,.07),0 2px 12px rgba(53,71,90,.2)",borderRadius:4},children:jsx("div",{css:{background:"#fff"},children:t})})})};var PopoverWrapper$1=forwardRef(PopoverWrapper);const Popover=(e,t)=>{var{open:n,children:r,element:o}=e,e=__rest(e,["open","children","element"]);const[i]=useState(window.document.createElement("div"));useEffect(()=>(o||window.document.body.appendChild(i),()=>{o||window.document.body.removeChild(i)}),[o,i,n]);t=jsx(PopoverWrapper$1,Object.assign({ref:t,open:n},e,{children:r}));return n?ReactDOM.createPortal(t,o||i):null};var Popover$1=forwardRef(Popover);const equalColorObjects=(e,t)=>{if(e!==t)for(const n in e)if(e[n]!==t[n])return!1;return!0},equalHex=(e,t)=>e.toLowerCase()===t.toLowerCase()||equalColorObjects(hex2rgb(e),hex2rgb(t)),clamp=(e,t=0,n=1)=>n<e?n:e<t?t:e,isTouch=e=>"touches"in e,getTouchPoint=(t,n)=>{for(let e=0;e<t.length;e++)if(t[e].identifier===n)return t[e];return t[0]},getParentWindow=e=>e&&e.ownerDocument.defaultView||self,getRelativePosition=(e,t,n)=>{var r=e.getBoundingClientRect(),n=isTouch(t)?getTouchPoint(t.touches,n):t;return{left:clamp((n.pageX-(r.left+getParentWindow(e).pageXOffset))/r.width),top:clamp((n.pageY-(r.top+getParentWindow(e).pageYOffset))/r.height)}},preventDefaultMove=e=>{isTouch(e)||e.preventDefault()},isInvalid=(e,t)=>t&&!isTouch(e),InteractiveBase=e=>{var{onMove:t,onMoveStart:n,onMoveEnd:r,onKey:o}=e,e=__rest(e,["onMove","onMoveStart","onMoveEnd","onKey"]);const a=useRef(null),s=useEventCallback(t),l=useEventCallback(n),c=useEventCallback(r),u=useEventCallback(o),d=useRef(null),p=useRef(!1),[i,f,h]=useMemo(()=>{const r=e=>{preventDefaultMove(e),(isTouch(e)?0<e.touches.length:0<e.buttons)&&a.current?s(getRelativePosition(a.current,e,d.current)):i(!1)},o=()=>{i(!1),c&&c()};function i(e){var t=p.current,n=a.current,n=getParentWindow(n),e=e?n.addEventListener:n.removeEventListener;e(t?"touchmove":"mousemove",r),e(t?"touchend":"mouseup",o)}return[({nativeEvent:e})=>{var t,n=a.current;n&&(preventDefaultMove(e),!isInvalid(e,p.current))&&n&&(isTouch(e)&&(p.current=!0,(t=e.changedTouches||[]).length)&&(d.current=t[0].identifier),n.focus(),l&&l(getRelativePosition(n,e,d.current)),s(getRelativePosition(n,e,d.current)),i(!0))},e=>{var t=e.which||e.keyCode;t<37||40<t||(e.preventDefault(),u({left:39===t?.05:37===t?-.05:0,top:40===t?.05:38===t?-.05:0}))},i]},[u,s]);return useEffect(()=>h,[h]),jsx("div",Object.assign({},e,{onTouchStart:i,onMouseDown:i,css:{position:"absolute",left:0,top:0,right:0,bottom:0,borderRadius:"inherit",outline:"none",touchAction:"none"},ref:a,onKeyDown:f,tabIndex:0}))},Interactive=React__default$1.memo(InteractiveBase),HuePointer=({style:e,left:t,top:n=.5})=>{n={top:100*n+"%",left:100*t+"%"};return jsx("div",{css:Object.assign({position:"absolute",width:8,height:8,transform:"translate(-50%,-50%)",background:"#fff",borderRadius:"50%",boxShadow:"0 2px 5px rgba(57,76,96,.15), 0 0 0 1px rgba(64,87,109,.07)",zIndex:2,transition:"width height .1s"},e),style:n})},HueBase=({hue:t,onChange:n})=>{const[e,r]=useState(!1);return jsx("div",{css:{borderRadius:6,position:"relative",height:12,background:"linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)",cursor:"pointer"},children:jsx(Interactive,{onMoveStart:()=>{r(!0)},onMoveEnd:()=>{r(!1)},onMove:e=>{n({h:360*e.left})},onKey:e=>{n({h:lodashExports.clamp(t+360*e.left,0,360)})},"aria-label":"Hue","aria-valuenow":Math.round(t),"aria-valuemax":"360","aria-valuemin":"0",children:jsx(HuePointer,{style:{width:e?12:8,height:e?12:8,":hover":{width:12,height:12}},left:t/360})})})},Hue=React__default$1.memo(HueBase),Pointer=({zIndex:e,color:t,left:n,top:r=.5})=>{return jsx("div",{css:{position:"absolute",width:14,height:14,transform:"translate(-50%,-50%)",background:"#fff",border:"3px solid #fff",borderRadius:"50%",boxShadow:"0 2px 5px rgba(57,76,96,.15), 0 0 0 1px rgba(64,87,109,.07)",zIndex:e},style:{top:100*r+"%",left:100*n+"%"},children:jsx("div",{css:{position:"absolute",left:0,top:0,right:0,bottom:0,pointerEvents:"none",borderRadius:"inherit"},style:{backgroundColor:t}})})},SaturationBase=({hsva:t,onChange:n})=>{return jsx("div",{css:{position:"relative",flexGrow:1,borderColor:"transparent",borderRadius:4,height:112,backgroundImage:"linear-gradient(to top, #000, rgba(0, 0, 0, 0)), linear-gradient(to right, #fff, rgba(255, 255, 255, 0))",cursor:"pointer"},style:{backgroundColor:hsv2hslString({h:t.h,s:100,v:100,a:1})},children:jsx(Interactive,{onMove:e=>{n({s:100*e.left,v:100-100*e.top})},onKey:e=>{n({s:lodashExports.clamp(t.s+100*e.left,0,100),v:lodashExports.clamp(t.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":`Saturation ${Math.round(t.s)}%, Brightness ${Math.round(t.v)}%`,children:jsx(Pointer,{zIndex:3,top:1-t.v/100,left:t.s/100,color:hsv2hslString(t)})})})},Saturation=React__default$1.memo(SaturationBase);function useColorManipulation(t,n,e){const r=useEventCallback(e),[o,i]=useState(()=>t.toHsva(n)),a=useRef({color:n,hsva:o});useEffect(()=>{var e;t.equal(n,a.current.color)||(e=t.toHsva(n),a.current={hsva:e,color:n},i(e))},[n,t]),useEffect(()=>{let e;equalColorObjects(o,a.current.hsva)||t.equal(e=t.fromHsva(o),a.current.color)||(a.current={hsva:o,color:e},r(e))},[o,t,r]);e=useCallback(t=>{i(e=>Object.assign({},e,t))},[]);return[o,e]}const Alpha=({hsva:t,onChange:n})=>{const[e,r]=useState(!1);return jsx("div",{css:{position:"relative",backgroundImage:"linear-gradient(-45deg,rgba(57,76,96,.15) 25%,transparent 25%,transparent 75%,rgba(57,76,96,.15) 75%),linear-gradient(-45deg,rgba(57,76,96,.15) 25%,transparent 25%,transparent 75%,rgba(57,76,96,.15) 75%)",backgroundSize:"8px 8px",backgroundPosition:"0  0, 4px 4px",backgroundColor:"#fff",boxShadow:"inset 0 0 0 1px rgba(57,76,96,.15)",cursor:"pointer",borderRadius:6},children:jsx("div",{css:{borderRadius:6,height:12,background:"linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)"},style:{backgroundImage:`linear-gradient(90deg, ${hsv2hslString(Object.assign({},t,{a:0}))}, ${hsv2hslString(Object.assign({},t,{a:1}))})`},children:jsx(Interactive,{onMoveStart:()=>{r(!0)},onMoveEnd:()=>{r(!1)},onMove:e=>{n({a:e.left})},onKey:e=>{n({a:clamp(t.a+e.left)})},children:jsx(HuePointer,{style:{width:e?12:8,height:e?12:8,":hover":{width:12,height:12}},left:t.a})})})})};var EyedropperIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M224 67.3a35.79 35.79 0 0 0-11.26-25.66c-14-13.28-36.72-12.78-50.62 1.13L142.8 62.2a24 24 0 0 0-33.14.77l-9 9a16 16 0 0 0 0 22.64l2 2.06-51 51a39.75 39.75 0 0 0-10.53 38l-8 18.41A13.68 13.68 0 0 0 36 219.3a15.92 15.92 0 0 0 17.71 3.35L71.23 215a39.89 39.89 0 0 0 37.06-10.75l51-51 2.06 2.06a16 16 0 0 0 22.62 0l9-9a24 24 0 0 0 .74-33.18l19.75-19.87A35.75 35.75 0 0 0 224 67.3ZM97 193a24 24 0 0 1-24 6 8 8 0 0 0-5.55.31l-18.1 7.91L57 189.41a8 8 0 0 0 .25-5.75A23.88 23.88 0 0 1 63 159l51-51 33.94 34ZM202.13 82l-25.37 25.52a8 8 0 0 0 0 11.3l4.89 4.89a8 8 0 0 1 0 11.32l-9 9L112 83.26l9-9a8 8 0 0 1 11.31 0l4.89 4.89a8 8 0 0 0 11.33 0l24.94-25.09c7.81-7.82 20.5-8.18 28.29-.81a20 20 0 0 1 .39 28.7Z"})}))};const BaseColorPicker=e=>{var{colorModel:t,color:n=t.defaultColor,onChange:r,enableAlpha:o}=e,e=__rest(e,["colorModel","color","onChange","enableAlpha"]),i=useRef(null);const a=useRef(null),[s,l]=useState(!1),[c,u]=useColorManipulation(t,n,r);const d=e=>{e=e.replace(/^#/,"");3<=e.length?u(hex2hsv("#"+e)):""===e?u(hex2hsv("#ffffff")):u(hex2hsv(`#${e}${e}00000`.slice(0,7)))};t=e=>{a.current.value=hsv2hex(Object.assign(Object.assign({},c),e)).slice(0,7),u(e)};return jsxs("div",Object.assign({},e,{ref:i,css:{position:"relative",width:"100%",display:"grid",rowGap:8},children:[jsx(Saturation,{hsva:c,onChange:t}),jsx(Hue,{hue:c.h,onChange:t}),o&&jsx(Alpha,{hsva:c,onChange:t}),jsxs("div",{css:{display:"flex"},children:[jsxs("div",{css:{flexGrow:1,borderWidth:1,borderRadius:4,fontSize:14,lineHeight:"36px",color:"rgb(94, 98, 120)",marginRight:8,display:"flex",overflow:"hidden",borderColor:s?"#3d8eff":"rgb(217, 219, 228)"},children:[jsx("div",{css:{flexGrow:1},children:jsx("input",{ref:a,type:"text",defaultValue:n,css:{width:"100%",height:"100%",textAlign:o?"left":"center",textTransform:"uppercase",padding:"0 12px"},onKeyDown:e=>{var t=keyName(e.nativeEvent),t=modifiers$1(t,e.nativeEvent);/[a-f0-9]/.test(t)||["Backspace","Delete",normalizeKeyName$1("Mod-v"),normalizeKeyName$1("Mod-a")].includes(t)||e.preventDefault()},onChange:e=>{var t=e.target.value.replace(/^#/,"");d(t),e.target.value="#"+t},onFocus:e=>{e.target.select(),l(!0)},onBlur:()=>l(!1),onPaste:e=>{var t=(""+e.clipboardData.getData("text").replaceAll(/([^a-f0-9])/g,"")).slice(0,6);d(t),e.target.value="#"+t,e.preventDefault()},maxLength:7})}),o&&jsxs("div",{css:{display:"flex",alignItems:"center",flexShrink:0,width:80,paddingLeft:12},children:[jsx("input",{type:"text",onKeyDown:e=>{var t=keyName(e.nativeEvent),t=modifiers$1(t,e.nativeEvent);/[0-9]/.test(t)||["Backspace","Delete",normalizeKeyName$1("Mod-v"),normalizeKeyName$1("Mod-a")].includes(t)||e.preventDefault()},onChange:e=>{var t=parseInt(e.target.value,10)||0,t=Math.max(0,Math.min(100,t));u(Object.assign(Object.assign({},c),{a:.01*t})),e.target.value=t.toString()},onFocus:e=>{e.target.select()},onPaste:e=>{var t=e.clipboardData.getData("text").replaceAll(/([^0-9])/g,""),t=Math.max(0,Math.min(100,parseInt(t,10)));e.target.value=t.toString(),u(Object.assign(Object.assign({},c),{a:.01*t})),e.preventDefault()},defaultValue:Math.round(100*c.a),css:{width:"100%",height:"100%",textAlign:"right",padding:"0 8px"}}),jsx("span",{css:{color:"rgba(13,18,22,.7)",padding:"0 8px",flexShrink:0},children:"%"})]})]}),jsx("div",{css:{},children:jsx("div",{css:{width:38,height:38,border:"1px solid rgb(217, 219, 228)",background:window.EyeDropper?void 0:n,borderRadius:4,fontSize:24,display:"flex",alignItems:"center",justifyContent:"center",cursor:window.EyeDropper?"pointer":void 0},onClick:async()=>{var e;window.EyeDropper&&(e=await(new window.EyeDropper).open(),a.current.value=new Color(e.sRGBHex).toHex(),d(new Color(e.sRGBHex).toHex()))},children:window.EyeDropper&&jsx(EyedropperIcon,{})})})]})]}))},colorModel={defaultColor:"000",toHsva:hex2hsv,fromHsva:({h:e,s:t,v:n,a:r})=>hsv2hex({h:e,s:t,v:n,a:r}),equal:equalHex},ColorPicker=e=>jsx(BaseColorPicker,Object.assign({},e,{colorModel:colorModel})),ColorIcon=(e,t)=>{var{color:n,selected:r,children:o}=e,e=__rest(e,["color","selected","children"]);return jsxs("div",Object.assign({ref:t,css:{paddingBottom:"100%",position:"relative",width:"100%",cursor:"pointer"}},e,{children:[jsxs("div",{css:{backgroundColor:"#fff",backgroundPosition:"0 0, 6px 6px",backgroundSize:"12px 12px",inset:0,position:"absolute",backgroundImage:"linear-gradient(-45deg,rgba(57,76,96,.15) 25%,transparent 25%,transparent 75%,rgba(57,76,96,.15) 75%),linear-gradient(-45deg,rgba(57,76,96,.15) 25%,transparent 25%,transparent 75%,rgba(57,76,96,.15) 75%)"},children:[jsx("div",{css:{borderRadius:4,overflow:"hidden",background:n,width:"100%",height:"100%",position:"absolute",boxShadow:"inset 0 0 0 1px rgba(57,76,96,.15)"}}),jsx("div",{css:{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:4,boxShadow:r&&new Color(r).toRgbString()===new Color(n).toRgbString()?"0 0 0 1px #3d8eff,inset 0 0 0 2px #009ef7,inset 0 0 0 4px #fff":void 0}})]}),o]}))};var ColorIcon$1=forwardRef(ColorIcon);const getEffectList=e=>[{value:"none",img:e+"/text/effects/none.png"},{value:"shadow",img:e+"/text/effects/shadow.png",settings:{offset:50,direction:45,blur:0,transparency:40,color:"#000000"}},{value:"lift",img:e+"/text/effects/lift.png",settings:{intensity:50}},{value:"hollow",img:e+"/text/effects/hollow.png",settings:{thickness:50}},{value:"splice",img:e+"/text/effects/splice.png",settings:{thickness:50,offset:50,direction:45,color:"#000000"}},{value:"echo",img:e+"/text/effects/echo.png",settings:{offset:50,direction:45,color:"#000000"}}],TextEffectSidebar=(e,t)=>{e=__rest(e,[]);const o=useContext(EditorContext)["config"]["assetPath"],n=useRef(null),[r,i]=useState(!1);var a=useSelectedLayers()["selectedLayers"];const{actions:s,activePage:l}=useEditor(e=>({activePage:e.activePage})),c=a.filter(e=>isTextLayer(e)),{effect:u,settings:d}=useMemo(()=>c.reduce((e,t)=>{t=t.data.props;return t.effect&&(t.effect.name===e.effect||t.effect.name&&"none"===e.effect?(e.effect=t.effect.name,e.settings=t.effect.settings):(e.effect="none",e.settings={})),e},{effect:"none",settings:{}}),[c]),p=lodashExports.throttle((e,t)=>{var n=c.map(e=>e.id);s.history.throttle(2e3).setProp(l,n,{effect:{settings:{[e]:t}}})},16);return jsxs(Sidebar$1,Object.assign({ref:t},e,{children:[jsxs("div",{css:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,height:48,borderBottom:"1px solid rgba(57,76,96,.15)",padding:"0 20px"},children:[jsx("p",{css:{lineHeight:"48px",fontWeight:600,color:"#181C32",flexGrow:1},children:"Text Effects"}),jsx("div",{css:{fontSize:20,flexShrink:0,width:32,height:32,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>{s.setSidebar()},children:jsx(XIcon,{})})]}),jsxs("div",{css:{padding:"24px 16px"},children:[jsx("p",{children:"Style"}),jsxs("div",{css:{display:"grid",gridTemplateColumns:"repeat(3,minmax(0,1fr))",gap:12,fontSize:10},children:[getEffectList(o).map(e=>jsxs("div",{children:[jsxs("div",{css:{cursor:"pointer",position:"relative"},onClick:()=>{return r=e.value,s.history.new(),void c.forEach(({id:e,data:{props:{colors:t}}})=>{var n;"none"===r?s.setProp(l,e,{effect:null}):(n=lodashExports.cloneDeep(null==(n=getEffectList(o).find(e=>e.value===r))?void 0:n.settings),0<t.length&&(50<(t=new Color(t[0])).white()?n.color=t.darken(.5).toRgbString():n.color=t.whiten(.5).toRgbString()),s.history.merge().setProp(l,e,{effect:{name:r,settings:n}},(e,t)=>{if(t)return t}))});var r},children:[jsx("div",{css:{paddingBottom:"100%",width:"100%"}}),jsx("img",{src:e.img,css:{width:"100%",height:"100%",position:"absolute",left:0,top:0,borderRadius:4,boxShadow:e.value===u?"0 0 0 2px #3d8eff,inset 0 0 0 2px #fff":"0 0 0 1px rgba(43,59,74,.3)",":hover":{boxShadow:"00 0 0 2px #3d8eff,inset 0 0 0 2px #fff"}}})]}),jsx("div",{css:{textAlign:"center",marginTop:4,lineHeight:"20px",textTransform:"capitalize"},children:e.value})]},e.value)),d&&jsx("div",{css:{gridRow:Math.ceil((1+getEffectList(o).findIndex(e=>e.value===u))/3)+1+" / auto",gridColumn:"1/-1",padding:"8px 0"},children:jsx("div",{css:{display:"grid",rowGap:8},children:Object.entries(d).map(([t,e])=>jsxs(Fragment$1,{children:["color"!==t&&jsx(Slider,{label:t,min:"direction"===t?-180:0,max:"direction"===t?180:100,defaultValue:e,onChange:e=>{p(t,e)}}),"color"===t&&jsxs("div",{css:{display:"flex",alignItems:"center"},children:[jsx("div",{css:{flexGrow:1,fontSize:14,textTransform:"capitalize",whiteSpace:"nowrap"},children:"Color"}),jsx("div",{ref:n,css:{width:32,height:32},children:jsx(ColorIcon$1,{color:e,selected:null,onClick:()=>i(!0)})}),jsx(Popover$1,{open:r,anchorEl:n.current,placement:"bottom-end",onClose:()=>i(!1),children:jsx("div",{css:{padding:16,width:280},children:jsx(ColorPicker,{color:new Color(e||"#f25022").toHex(),onChange:e=>{p(t,hex2rgbString(e))}})})})]})]},t))})})]})]})]}))};var TextEffectSidebar$1=forwardRef(TextEffectSidebar);const GRADIENT_STYLE=["leftToRight","topToBottom","topLeftToBottomRight","circleCenter","circleTopLeft"],GradientPicker=({selectedColor:n,gradient:r,event:e,children:t,onChangeGradient:o,onChangeColor:i})=>{var a=useRef(null),s=useRef(null);const l=useRef([]),[c,u]=useState(!1),[d,p]=useState(null),[f,h]=useState(r?"gradient":"solid"),[m,g]=useState(),[v,y]=useState(n),b=useMemo(()=>{var e,t;return null!=r&&r.colors.length?null==r?void 0:r.colors:((t=(e=new Color(n)).toHsl()).l<50?t.l=Math.min(100,t.l+30):t.l=Math.max(0,t.l-30),[e.toRgbString(),new Color(t).toRgbString()])},[r,n]),w=(useEffect(()=>{c&&g({colors:b,style:(null==r?void 0:r.style)||"leftToRight"})},[c]),useEffect(()=>{m&&"gradient"===f&&o(m)},[m,f]),e=>{y(e),i(e)});return jsxs(Fragment$1,{children:[jsx("div",{ref:s,css:{cursor:"pointer"},onClick:()=>"click"===e&&u(!0),onDoubleClick:()=>"doubleClick"===e&&u(!0),children:t}),jsx(Popover$1,{ref:a,open:c,anchorEl:s.current,placement:"bottom",offsets:{bottom:{y:8,x:0}},onClose:()=>{u(!1),p(null)},children:jsxs("div",{css:{padding:"0 16px 16px 16px",width:280},children:[jsxs("div",{css:{display:"flex",justifyContent:"center",marginBottom:12,borderBottom:"1px solid rgba(217, 219, 228, 0.6)"},children:[jsx("div",{css:{display:"inline-block",cursor:"pointer",padding:8,flexGrow:1,textAlign:"center",overflow:"hidden",flexShrink:0,fontWeight:700,whiteSpace:"nowrap",color:"solid"===f?"#3d8eff":"rgba(13,18,22,.7)"},onClick:()=>{h("solid"),w(n)},children:"Solid Color"}),jsx("div",{css:{display:"inline-block",cursor:"pointer",padding:8,flexGrow:1,textAlign:"center",overflow:"hidden",flexShrink:0,fontWeight:700,whiteSpace:"nowrap",color:"gradient"===f?"#3d8eff":"rgba(13,18,22,.7)"},onClick:()=>{h("gradient"),g({colors:(null===m||void 0===m?void 0:m.colors)||[],style:(null===m||void 0===m?void 0:m.style)||"leftToRight"})},children:"Gradient"})]}),"solid"===f&&jsx("div",{css:{},children:jsx(ColorPicker,{color:new Color(v).toHex(),onChange:w})}),"gradient"===f&&jsxs("div",{css:{display:"grid",rowGap:12},children:[jsxs("div",{children:[jsx("div",{css:{fontWeight:700,lineHeight:2.2},children:"Gradient colors"}),jsxs("div",{css:{display:"grid",gridTemplateColumns:" repeat(auto-fill, minmax(40px, 1fr))",gridGap:8},children:[null===m||void 0===m?void 0:m.colors.map((e,t)=>jsxs("div",{css:{position:"relative"},children:[jsx(ColorIcon$1,{ref:e=>l.current[t]=e,selected:null,color:e,onClick:()=>p({index:t,color:e})}),jsx("div",{css:{position:"absolute",top:-8,right:-8,fontSize:12,padding:4,borderRadius:"50%",opacity:0,transition:"opacity .15s ease-in-out",background:"rgba(17,23,29,.6)",color:"#fff",display:2<(null===m||void 0===m?void 0:m.colors.length)?"block":"none",cursor:"pointer",":hover":{opacity:1}},onClick:()=>{return 2<(null===m||void 0===m?void 0:m.colors.length)&&(n=t,void(m&&g({colors:m.colors.filter((e,t)=>t!==n),style:m.style})));var n},children:jsx(XIcon,{})})]},t)),jsx(Popover$1,{open:!!d,anchorEl:d&&l.current[d.index],element:a.current,placement:"bottom",offsets:{bottom:{y:8,x:0}},onClose:()=>p(null),children:jsx("div",{css:{padding:16,width:280},children:jsx(ColorPicker,{enableAlpha:!0,color:new Color((null===d||void 0===d?void 0:d.color)||"#f25022").toHex(),onChange:e=>{var t;d&&((t=[...b])[d.index]=e,g({colors:t,style:(null===m||void 0===m?void 0:m.style)||"leftToRight"}))}})})}),jsx("div",{css:{paddingBottom:"100%",position:"relative",width:"100%",cursor:"pointer"},onClick:()=>{var e=b[b.length-1];g({colors:[...b,e],style:(null==r?void 0:r.style)||"leftToRight"}),p({index:b.length,color:e})},children:jsx("div",{css:{background:"rgba(64,87,109,.07)",fontSize:24,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",inset:0,borderRadius:4,transition:"background-color .1s linear,border-color .1s linear,color .1s linear",":hover":{background:"rgba(57,76,96,.15)"}},children:jsx(PlusIcon,{})})})]})]}),jsxs("div",{children:[jsx("div",{css:{fontWeight:700,lineHeight:2.2},children:"Style"}),jsx("div",{css:{display:"grid",columnGap:8,gridAutoFlow:"column"},children:GRADIENT_STYLE.map(t=>jsx("div",{css:{width:"100%",height:40,borderRadius:4,overflow:"hidden"},onClick:()=>{var e;e=t,g({colors:b,style:e})},children:jsx("div",{css:{backgroundColor:"#fff",backgroundPosition:"0 0, 6px 6px",backgroundSize:"12px 12px",width:"100%",height:"100%",position:"relative",backgroundImage:"linear-gradient(-45deg,rgba(57,76,96,.15) 25%,transparent 25%,transparent 75%,rgba(57,76,96,.15) 75%),linear-gradient(-45deg,rgba(57,76,96,.15) 25%,transparent 25%,transparent 75%,rgba(57,76,96,.15) 75%)"},children:jsx("div",{css:{background:getGradientBackground(b,t),position:"absolute",inset:0}})})},t))})]})]})]})})]})},ColorPickerPopover=({color:e,event:t,onChange:n,children:r})=>{var o=useRef(null);const[i,a]=useState(!1);return jsxs(Fragment$1,{children:[jsx("div",{ref:o,css:{cursor:"pointer"},onClick:()=>"click"===t&&a(!0),onDoubleClick:()=>"doubleClick"===t&&a(!0),children:r}),jsx(Popover$1,{open:i,anchorEl:o.current,placement:"bottom",offsets:{bottom:{y:8,x:0}},onClose:()=>a(!1),children:jsx("div",{css:{padding:16,width:280},children:jsx(ColorPicker,{color:new Color(e).toHex(),onChange:n})})})]})},defaultColors=[["#000000","#545454","#737373","#a6a6a6","#d9d9d9","#ffffff"],["#ff3131","#FF5757","#FF66C4","#CB6CE6","#8C52FF","#5E17EB"],["#0097B2","#0CC0DF","#5CE1E6","#38B6FF","#5271FF","#004AAD"],["#00BF62","#7ED957","#C1FF72","#FFDE59","#FFBD59","#FF914D"]],ColorSidebar=(e,t)=>{var{selected:r,gradient:o,useGradient:i,onSelect:n,onChangeGradient:a}=e,e=__rest(e,["selected","gradient","useGradient","onSelect","onChangeGradient"]);const[s,l]=useState(null),[c,u]=useState(null),[d]=useState(r),{actions:p,state:f}=useEditor(),h=useMemo(()=>f.pages.reduce((t,e)=>(Object.entries(e.layers).forEach(([,e])=>{isRootLayer(e)&&e.data.props.color||isShapeLayer(e)&&e.data.props.color?t.push(e.data.props.color):(isTextLayer(e)||isSvgLayer(e))&&t.push(...e.data.props.colors)}),lodashExports.uniq(t)),[]),[]),m=useMemo(()=>{var e=f.pages.reduce((t,e)=>(Object.entries(e.layers).forEach(([,e])=>{(isRootLayer(e)&&e.data.props.gradientBackground||isShapeLayer(e)&&e.data.props.gradientBackground)&&t.push(e.data.props.gradientBackground)}),t),[]);return lodashExports.uniqWith(e,lodashExports.isEqual)},[]);var g=useMemo(()=>{var e;return s?(e=h.findIndex(e=>d&&e===new Color(d).toRgbString()),lodashExports.uniq([...h.slice(0,e),s,...h.slice(e,h.length)])):h},[h,s,d]),v=useMemo(()=>{var e;return c?(e=m.findIndex(e=>lodashExports.isEqual(e,o)),lodashExports.uniqWith([...m.slice(0,e),c,...m.slice(e,m.length)],lodashExports.isEqual)):m},[m,c,o]);const y=e=>{lodashExports.isEqual(e,s)||(l(null),u(null)),n(new Color(e).toRgbString())},b=e=>{l(e),u(null),n(e)},w=e=>{l(null),u(e),a&&a(e)};return jsxs(Sidebar$1,Object.assign({ref:t},e,{children:[jsxs("div",{css:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,height:48,borderBottom:"1px solid rgba(57,76,96,.15)",padding:"0 20px"},children:[jsx("p",{css:{lineHeight:"48px",fontWeight:600,color:"#181C32",flexGrow:1},children:"Colors"}),jsx("div",{css:{fontSize:20,flexShrink:0,width:32,height:32,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>{p.setSidebar()},children:jsx(XIcon,{})})]}),jsxs("div",{css:{padding:"0 20px",display:"grid",rowGap:24},children:[jsxs("div",{children:[jsx("div",{css:{padding:"8px 0",fontWeight:700},children:"Document colors"}),jsxs("div",{css:{display:"grid",gridGap:12,gridTemplateColumns:`repeat(${defaultColors[0].length},minmax(0,1fr))`},children:[i&&a&&jsx(GradientPicker,{selectedColor:new Color(s||r||"#f25022").toHex(),event:"click",gradient:c||o,onChangeColor:e=>{b(new Color(e).toRgbString())},onChangeGradient:w,children:jsx("div",{css:{paddingBottom:"100%",position:"relative",width:"100%"},children:jsx("div",{css:{borderRadius:4,overflow:"hidden",background:"conic-gradient(red, yellow, lime, aqua, blue, magenta, red)",width:"100%",height:"100%",position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},children:jsx("div",{css:{fontSize:16,width:24,height:24,background:"#fff",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:jsx(PlusIcon,{})})})})}),!i&&jsx(ColorPickerPopover,{color:d||"#f25022",event:"click",onChange:y,children:jsx("div",{css:{paddingBottom:"100%",position:"relative",width:"100%"},children:jsx("div",{css:{borderRadius:4,overflow:"hidden",background:"conic-gradient(red, yellow, lime, aqua, blue, magenta, red)",width:"100%",height:"100%",position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},children:jsx("div",{css:{fontSize:16,width:24,height:24,background:"#fff",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:jsx(PlusIcon,{})})})})}),g.map((e,t)=>{var n=jsx(ColorIcon$1,{color:e,selected:r,onClick:()=>r!==e&&y(e)});return i&&a?jsx(GradientPicker,{selectedColor:new Color(s||r||"#f25022").toHex(),event:"doubleClick",gradient:c||o,onChangeColor:e=>{e=hex2rgbString(e);b(e)},onChangeGradient:w,children:n},t):jsx(ColorPickerPopover,{color:d||"#f25022",event:"doubleClick",onChange:y,children:n},t)}),i&&a&&v.map((t,e)=>jsx(GradientPicker,{selectedColor:new Color(s||r||"#f25022").toHex(),event:"doubleClick",gradient:c||o,onChangeColor:e=>{e=hex2rgbString(e);b(e)},onChangeGradient:w,children:jsx(ColorIcon$1,{color:getGradientBackground(t.colors,t.style),selected:o&&getGradientBackground(o.colors,o.style)||null,onClick:()=>{return e=t,lodashExports.isEqual(e,c)||(l(null),u(null)),void(a&&a(e));var e}})},e))]})]}),jsxs("div",{css:{borderTop:"1px solid rgba(217, 219, 228, 0.6)"},children:[jsx("div",{css:{padding:"8px 0",fontWeight:700},children:"Default Colors"}),jsx("div",{css:{display:"grid",gridGap:12,gridTemplateColumns:`repeat(${defaultColors[0].length},minmax(0,1fr))`},children:defaultColors.map(e=>e.map((e,t)=>jsx(ColorIcon$1,{color:e,selected:r,onClick:()=>y(e)},t)))})]})]})]}))};var ColorSidebar$1=forwardRef(ColorSidebar),TextBBoldIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M177.08 114.46A48 48 0 0 0 140 36H72a12 12 0 0 0-12 12v152a12 12 0 0 0 12 12h80a52 52 0 0 0 25.08-97.54ZM84 60h56a24 24 0 0 1 0 48H84Zm68 128H84v-56h68a28 28 0 0 1 0 56Z"})}))},ListBulletsIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M80 64a8 8 0 0 1 8-8h128a8 8 0 0 1 0 16H88a8 8 0 0 1-8-8Zm136 56H88a8 8 0 0 0 0 16h128a8 8 0 0 0 0-16Zm0 64H88a8 8 0 0 0 0 16h128a8 8 0 0 0 0-16ZM44 52a12 12 0 1 0 12 12 12 12 0 0 0-12-12Zm0 64a12 12 0 1 0 12 12 12 12 0 0 0-12-12Zm0 64a12 12 0 1 0 12 12 12 12 0 0 0-12-12Z"})}))},ListNumbersIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M224 128a8 8 0 0 1-8 8H104a8 8 0 0 1 0-16h112a8 8 0 0 1 8 8ZM104 72h112a8 8 0 0 0 0-16H104a8 8 0 0 0 0 16Zm112 112H104a8 8 0 0 0 0 16h112a8 8 0 0 0 0-16ZM43.58 55.16 48 52.94V104a8 8 0 0 0 16 0V40a8 8 0 0 0-11.58-7.16l-16 8a8 8 0 0 0 7.16 14.32Zm36.19 101.56a23.73 23.73 0 0 0-9.6-15.95 24.86 24.86 0 0 0-34.11 4.7 23.63 23.63 0 0 0-3.57 6.46 8 8 0 1 0 15 5.47 7.84 7.84 0 0 1 1.18-2.13 8.76 8.76 0 0 1 12-1.59 7.91 7.91 0 0 1 3.26 5.32 7.64 7.64 0 0 1-1.57 5.78 1 1 0 0 0-.08.11l-28.69 38.32A8 8 0 0 0 40 216h32a8 8 0 0 0 0-16H56l19.08-25.53a23.47 23.47 0 0 0 4.69-17.75Z"})}))},TextAaIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M87.24 52.59a8 8 0 0 0-14.48 0l-64 136a8 8 0 1 0 14.48 6.81L39.9 160h80.2l16.66 35.4a8 8 0 1 0 14.48-6.81ZM47.43 144 80 74.79 112.57 144ZM200 96c-12.76 0-22.73 3.47-29.63 10.32a8 8 0 0 0 11.26 11.36c3.8-3.77 10-5.68 18.37-5.68 13.23 0 24 9 24 20v3.22a42.76 42.76 0 0 0-24-7.22c-22.06 0-40 16.15-40 36s17.94 36 40 36a42.73 42.73 0 0 0 24-7.25 8 8 0 0 0 16-.75v-60c0-19.85-17.94-36-40-36Zm0 88c-13.23 0-24-9-24-20s10.77-20 24-20 24 9 24 20-10.77 20-24 20Z"})}))},TextAlignCenterIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M32 64a8 8 0 0 1 8-8h176a8 8 0 0 1 0 16H40a8 8 0 0 1-8-8Zm32 32a8 8 0 0 0 0 16h128a8 8 0 0 0 0-16Zm152 40H40a8 8 0 0 0 0 16h176a8 8 0 0 0 0-16Zm-24 40H64a8 8 0 0 0 0 16h128a8 8 0 0 0 0-16Z"})}))},TextAlignJustifyIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M32 64a8 8 0 0 1 8-8h176a8 8 0 0 1 0 16H40a8 8 0 0 1-8-8Zm184 32H40a8 8 0 0 0 0 16h176a8 8 0 0 0 0-16Zm0 40H40a8 8 0 0 0 0 16h176a8 8 0 0 0 0-16Zm0 40H40a8 8 0 0 0 0 16h176a8 8 0 0 0 0-16Z"})}))},TextAlignLeftIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M32 64a8 8 0 0 1 8-8h176a8 8 0 0 1 0 16H40a8 8 0 0 1-8-8Zm8 48h128a8 8 0 0 0 0-16H40a8 8 0 0 0 0 16Zm176 24H40a8 8 0 0 0 0 16h176a8 8 0 0 0 0-16Zm-48 40H40a8 8 0 0 0 0 16h128a8 8 0 0 0 0-16Z"})}))},TextAlignRightIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M32 64a8 8 0 0 1 8-8h176a8 8 0 0 1 0 16H40a8 8 0 0 1-8-8Zm184 32H88a8 8 0 0 0 0 16h128a8 8 0 0 0 0-16Zm0 40H40a8 8 0 0 0 0 16h176a8 8 0 0 0 0-16Zm0 40H88a8 8 0 0 0 0 16h128a8 8 0 0 0 0-16Z"})}))},TextItalicIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M200 56a8 8 0 0 1-8 8h-34.23L115.1 192H144a8 8 0 0 1 0 16H64a8 8 0 0 1 0-16h34.23L140.9 64H112a8 8 0 0 1 0-16h80a8 8 0 0 1 8 8Z"})}))},TextUnderlineIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M200 224a8 8 0 0 1-8 8H64a8 8 0 0 1 0-16h128a8 8 0 0 1 8 8Zm-72-24a64.07 64.07 0 0 0 64-64V56a8 8 0 0 0-16 0v80a48 48 0 0 1-96 0V56a8 8 0 0 0-16 0v80a64.07 64.07 0 0 0 64 64Z"})}))};const SettingButton=(e,t)=>{var{children:n,isActive:r,disabled:o,onClick:i}=e,e=__rest(e,["children","isActive","disabled","onClick"]);return jsx("div",Object.assign({ref:t,css:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:4,height:32,padding:"0 4px",cursor:o?"not-allowed":"pointer",backgroundColor:r?"rgba(57,76,96,.15)":"#fff",color:o?"rgba(36,49,61,.4)":void 0,whiteSpace:"nowrap",":hover":{backgroundColor:o?void 0:"rgba(64,87,109,.07)"}},onClick:e=>!o&&i&&i(e)},e,{children:n}))};var SettingButton$1=forwardRef(SettingButton),MinusIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M224 128a8 8 0 0 1-8 8H40a8 8 0 0 1 0-16h176a8 8 0 0 1 8 8Z"})}))},TextAUnderlineIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M60.59 175.24a8 8 0 0 0 10.65-3.83L87.9 136h80.2l16.66 35.41a8 8 0 1 0 14.48-6.82l-64-136a8 8 0 0 0-14.48 0l-64 136a8 8 0 0 0 3.83 10.65ZM128 50.79 160.57 120H95.43ZM224 216a8 8 0 0 1-8 8H40a8 8 0 0 1 0-16h176a8 8 0 0 1 8 8Z"})}))},KeyboardIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M223.51 48h-191A16.51 16.51 0 0 0 16 64.49v127A16.51 16.51 0 0 0 32.49 208h191A16.51 16.51 0 0 0 240 191.51v-127A16.51 16.51 0 0 0 223.51 48Zm.49 143.51a.49.49 0 0 1-.49.49h-191a.49.49 0 0 1-.49-.49v-127a.49.49 0 0 1 .49-.49h191a.49.49 0 0 1 .49.49ZM208 128a8 8 0 0 1-8 8H56a8 8 0 0 1 0-16h144a8 8 0 0 1 8 8Zm0-32a8 8 0 0 1-8 8H56a8 8 0 0 1 0-16h144a8 8 0 0 1 8 8ZM72 160a8 8 0 0 1-8 8h-8a8 8 0 0 1 0-16h8a8 8 0 0 1 8 8Zm96 0a8 8 0 0 1-8 8H96a8 8 0 0 1 0-16h64a8 8 0 0 1 8 8Zm40 0a8 8 0 0 1-8 8h-8a8 8 0 0 1 0-16h8a8 8 0 0 1 8 8Z"})}))};function getNodeType(e,t){if("string"!=typeof e)return e;if(t.nodes[e])return t.nodes[e];throw Error(`There is no node type named '${e}'!`)}const isNodeActive=(e,t,n={})=>{const{from:r,to:o,empty:i}=e.selection,a=t?getNodeType(t,e.schema):null,s=[];e.doc.nodesBetween(r,o,(e,t)=>{var n;e.isText||(n=Math.max(r,t),t=Math.min(o,t+e.nodeSize),s.push({node:e,from:n,to:t}))});t=o-r,e=s.filter(e=>!a||a.name===e.node.type.name).filter(e=>objectIncludes(e.node.attrs,n));return i?!!e.length:t<=e.reduce((e,t)=>e+t.to-t.from,0)};function getSchemaType(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function isActive(e,t,n={}){var r;return t?"node"===(r=getSchemaType(t,e.schema))?isNodeActive(e,t,n):"mark"===r&&isMarkActive(e,t,n):isNodeActive(e,null,n)||isMarkActive(e,null,n)}const isEmptyContent=e=>{var t=null==(t=e.doc.type.createAndFill())?void 0:t.toJSON(),e=e.doc.toJSON();return JSON.stringify(t)===JSON.stringify(e)},setTextAlign=s=>(e,t)=>{const o=e.tr.setSelection(e.selection);var{selection:e,doc:n}=o;if(!e||!n)return!1;var{from:e,to:r}=e;const i=[],a=["paragraph"];return n.nodesBetween(e,r,(e,t)=>{var n=e.type;return(e.attrs.align||null)!==s&&a.includes(n.name)&&i.push({node:e,pos:t,nodeType:n}),!0}),!!i.length&&(i.forEach(e=>{var{node:e,pos:t,nodeType:n}=e;let r=e["attrs"];r=s?Object.assign(Object.assign({},r),{textAlign:s}):Object.assign(Object.assign({},r),{textAlign:null}),o.setNodeMarkup(t,n,r,e.marks)}),!!t)&&(t(o),!0)},setFontFamily=s=>(e,t)=>{const o=e.tr.setSelection(e.selection);var{selection:e,doc:n}=o;if(!e||!n)return!1;var{from:e,to:r}=e;const i=[],a=["paragraph"];return n.nodesBetween(e,r,(e,t)=>{var n=e.type;return a.includes(n.name)&&i.push({node:e,pos:t,nodeType:n}),!0}),!!i.length&&(i.forEach(e=>{var{node:e,pos:t,nodeType:n}=e,r=e["attrs"],r=Object.assign(Object.assign({},r),{fontFamily:s});o.setNodeMarkup(t,n,r,e.marks)}),!!t)&&(t(o),!0)},setFontSize=s=>(e,t)=>{const o=e.tr.setSelection(e.selection);var{selection:e,doc:n}=o;if(!e||!n)return!1;var{from:e,to:r}=e;const i=[],a=["paragraph"];return n.nodesBetween(e,r,(e,t)=>{var n=e.type;return a.includes(n.name)&&i.push({node:e,pos:t,nodeType:n}),!0}),!!i.length&&(i.forEach(e=>{var{node:e,pos:t,nodeType:n}=e,r=e["attrs"],r=Object.assign(Object.assign({},r),{fontSize:s+"px"});o.setNodeMarkup(t,n,r,e.marks)}),!!t)&&(t(o),!0)},toggleUnderline=(...e)=>toggleMark("underline")(...e),unsetUnderline=(...e)=>unsetMark("underline")(...e),setUnderline=(...e)=>setMark("underline")(...e),setTextTransform=s=>(e,t)=>{const o=e.tr.setSelection(e.selection);var{selection:e,doc:n}=o;if(!e||!n)return!1;var{from:e,to:r}=e;const i=[],a=new Set(["list_item","paragraph"]);return n.nodesBetween(e,r,(e,t)=>{var n=e.type;return a.has(n.name)&&i.push({node:e,pos:t,nodeType:n}),!0}),!!i.length&&(i.forEach(e=>{var{node:e,pos:t,nodeType:n}=e,r=e["attrs"],r=Object.assign(Object.assign({},r),{textTransform:null!=s?s:null});o.setNodeMarkup(t,n,r,e.marks)}),!!t)&&(t(o),!0)},setBulletList=s=>(e,t)=>{const o=e.tr.setSelection(e.selection);var{selection:e,doc:n}=o;if(!e||!n)return!1;var{from:e,to:r}=e;const i=[],a=["paragraph"];return n.nodesBetween(e,r,(e,t)=>{var n=e.type;return a.includes(n.name)&&i.push({node:e,pos:t,nodeType:n}),!0}),!!i.length&&(i.forEach(e=>{var{node:e,pos:t,nodeType:n}=e,r=e["attrs"],r=Object.assign(Object.assign({},r),{indent:s,listType:""});o.setNodeMarkup(t,n,r,e.marks)}),!!t)&&(t(o),!0)},setOrderedList=s=>(e,t)=>{const o=e.tr.setSelection(e.selection);var{selection:e,doc:n}=o;if(!e||!n)return!1;var{from:e,to:r}=e;const i=[],a=new Set(["list_item","paragraph"]);return n.nodesBetween(e,r,(e,t)=>{var n=e.type;return a.has(n.name)&&i.push({node:e,pos:t,nodeType:n}),!0}),!!i.length&&(i.forEach(e=>{var{node:e,pos:t,nodeType:n}=e,r=e["attrs"],r=Object.assign(Object.assign({},r),{indent:s,listType:"ordered"});o.setNodeMarkup(t,n,r,e.marks)}),!!t)&&(t(o),!0)},setColor=r=>(e,t,n)=>(setMark("color",{color:r})(e,t,n),!0),setColorForBlock=i=>(e,t)=>{const o=e.tr.setSelection(e.selection);var{$from:n,$to:r}=o.selection,n=n.blockRange(r);return!(!n||!t||(e.doc.nodesBetween(n.start,n.end,(e,t)=>{var n,r;e.isBlock&&(n=e.type,r=Object.assign(Object.assign({},e.attrs),{color:i}),o.setNodeMarkup(t,n,r,e.marks))}),t(o),0))};var LineSpacingIcon=function(e){return jsx$1("svg",_extends$1({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e,{children:jsx$1("path",{d:"M21 12c0 .4-.3.8-.7.8h-9.7c-.4 0-.7-.3-.7-.8 0-.4.3-.8.7-.8h9.7c.4 0 .7.4.7.8zM10.6 6.8h9.7c.4 0 .7-.4.7-.8s-.3-.8-.7-.8h-9.7c-.4 0-.7.3-.7.8 0 .4.4.8.7.8zM20.3 17.2h-9.7c-.4 0-.7.3-.7.8s.3.8.7.8h9.7c.4 0 .7-.3.7-.8s-.3-.8-.7-.8zM8.4 17.2c.3.2.3.6 0 .9l-3 2.5c-.3.2-.8.2-1.1 0l-3-2.5c-.3-.2-.3-.6 0-.9.3-.2.8-.2 1.1 0l1.7 1.4V5.3L2.4 6.8c-.3.2-.8.2-1.1 0-.3-.3-.3-.7 0-.9l3-2.5c.3-.2.8-.2 1.1 0l3 2.5c.3.2.3.6 0 .9-.3.2-.8.2-1.1 0L5.6 5.3v13.3l1.7-1.4c.3-.2.8-.2 1.1 0z"})}))};const setLetterSpacing=s=>(e,t)=>{const o=e.tr.setSelection(e.selection);var{selection:e,doc:n}=o;if(!e||!n)return!1;var{from:e,to:r}=e;const i=[],a=["paragraph"];return n.nodesBetween(e,r,(e,t)=>{var n=e.type;return a.includes(n.name)&&i.push({node:e,pos:t,nodeType:n}),!0}),!!i.length&&(i.forEach(e=>{var{node:e,pos:t,nodeType:n}=e,r=e["attrs"],r=Object.assign(Object.assign({},r),{letterSpacing:s});o.setNodeMarkup(t,n,r,e.marks)}),!!t)&&(t(o),!0)},setLineHeight=s=>(e,t)=>{const o=e.tr.setSelection(e.selection);var{selection:e,doc:n}=o;if(!e||!n)return!1;var{from:e,to:r}=e;const i=[],a=["paragraph"];return n.nodesBetween(e,r,(e,t)=>{var n=e.type;return a.includes(n.name)&&i.push({node:e,pos:t,nodeType:n}),!0}),!!i.length&&(i.forEach(e=>{var{node:e,pos:t,nodeType:n}=e,r=e["attrs"],r=Object.assign(Object.assign({},r),{lineHeight:s});o.setNodeMarkup(t,n,r,e.marks)}),!!t)&&(t(o),!0)},selectNode=o=>(e,t)=>{var e=e.tr,n=e["doc"],r=Math.max(0,Math.min(n.content.size,o)),n=NodeSelection.create(n,r);return e.setSelection(n),!!t&&(t(e),!0)},fontSizeList=[6,8,10,12,14,16,18,21,24,28,32,36,42,48,56,64,72,80,88,96,104,120,144],TextSettings=({layers:a})=>{var e=useRef(null);const r=useRef(null);var t=useRef(null);const[n,o]=useState(!1),{selectedLayers:c,selectedLayerIds:i}=useSelectedLayers(),[L,s]=useState(!1),l=useUsedFont()["usedFonts"],[u,d]=useState(()=>{const t={fontFamily:{},fontSize:{},color:{},isBold:!0,isItalic:!0,isUnderline:!0,isUppercase:!0,isBulletList:!0,isOrderedList:!0,lineHeight:{},letterSpacing:{}};return a.forEach(e=>{t.fontFamily[e.id]=e.data.props.fonts,t.fontSize[e.id]=e.data.props.fontSizes,t.color[e.id]=e.data.props.colors;e=e.data.editor;e&&(isActive(e.state,"bold")||(t.isBold=!1),isActive(e.state,"italic")||(t.isItalic=!1),isActive(e.state,"underline")||(t.isUnderline=!1),isActive(e.state,null,{indent:1,listType:""})||(t.isBulletList=!1),isActive(e.state,null,{indent:1,listType:"ordered"})||(t.isOrderedList=!1),isActive(e.state,null,{textTransform:"uppercase"})||(t.isUppercase=!1),isActive(e.state,null,{textTransform:"uppercase"})||(t.isUppercase=!1))}),t}),{isBold:p,isItalic:f,isUnderline:h,isUppercase:m,isBulletList:j,isOrderedList:A}=u,g=__rest(u,["isBold","isItalic","isUnderline","isUppercase","isBulletList","isOrderedList"]),{actions:v,activePage:y,textEditor:b,editingLayer:w,sidebar:x,fontList:S}=useEditor(e=>({activePage:e.activePage,sidebar:e.sidebar,fontList:e.fontList,textEditor:e.textEditor,editingLayer:e.textEditor?e.pages[e.textEditor.pageIndex].layers[e.textEditor.layerId]:null})),{fontFamily:k,fontSize:C,color:E,lineHeight:F,letterSpacing:$}=(useEffect(()=>{const r={fontFamily:{},fontSize:{},color:{},isBold:!0,isItalic:!0,isUnderline:!0,isUppercase:!0,isBulletList:!0,isOrderedList:!0,lineHeight:{},letterSpacing:{}};o(!1),s(!1),c.forEach(e=>{var t,n=e.data.editor;n&&(t=getAllAttrs(n.state.doc),r.fontFamily[e.id]=lodashExports.uniqBy(getFontFamily(t).map(e=>({name:e,fonts:_[e]||T[e]})),"name"),r.fontSize[e.id]=getFontSize(t),r.lineHeight[e.id]=getLineHeight(t),r.letterSpacing[e.id]=getLetterSpacing(t),r.color[e.id]=getColor(t,getAllMarks(n.state.doc)),isActive(n.state,"bold")||(r.isBold=!1),isActive(n.state,"italic")||(r.isItalic=!1),isActive(n.state,"underline")||(r.isUnderline=!1),isActive(n.state,"bulletList")||(r.isBulletList=!1),isActive(n.state,"orderedList")||(r.isOrderedList=!1),isActive(n.state,null,{textTransform:"uppercase"})||(r.isUppercase=!1),d(r))})},[JSON.stringify(i)]),useMemo(()=>a.reduce((e,t)=>{if(g.fontFamily[t.id]){const n=t.data.props;e.fontFamily.push(...g.fontFamily[t.id]),e.fontFamily=lodashExports.uniqBy(e.fontFamily,"name"),g.fontSize[t.id]&&(e.fontSize=lodashExports.uniq(e.fontSize.concat(g.fontSize[t.id].map(e=>Math.round(e*n.scale*10)/10)))),e.color=lodashExports.uniq(e.color.concat(g.color[t.id])),e.lineHeight=lodashExports.uniq(e.lineHeight.concat(g.lineHeight[t.id])),e.letterSpacing=lodashExports.uniq(e.letterSpacing.concat(g.letterSpacing[t.id]))}return e},{fontSize:[],fontFamily:[],color:[],lineHeight:[],letterSpacing:[]}),[g,c])),T=(useEffect(()=>{r.current&&(1===C.length?r.current.value=C[0]+"":r.current.value="--")},[C]),useMemo(()=>S.reduce((e,t)=>(e[t.name]=t.fonts,e),{}),[S])),_=useMemo(()=>l.reduce((e,t)=>(e[t.name]=t.fonts,e),{}),[l]),R=useCallback(s=>{const l={fontFamily:{},fontSize:{},color:{},isBold:!0,isItalic:!0,isUnderline:!0,isUppercase:!0,isBulletList:!0,isOrderedList:!0,lineHeight:{},letterSpacing:{}};if(w){l.fontFamily[w.id]=[],l.fontSize[w.id]=[],l.color[w.id]=[],l.lineHeight[w.id]=[],l.letterSpacing[w.id]=[];const i=null===b||void 0===b?void 0:b.editor;if(i){null!=(e=w.data.editor)&&e.updateState(i.state);var e=w.data.props,t=(isEmptyContent(i.state)&&(setColorForBlock(e.colors[0])(i.state,i.dispatch),setFontSize(e.fontSizes[0])(i.state,i.dispatch),setFontFamily(e.fonts[0].name)(i.state,i.dispatch),i.focus()),new WebKitCSSMatrix(getTransformStyle({position:w.data.props.position,rotate:w.data.props.rotate}))),n=visualCorners(w.data.props.boxSize,t,w.data.props.position),t=visualCorners({width:w.data.props.boxSize.width,height:i.dom.clientHeight*w.data.props.scale},t,w.data.props.position),{changeX:n,changeY:t}=getPositionChangesBetweenTwoCorners(n,t,"bottomRight");i.state.selection.empty&&(o=(i.state.storedMarks||i.state.selection.$from.marks()).reduce((n,e)=>(Object.entries(e.attrs).forEach(([e,t])=>{n[e]||(n[e]=[]),n[e].push(t)}),n),{}),l.color[w.id]=lodashExports.uniq(getColor({},o)));let r=null;i.state.doc.nodesBetween(i.state.selection.ranges[0].$from.pos,i.state.selection.ranges[0].$to.pos,t=>{var e,n=getAttrs(t);if(t.isBlock&&(e=getFontFamily(n).map(e=>({name:e,fonts:_[e]||T[e]})),l.fontFamily[w.id].push(...e),l.fontFamily[w.id]=lodashExports.uniqBy(l.fontFamily[w.id],"name"),l.fontSize[w.id]=lodashExports.uniq(l.fontSize[w.id].concat(getFontSize(n))),l.lineHeight[w.id]=lodashExports.uniq(l.lineHeight[w.id].concat(getLineHeight(n))),l.letterSpacing[w.id]=lodashExports.uniq(l.letterSpacing[w.id].concat(getLetterSpacing(n))),r=getColor(n,getMarkAttrs(t))),t.isText&&!i.state.selection.empty){let e=getColor(n,getMarkAttrs(t));0===e.length&&r&&(e=r),l.color[w.id]=lodashExports.uniq(l.color[w.id].concat(e)),r=null}}),isActive(i.state,"bold")||(l.isBold=!1),isActive(i.state,"italic")||(l.isItalic=!1),isActive(i.state,"underline")||(l.isUnderline=!1),isActive(i.state,null,{indent:1,listType:""})||(l.isBulletList=!1),isActive(i.state,null,{indent:1,listType:"ordered"})||(l.isOrderedList=!1),isActive(i.state,null,{textTransform:"uppercase"})||(l.isUppercase=!1),d(l),"content"===s&&(o=getAllAttrs(i.state.doc),v.history.merge().setProp(y,w.id,{text:i.dom.innerHTML,fontSizes:getFontSize(o),fonts:lodashExports.uniqBy(getFontFamily(o).map(e=>({name:e,fonts:_[e]||T[e]})),"name"),colors:getColor(o,getAllMarks(i.state.doc)),boxSize:{width:e.boxSize.width,height:i.dom.clientHeight*e.scale},position:{x:e.position.x-n,y:e.position.y-t}}),v.setControlBox({boxSize:{width:e.boxSize.width,height:i.dom.clientHeight*e.scale},position:{x:e.position.x-n,y:e.position.y-t},scale:e.scale,rotate:e.rotate}))}}else{var o=c.reduce((e,t)=>{var n,r,o,i,a=t.data.editor;return a?(r=t.data.props,n=getAllAttrs(a.state.doc),l.fontFamily[t.id]=lodashExports.uniqBy(getFontFamily(n).map(e=>({name:e,fonts:_[e]||T[e]})),"name"),l.fontSize[t.id]=getFontSize(n),l.lineHeight[t.id]=getLineHeight(n),l.letterSpacing[t.id]=getLetterSpacing(n),l.color[t.id]=getColor(n,getAllMarks(a.state.doc)),isActive(a.state,"bold")||(l.isBold=!1),isActive(a.state,"italic")||(l.isItalic=!1),isActive(a.state,"underline")||(l.isUnderline=!1),isActive(a.state,"bulletList")||(l.isBulletList=!1),isActive(a.state,"orderedList")||(l.isOrderedList=!1),isActive(a.state,null,{textTransform:"uppercase"})||(l.isUppercase=!1),"content"===s&&(n=lodashExports.isEqual(r.fontSizes,l.fontSize[t.id])?r.scale:1,r=((r=document.createElement("div")).append(a.dom),getVirtualDomHeight(r,t.data.props.boxSize.width,n))["clientHeight"],i=new WebKitCSSMatrix(getTransformStyle({position:t.data.props.position,rotate:t.data.props.rotate})),o=visualCorners(t.data.props.boxSize,i,t.data.props.position),i=visualCorners({width:t.data.props.boxSize.width,height:r},i,t.data.props.position),{changeX:o,changeY:i}=getPositionChangesBetweenTwoCorners(o,i,"bottomRight"),v.history.merge().setProp(y,t.id,{text:a.dom.innerHTML,fontSizes:l.fontSize[t.id],fonts:l.fontFamily[t.id],colors:l.color[t.id],scale:n,boxSize:{width:t.data.props.boxSize.width,height:r},position:{x:t.data.props.position.x-o,y:t.data.props.position.y-i}}),e[t.id]=Object.assign(Object.assign({},t.data.props),{boxSize:{width:t.data.props.boxSize.width,height:r},position:{x:t.data.props.position.x-o,y:t.data.props.position.y-i}}))):e[t.id]=t.data.props,e},{});d(l),v.setControlBox(getControlBoxSizeFromLayers(o))}},[JSON.stringify(c.map(e=>({id:e.id,boxSize:e.data.props.boxSize,position:e.data.props.position,rotate:e.data.props.rotate,scale:e.data.props.scale}))),w,null===b||void 0===b?void 0:b.editor,v,T]),O=useCallback(()=>{R("selection")},[R]),I=useCallback(()=>{R("content")},[R]),M=(useEffect(()=>{var e;return null!=(e=null===b||void 0===b?void 0:b.editor)&&e.events.on("selectionUpdate",O),null!=(e=null===b||void 0===b?void 0:b.editor)&&e.events.on("update",I),()=>{var e;null!=(e=null===b||void 0===b?void 0:b.editor)&&e.events.off("selectionUpdate",O),null!=(e=null===b||void 0===b?void 0:b.editor)&&e.events.off("update",I)}},[null===b||void 0===b?void 0:b.editor,R]),useEffect(()=>(a.forEach(e=>{null!=(e=e.data.editor)&&e.events.on("update",I)}),()=>{a.forEach(e=>{null!=(e=e.data.editor)&&e.events.off("update",I)})}),[JSON.stringify(a.map(e=>e.id)),R]),useCallback(e=>{const r=["Bold","Bold_Italic","Italic"];return e.forEach(n=>{r.forEach((t,e)=>{n.fonts.find(e=>e.style===t)||r.splice(e,1)})}),r},[]));const D=i=>{a.forEach(r=>{const o=r.data.editor;var e;o&&(e=o.state.doc,o.state.doc.nodesBetween(0,e.content.size,(e,t)=>{var n;e.isBlock&&(e=getAllAttrs(e),0<(e=getFontSize(e)).length)&&(n=r.data.props.scale||1,selectNode(t)(o.state,o.dispatch),setFontSize(Math.round(1e3*(e[0]*n+i))/1e3)(o.state,o.dispatch))}))})},N=e=>{v.history.new();const t=Math.max(Math.min(800,e),8);var n,r,o;w?(e=null===b||void 0===b?void 0:b.editor)&&((n=setFontSize(Math.round(t/w.data.props.scale*1e3)/1e3))(e.state,e.dispatch),e.focus(),w.data.editor)&&(r=w.data.editor,{$from:e,$to:o}=e.state.selection,selectText({from:e.pos,to:o.pos})(r.state,r.dispatch),n(r.state,r.dispatch)):a.forEach(e=>{e=e.data.editor;e&&(selectAll(e.state,e.dispatch),setFontSize(t)(e.state,e.dispatch))}),s(!1)};var B=useMemo(()=>{if(!E)return{};if(1===E.length&&100===new Color(E[0]).white())return{backgroundImage:"linear-gradient(to right, rgb(255, 0, 0) 0%, rgb(255, 255, 0) 17%, rgb(0, 255, 0) 33%, rgb(0, 255, 255) 50%, rgb(0, 0, 255) 67%, rgb(255, 0, 255) 83%, rgb(255, 0, 0) 100%)"};const n=100/E.length;return{backgroundImage:E.map(e=>`linear-gradient(to right, ${e}, ${e})`).join(", "),backgroundSize:E.map((e,t)=>n*(t+1)+"%").join(", "),boxShadow:"inset 0 0 0 1px rgba(57,76,96,.15)"}},[E]),V=lodashExports.throttle(r=>{var e,t,n,o;r&&(w?(n=null===b||void 0===b?void 0:b.editor)&&((e=setColor(r))(n.state,n.dispatch),n.focus(),w.data.editor)&&(t=w.data.editor,{$from:n,$to:o}=n.state.selection,selectText({from:n.pos,to:o.pos})(t.state,t.dispatch),e(t.state,t.dispatch)):a.forEach(e=>{var t,n=e.data.editor;n&&(t=getAllAttrs(n.state.doc),selectAll(n.state,n.dispatch),setColor(r)(n.state,n.dispatch),setColorForBlock(r)(n.state,n.dispatch),v.history.throttle(2e3).setProp(y,e.id,{colors:getColor(t,getAllMarks(n.state.doc))}))}))},16);const P=t=>{if(v.history.new(),w){var e,n,r,o=null===b||void 0===b?void 0:b.editor;if(o)if("BOLD"===t){const i=w.data.props.fonts.reduce((e,t)=>(e[t.name]=t.fonts,e),{});let t=!0;o.state.doc.nodesBetween(o.state.selection.ranges[0].$from.pos,o.state.selection.ranges[0].$to.pos,e=>{e=getAllAttrs(e);getFontFamily(e).every(e=>i[e]&&i[e].find(e=>"Bold"===e.style))||(t=!1)}),t&&(toggleBold(o.state,o.dispatch),o.focus(),w.data.editor)&&(e=w.data.editor,{$from:n,$to:r}=o.state.selection,selectText({from:n.pos,to:r.pos})(e.state,e.dispatch),toggleBold(e.state,e.dispatch))}else"ITALIC"===t?(toggleItalic(o.state,o.dispatch),o.focus(),w.data.editor&&(n=w.data.editor,{$from:r,$to:e}=o.state.selection,selectText({from:r.pos,to:e.pos})(n.state,n.dispatch),toggleItalic(n.state,n.dispatch))):"UNDERLINE"===t?(toggleUnderline(o.state,o.dispatch),o.focus(),w.data.editor&&(r=w.data.editor,{$from:e,$to:n}=o.state.selection,selectText({from:e.pos,to:n.pos})(r.state,r.dispatch),toggleUnderline(r.state,r.dispatch))):"UPPERCASE"===t&&((e=setTextTransform(isActive(o.state,null,{textTransform:"uppercase"})?void 0:"uppercase"))(o.state,o.dispatch),o.focus(),w.data.editor)&&(n=w.data.editor,{$from:r,$to:o}=o.state.selection,selectText({from:r.pos,to:o.pos})(n.state,n.dispatch),e(n.state,n.dispatch))}else a.forEach(e=>{e=e.data.editor;e&&(selectAll(e.state,e.dispatch),"BOLD"===t?(p?unsetBold:setBold)(e.state,e.dispatch):"ITALIC"===t?(f?unsetItalic:setItalic)(e.state,e.dispatch):"UNDERLINE"===t?(h?unsetUnderline:setUnderline)(e.state,e.dispatch):"UPPERCASE"===t&&(m?setTextTransform():setTextTransform("uppercase"))(e.state,e.dispatch))})},z=t=>{v.history.new();var e,n,r=null===b||void 0===b?void 0:b.editor;w&&r?(setTextAlign(t)(r.state,r.dispatch),r.focus(),w.data.editor&&(e=w.data.editor,{$from:r,$to:n}=r.state.selection,selectText({from:r.pos,to:n.pos})(e.state,e.dispatch),setTextAlign(t)(e.state,e.dispatch))):a.forEach(e=>{e=e.data.editor;e&&(selectAll(e.state,e.dispatch),setTextAlign(t)(e.state,e.dispatch))})};return jsxs(Fragment$1,{children:[1===a.length&&jsx(SettingButton$1,{css:{display:"none","@media (max-width: 900px)":{fontSize:24,display:"flex"}},onClick:()=>{v.openTextEditor(y,a[0].id)},children:jsx(KeyboardIcon,{})}),jsx("div",{children:jsxs("div",{css:{border:"1px solid rgba(43,59,74,.3)",height:32,padding:"0 2px",borderRadius:4,display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",background:"FONT_FAMILY"===x?"rgba(57,76,96,.15)":"#fff"},onClick:()=>v.setSidebar("FONT_FAMILY"),children:[jsx("div",{css:{padding:4,textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:14},children:1===k.length?k[0].name:"Multiple Fonts"}),jsx("div",{css:{width:24,height:24,display:"flex",justifyContent:"center",alignItems:"center",fontSize:16},children:jsx(CaretDownIcon,{})})]})}),jsx("div",{children:jsxs("div",{css:{border:"1px solid rgba(43,59,74,.3)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[jsx("div",{css:{width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:12},onClick:()=>{if(v.history.new(),w){const o=null===b||void 0===b?void 0:b.editor;var e;o&&(e={from:o.state.selection.ranges[0].$from.pos,to:o.state.selection.ranges[0].$to.pos},o.state.doc.nodesBetween(e.from,e.to,(e,t)=>{var n,r;e.isBlock&&(e=getAllAttrs(e),[e]=getFontSize(e),n=w.data.props.scale,selectNode(t)(o.state,o.dispatch),setFontSize(Math.round(1e3*(e-1/n))/1e3)(o.state,o.dispatch),r=w.data.editor)&&(selectNode(t)(r.state,r.dispatch),setFontSize(Math.round(1e3*(e-1/n))/1e3)(r.state,r.dispatch))}),selectText(e)(o.state,o.dispatch),o.focus())}else D(-1)},children:jsx(MinusIcon,{})}),jsx("div",{ref:e,css:{width:32,height:32,borderLeft:"1px solid rgba(43,59,74,.3)",borderRight:"1px solid rgba(43,59,74,.3)"},onClick:()=>s(!0),children:jsx("input",{ref:r,css:{width:28,height:"100%",outline:0,border:0,textAlign:"center"},onBlur:()=>{var e=r.current.value;"--"!==e&&e!==C[0]+""&&r.current&&N(+parseFloat(e).toFixed(1))},onKeyDown:e=>{var t=r.current,n=t.value;"enter"===e.key.toLowerCase()?(r.current&&N(+parseFloat(n).toFixed(1)),t.blur()):e.key.match(/^[0-9]|./)||e.preventDefault()},onClick:()=>{var e;return null==(e=r.current)?void 0:e.select()}})}),jsx(Popover$1,{open:L,anchorEl:r.current,placement:"bottom",onClose:()=>s(!1),children:jsx("div",{css:{maxHeight:"50vh",overflowY:"auto"},children:fontSizeList.map(e=>jsxs("div",{css:{height:40,minWidth:120,padding:"0 8px",display:"flex",alignItems:"center",cursor:"pointer",":hover":{backgroundColor:"rgba(64,87,109,.07)"}},onClick:()=>N(e),children:[jsx("div",{css:{flexGrow:1},children:e}),C.includes(e)&&jsx("div",{css:{fontSize:24,flexShrink:0},children:jsx(CheckIcon,{})})]},e))})}),jsx("div",{css:{width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:12},onClick:()=>{if(v.history.new(),w){const o=null===b||void 0===b?void 0:b.editor;var e;o&&(e={from:o.state.selection.ranges[0].$from.pos,to:o.state.selection.ranges[0].$to.pos},o.state.doc.nodesBetween(e.from,e.to,(e,t)=>{var n,r;e.isBlock&&(e=getAllAttrs(e),[e]=getFontSize(e),n=w.data.props.scale,selectNode(t)(o.state,o.dispatch),setFontSize(Math.round(1e3*(e+1/n))/1e3)(o.state,o.dispatch),r=w.data.editor)&&(selectNode(t)(r.state,r.dispatch),setFontSize(Math.round(1e3*(e+1/n))/1e3)(r.state,r.dispatch))}),selectText(e)(o.state,o.dispatch),o.focus())}else D(1)},children:jsx(PlusIcon,{})})]})}),jsxs("div",{css:{position:"relative",display:"flex",justifyContent:"center",fontSize:24},onClick:()=>v.setSidebar("CHOOSING_COLOR"),children:[jsx(TextAUnderlineIcon,{}),jsx("div",{css:{bottom:1,left:"5%",width:"90%",position:"absolute"},children:jsx("div",{css:{paddingTop:"22.2222%",height:0,position:"relative",width:"100%"},children:jsx("span",{css:Object.assign({borderRadius:4,overflow:"hidden",position:"absolute",inset:0,backgroundRepeat:"no-repeat"},B)})})})]}),jsx(SettingButton$1,{css:{fontSize:24},disabled:!M(k).includes("Bold"),isActive:p,onClick:()=>P("BOLD"),children:jsx(TextBBoldIcon,{})}),jsx(SettingButton$1,{css:{fontSize:24},disabled:!M(k).includes("Italic"),isActive:f,onClick:()=>P("ITALIC"),children:jsx(TextItalicIcon,{})}),jsx(SettingButton$1,{css:{fontSize:24},isActive:h,onClick:()=>P("UNDERLINE"),children:jsx(TextUnderlineIcon,{})}),jsx(SettingButton$1,{css:{fontSize:24},isActive:m,onClick:()=>P("UPPERCASE"),children:jsx(TextAaIcon,{})}),jsx("div",{css:{height:24,width:"1px",background:"rgba(57,76,96,.15)"}}),jsx(SettingButton$1,{css:{fontSize:24},onClick:()=>z("left"),children:jsx(TextAlignLeftIcon,{})}),jsx(SettingButton$1,{css:{fontSize:24},onClick:()=>z("center"),children:jsx(TextAlignCenterIcon,{})}),jsx(SettingButton$1,{css:{fontSize:24},onClick:()=>z("right"),children:jsx(TextAlignRightIcon,{})}),jsx(SettingButton$1,{css:{fontSize:24},onClick:()=>z("justify"),children:jsx(TextAlignJustifyIcon,{})}),jsx("div",{css:{height:24,width:"1px",background:"rgba(57,76,96,.15)"}}),jsx(SettingButton$1,{css:{fontSize:24},isActive:j,onClick:()=>{if(v.history.new(),w){var e,t,n,r=null===b||void 0===b?void 0:b.editor;r&&(e=isActive(r.state,null,{indent:1,listType:""}),setBulletList(e?0:1)(r.state,r.dispatch),r.focus(),w.data.editor)&&(t=w.data.editor,{$from:r,$to:n}=r.state.selection,selectText({from:r.pos,to:n.pos})(t.state,t.dispatch),setBulletList(e?0:1)(t.state,t.dispatch))}else{const o=a.every(e=>{e=e.data.editor;if(e)return selectAll(e.state,e.dispatch),isActive(e.state,null,{indent:1,listType:""})});a.forEach(e=>{e=e.data.editor;e&&setBulletList(o?0:1)(e.state,e.dispatch)})}},children:jsx(ListBulletsIcon,{})}),jsx(SettingButton$1,{css:{fontSize:24},isActive:A,onClick:()=>{if(v.history.new(),w){var e,t,n,r=null===b||void 0===b?void 0:b.editor;r&&(e=isActive(r.state,null,{indent:1,listType:"ordered"}),setOrderedList(e?0:1)(r.state,r.dispatch),r.focus(),w.data.editor)&&(t=w.data.editor,{$from:r,$to:n}=r.state.selection,selectText({from:r.pos,to:n.pos})(t.state,t.dispatch),setOrderedList(e?0:1)(t.state,t.dispatch))}else{const o=a.every(e=>{e=e.data.editor;if(e)return selectAll(e.state,e.dispatch),isActive(e.state,null,{indent:1,listType:"ordered"})});a.forEach(e=>{e=e.data.editor;e&&(selectAll(e.state,e.dispatch),setOrderedList(o?0:1)(e.state,e.dispatch))})}},children:jsx(ListNumbersIcon,{})}),jsx(SettingButton$1,{ref:t,css:{fontSize:24},onClick:()=>o(!0),children:jsx(LineSpacingIcon,{})}),jsx(Popover$1,{open:n,anchorEl:t.current,placement:"bottom-end",onClose:()=>o(!1),offsets:{"bottom-end":{x:0,y:8}},children:jsxs("div",{css:{padding:16,minWidth:220,display:"grid",rowGap:8},children:[jsx(Slider,{label:"Letter spacing",min:-200,max:800,value:1e3*$[0]||0,onChange:e=>{var t,n,r;t=e/1e3,v.history.new(),e=null===b||void 0===b?void 0:b.editor,w&&e?(setLetterSpacing(t)(e.state,e.dispatch),e.focus(),w.data.editor&&(n=w.data.editor,{$from:e,$to:r}=e.state.selection,selectText({from:e.pos,to:r.pos})(n.state,n.dispatch),setLetterSpacing(t)(n.state,n.dispatch))):a.forEach(e=>{e=e.data.editor;e&&(selectAll(e.state,e.dispatch),setLetterSpacing(t)(e.state,e.dispatch))})}}),jsx(Slider,{label:"Line spacing",step:.01,min:.5,max:2.5,value:F[0]||1.4,onChange:t=>{v.history.new();var e,n,r=null===b||void 0===b?void 0:b.editor;w&&r?(setLineHeight(t)(r.state,r.dispatch),r.focus(),w.data.editor&&(e=w.data.editor,{$from:r,$to:n}=r.state.selection,selectText({from:r.pos,to:n.pos})(e.state,e.dispatch),setLineHeight(t)(e.state,e.dispatch))):a.forEach(e=>{e=e.data.editor;e&&(selectAll(e.state,e.dispatch),setLineHeight(t)(e.state,e.dispatch))})}})]})}),jsx("div",{css:{height:24,width:"1px",background:"rgba(57,76,96,.15)"}}),jsx(SettingButton$1,{onClick:()=>v.setSidebar("TEXT_EFFECT"),children:jsx("span",{css:{padding:"0 4px"},children:"Effects"})}),jsx("div",{css:{height:24,width:"1px",background:"rgba(57,76,96,.15)"}}),"FONT_FAMILY"===x&&jsx(FontSidebar$1,{open:!0,selected:k,onChangeFontFamily:n=>{var e,t,r;v.history.new(),w?(r=null===b||void 0===b?void 0:b.editor)&&(setFontFamily(n.name)(r.state,r.dispatch),(e=M([n])).includes("Bold")||unsetBoldOfBlock(r.state,r.dispatch),e.includes("Italic")||unsetItalicOfBlock(r.state,r.dispatch),r.focus(),w.data.editor)&&(e=w.data.editor,{$from:r,$to:t}=r.state.selection,selectText({from:r.pos,to:t.pos})(e.state,e.dispatch),setFontFamily(n.name)(e.state,e.dispatch),(r=M([n])).includes("Bold")||unsetBoldOfBlock(e.state,e.dispatch),r.includes("Italic")||unsetItalicOfBlock(e.state,e.dispatch)):a.forEach(e=>{var t,e=e.data.editor;e&&(selectAll(e.state,e.dispatch),setFontFamily(n.name)(e.state,e.dispatch),(t=M([n])).includes("Bold")||unsetBoldOfBlock(e.state,e.dispatch),t.includes("Italic")||unsetItalicOfBlock(e.state,e.dispatch))})}}),"CHOOSING_COLOR"===x&&jsx(ColorSidebar$1,{open:!0,selected:E[0],onSelect:V}),"TEXT_EFFECT"===x&&jsx(TextEffectSidebar$1,{open:!0})]})};var DotsSixVerticalBoldIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M108 60a16 16 0 1 1-16-16 16 16 0 0 1 16 16Zm56 16a16 16 0 1 0-16-16 16 16 0 0 0 16 16Zm-72 36a16 16 0 1 0 16 16 16 16 0 0 0-16-16Zm72 0a16 16 0 1 0 16 16 16 16 0 0 0-16-16Zm-72 68a16 16 0 1 0 16 16 16 16 0 0 0-16-16Zm72 0a16 16 0 1 0 16 16 16 16 0 0 0-16-16Z"})}))};const WIDTH=231,HEIGHT=36,ReverseTransformLayer=({layer:o,hiddenChild:e})=>{const t=useMemo(()=>{var e={width:WIDTH,height:HEIGHT,scale:1},t=e.width/e.height,n=o.data.props,n=boundingRect(n.boxSize,n.position,n.rotate),r=n.width/n.height;return r<t?(e.height=HEIGHT,e.width=e.height*r,e.scale=e.height/n.height):(e.width=WIDTH,e.height=e.width/r,e.scale=e.width/n.width),e},[o]);var n=useMemo(()=>{var e=o.data.props;return 0===e.rotate?{x:-e.position.x*t.scale,y:-e.position.y*t.scale}:{x:-(e=boundingRect(e.boxSize,e.position,e.rotate)).x*t.scale,y:-e.y*t.scale}},[o,t]);return jsx("div",{css:{width:WIDTH,height:HEIGHT,display:"flex",alignItems:"center",justifyContent:"center"},children:jsx("div",{css:{width:t.width,height:t.height},children:jsx("div",{css:{transform:getTransformStyle({position:n})},children:jsx("div",{css:{transformOrigin:"0px 0px",transform:`scale(${t.scale})`},children:e?createElement(o.data.comp,o.data.props,null):jsx(LayerProvider,{id:o.id,children:jsx(RenderLayer$1,{})})})})})})},LayerSidebar=(e,t)=>{e=__rest(e,[]);const n=useRef({isMultipleSelect:!1}),r=useSelectedLayers()["selectedLayerIds"],{layers:o,actions:i,activePage:a}=useEditor(e=>({layers:e.pages[e.activePage]&&e.pages[e.activePage].layers,activePage:e.activePage}));var s=useMemo(()=>{if(o)return reverse$1(o.ROOT.data.child.map(e=>o[e]))},[o]);const l=useMemo(()=>{if(o)return o.ROOT},[o]),c=e=>{i.showContextMenu(getPosition(e.nativeEvent))};return useEffect(()=>{const e=e=>{n.current.isMultipleSelect=e.shiftKey};return window.addEventListener("keydown",e),window.addEventListener("keyup",e),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",e)}},[]),jsx(Sidebar$1,Object.assign({},e,{children:jsx(PageContext.Provider,{value:{pageIndex:a},children:jsxs("div",{css:{width:"100%",height:"100%",display:"flex",flexDirection:"column",overflowY:"auto"},children:[jsxs("div",{css:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,height:48,borderBottom:"1px solid rgba(57,76,96,.15)",padding:"0 20px"},children:[jsx("p",{css:{lineHeight:"48px",fontWeight:600,color:"#181C32",flexGrow:1},children:"Layers"}),jsx("div",{css:{fontSize:20,flexShrink:0,width:32,height:32,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>{i.setSidebar()},children:jsx(XIcon,{})})]}),jsx("div",{ref:t,css:{flexGrow:1,overflowY:"auto"},children:jsxs("div",{css:{display:"grid",gridTemplateColumns:"minmax(0,1fr)",gridRowGap:8,padding:16},children:[(s||[]).map(e=>jsxs("div",{css:{background:"#F6F6F6",borderRadius:8,padding:8,cursor:"pointer",position:"relative",borderWidth:2,borderStyle:"solid",borderColor:r.includes(e.id)?"#3d8eff":"transparent"},onMouseDown:()=>{i.selectLayers(a,e.id,n.current.isMultipleSelect?"add":"replace")},children:[jsxs("div",{css:{display:"flex",alignItems:"center"},children:[jsx("div",{css:{fontSize:24,width:40,height:40,display:"flex",justifyContent:"center",alignItems:"center",flexShrink:0},children:jsx(DotsSixVerticalBoldIcon,{})}),jsx("div",{css:{minWidth:0,flexGrow:1},children:jsx(ReverseTransformLayer,{layer:e})}),isGroupLayer(e)&&jsx("div",{css:{flexShrink:0,fontSize:24},children:jsx(BoundingBoxIcon,{})})]}),jsx("div",{css:{position:"absolute",right:4,top:4,background:"#5E6278",borderRadius:8,color:"#fff",padding:"0 6px"},onClick:c,children:jsx(DotsThreeBoldIcon,{})})]},e.id)),l&&jsx("div",{css:{background:"#F6F6F6",borderRadius:8,padding:8,cursor:"pointer",position:"relative",borderWidth:2,borderStyle:"solid",borderColor:r.includes(l.id)?"#3d8eff":"transparent"},onMouseDown:()=>{i.selectLayers(a,l.id,n.current.isMultipleSelect?"add":"replace")},children:jsxs("div",{css:{display:"flex",alignItems:"center"},children:[jsx("div",{css:{width:40,height:40,display:"flex",justifyContent:"center",alignItems:"center",flexShrink:0}}),jsx("div",{css:{minWidth:0,flexGrow:1},children:jsx(ReverseTransformLayer,{layer:l,hiddenChild:!0})}),jsx("div",{css:{flexShrink:0,fontSize:24},children:jsx(SelectionBackgroundIcon,{})})]})})]})})]})})}))};var LayerSidebar$1=forwardRef(LayerSidebar),TransparencyIcon=function(e){return jsxs$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 15 15",width:"1em",height:"1em"},e,{children:[jsx$1("path",{d:"M0 0h3v3H0zM0 6h3v3H0zM0 12h3v3H0z"}),jsx$1("path",{opacity:.75,d:"M3 9h3v3H3zM3 3h3v3H3z"}),jsx$1("path",{opacity:.5,d:"M6 0h3v3H6zM6 6h3v3H6zM6 12h3v3H6z"}),jsx$1("path",{opacity:.35,d:"M9 3h3v3H9zM9 9h3v3H9z"}),jsx$1("path",{opacity:.15,d:"M12 12h3v3h-3zM12 6h3v3h-3zM12 0h3v3h-3z"})]}))};const CommonSettings=()=>{var e=useRef(null),t=useRef(null);const r=useRef(null),o=useRef(null),[n,i]=useState(!1),[a,s]=useState(!1),[l,c]=useState(!1),{selectedLayers:u,selectedLayerIds:d}=useSelectedLayers(),{actions:p,activePage:f,sidebar:h,pageSize:m}=useEditor(e=>({activePage:e.activePage,sidebar:e.sidebar,pageSize:e.pageSize})),[g,v]=useState(m);useEffect(()=>{v(m)},[m]);var y=useMemo(()=>Object.entries(u).reduce((e,[,t])=>{var n;return isRootLayer(t)?e.transparency=Math.max(e.transparency,void 0!==(null==(n=t.data.props.image)?void 0:n.transparency)?t.data.props.image.transparency:1):e.transparency=Math.max(e.transparency,void 0!==t.data.props.transparency?t.data.props.transparency:1),e},{transparency:0}),[u])["transparency"];const b=!!u.find(e=>e.data.locked);useEffect(()=>{i(!1)},[JSON.stringify(d)]);const w=(e,t)=>{var n=g.width/g.height,e=parseInt(e,10);"width"===t&&(l&&(o.current.value=String(Math.round(e/n*10)/10)),v(Object.assign(Object.assign({},g),{width:e}))),"height"===t&&(l&&(r.current.value=String(Math.round(e*n*10)/10)),v(Object.assign(Object.assign({},g),{height:e})))},x=useMemo(()=>g.width<100||g.height<100,[g]);return jsxs(Fragment$1,{children:[jsxs("div",{css:{display:"grid",alignItems:"center",gridAutoFlow:"column",gridGap:8},children:[jsx(SettingButton$1,{onClick:()=>p.setSidebar("LAYER_MANAGEMENT"),children:jsx("span",{css:{padding:"0 4px"},children:"Position"})}),0<d.length&&jsx(Fragment$1,{children:(!isRootLayer(u[0])||isRootLayer(u[0])&&u[0].data.props.image)&&jsxs(Fragment$1,{children:[jsx("div",{css:{height:24,width:"1px",background:"rgba(57,76,96,.15)"}}),jsx(SettingButton$1,{ref:e,css:{fontSize:20},onClick:()=>i(!0),children:jsx(TransparencyIcon,{})}),jsx(Popover$1,{open:n,anchorEl:e.current,placement:"bottom-end",onClose:()=>i(!1),offsets:{"bottom-end":{x:0,y:8}},children:jsx("div",{css:{padding:16},children:jsx(Slider,{label:"Transparency",defaultValue:100*y,onChange:t=>{d.forEach(e=>{"ROOT"===e?p.history.throttle(2e3).setProp(f,e,{image:{transparency:t/100}}):p.history.throttle(2e3).setProp(f,e,{transparency:t/100})})}})})})]})}),jsx("div",{css:{height:24,width:"1px",background:"rgba(57,76,96,.15)"}}),jsx(SettingButton$1,{ref:t,onClick:()=>s(!0),children:jsx("span",{css:{padding:"0 4px"},children:"Resize"})}),jsx(Popover$1,{open:a,anchorEl:t.current,placement:"bottom-end",onClose:()=>s(!1),offsets:{"bottom-end":{x:0,y:8}},children:jsxs("div",{css:{padding:16,width:240},children:[jsxs("div",{css:{display:"flex",gap:8,alignItems:"flex-end"},children:[jsxs("div",{children:[jsx("div",{css:{fontSize:12,fontWeight:600},children:"Width"}),jsx("div",{css:{border:"1px solid rgba(43,59,74,.3)",height:40,padding:"0 12px",width:80,borderRadius:4},children:jsx("input",{ref:r,css:{width:"100%",minWidth:8,height:"100%"},onChange:e=>w(e.target.value,"width"),defaultValue:g.width})})]}),jsxs("div",{children:[jsx("div",{css:{fontSize:12,fontWeight:600},children:"Height"}),jsx("div",{css:{border:"1px solid rgba(43,59,74,.3)",height:40,padding:"0 12px",width:80,borderRadius:4},children:jsx("input",{ref:o,css:{width:"100%",minWidth:8,height:"100%"},onChange:e=>w(e.target.value,"height"),defaultValue:g.height})})]}),jsx("div",{css:{fontSize:20,cursor:"pointer",margin:"10px 0"},onClick:()=>c(!l),children:l?jsx(LockKeyIcon,{}):jsx(LockKeyOpenIcon,{})})]}),x&&jsx("div",{css:{color:"#db1436"},children:"Dimensions must be at least 100px and no more than 8000px."}),jsx("div",{css:{marginTop:12},children:jsx("div",{css:{background:x?"#8383A2":"#3a3a4c",padding:"8px 14px",lineHeight:1,color:"#FFF",borderRadius:4,cursor:x?"not-allowed":"pointer",fontSize:16,textAlign:"center",fontWeight:700},onClick:()=>{x||(p.changePageSize(g),s(!1))},children:"Resize"})})]})}),0<d.length&&jsxs(SettingButton$1,{css:{fontSize:20},isActive:b,onClick:()=>{b?p.unlock(f,d):p.lock(f,d)},children:[b&&jsx(LockKeyIcon,{}),!b&&jsx(LockKeyOpenIcon,{})]})]}),"LAYER_MANAGEMENT"===h&&jsx(LayerSidebar$1,{open:!0})]})},ColorSettings=({colors:e,gradient:t,useGradient:n,children:r,onChange:o,onChangeGradient:i})=>{const{actions:a,sidebar:s}=useEditor(e=>({sidebar:e.sidebar}));var l=useMemo(()=>0!==e.length&&(1!==e.length||100!==new Color(e[0]).white())||t?t?getGradientBackground(t.colors,t.style):e.map(e=>`linear-gradient(to right, ${e}, ${e})`).join(", "):"conic-gradient(red, yellow, lime, aqua, blue, magenta, red)",[e]);return jsxs(Fragment$1,{children:[jsxs(SettingButton$1,{onClick:()=>a.setSidebar("CHOOSING_COLOR"),children:[!r&&jsx("div",{css:{width:24,height:24,boxShadow:"inset 0 0 0 1px rgba(57,76,96,.15)",borderRadius:2,position:"relative",overflow:"hidden"},children:jsx("div",{css:{backgroundColor:"#fff",backgroundPosition:"0 0, 6px 6px",backgroundSize:"12px 12px",inset:0,position:"absolute",backgroundImage:"linear-gradient(-45deg,rgba(57,76,96,.15) 25%,transparent 25%,transparent 75%,rgba(57,76,96,.15) 75%),linear-gradient(-45deg,rgba(57,76,96,.15) 25%,transparent 25%,transparent 75%,rgba(57,76,96,.15) 75%)"},children:jsx("div",{css:{position:"absolute",inset:0,background:l}})})}),r]}),"CHOOSING_COLOR"===s&&jsx(ColorSidebar$1,{open:!0,selected:1===e.length?e[0]:null,gradient:t,useGradient:n,onChangeGradient:i,onSelect:o})]})};var FrameCornersIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M200 80v32a8 8 0 0 1-16 0V88h-24a8 8 0 0 1 0-16h32a8 8 0 0 1 8 8ZM96 168H72v-24a8 8 0 0 0-16 0v32a8 8 0 0 0 8 8h32a8 8 0 0 0 0-16ZM232 56v144a16 16 0 0 1-16 16H40a16 16 0 0 1-16-16V56a16 16 0 0 1 16-16h176a16 16 0 0 1 16 16Zm-16 144V56H40v144h176Z"})}))},SolidIcon=function(e){return jsx$1("svg",_extends$1({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e,{children:jsx$1("line",{x2:24,y1:"50%",y2:"50%",stroke:"currentColor",strokeWidth:2})}))},NotAllowedIcon=function(e){return jsxs$1("svg",_extends$1({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg"},e,{children:[jsx$1("circle",{cx:12,cy:12,r:10}),jsx$1("path",{strokeLinecap:"square",d:"m5 5 14 14"})]}))},LongDashesIcon=function(e){return jsx$1("svg",_extends$1({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e,{children:jsx$1("line",{x2:24,y1:"50%",y2:"50%",stroke:"currentColor",strokeDasharray:"11 2",strokeWidth:2})}))},ShortDashesIcon=function(e){return jsx$1("svg",_extends$1({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e,{children:jsx$1("line",{x2:24,y1:"50%",y2:"50%",stroke:"currentColor",strokeDasharray:"6 2",strokeWidth:2})}))},DotsIcon=function(e){return jsx$1("svg",_extends$1({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e,{children:jsx$1("line",{x2:24,y1:"50%",y2:"50%",stroke:"currentColor",strokeDasharray:"2 2",strokeWidth:2})}))},SquareBoldIcon=function(e){return jsx$1("svg",_extends$1({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",width:"1em",height:"1em"},e,{children:jsx$1("path",{d:"M208 28H48a20 20 0 0 0-20 20v160a20 20 0 0 0 20 20h160a20 20 0 0 0 20-20V48a20 20 0 0 0-20-20Zm-4 176H52V52h152Z"})}))};const shapeStyles=[{type:"none",icon:jsx(NotAllowedIcon,{})},{type:"solid",icon:jsx(SolidIcon,{})},{type:"longDashes",icon:jsx(LongDashesIcon,{})},{type:"shortDashes",icon:jsx(ShortDashesIcon,{})},{type:"dots",icon:jsx(DotsIcon,{})}],ShapeSettings=({layers:r})=>{var e=useRef(null);const{actions:o,activePage:i}=useEditor(e=>({activePage:e.activePage})),[t,n]=useState(!1);var a=r.reduce((e,t)=>e=e<t.data.props.roundedCorners?t.data.props.roundedCorners:e,0),s=useMemo(()=>r.filter(e=>e.data.props.color&&!e.data.props.gradientBackground).map(e=>e.data.props.color),[r]),l=useMemo(()=>r.map(e=>e.data.props.gradientBackground).filter(e=>!!e),[r]);const c=useMemo(()=>{var e=r.map(e=>e.data.props.border).filter(e=>!!e);return e[0]||{style:"none",weight:0,color:"rgb(0, 0, 0)"}},[r]);return jsx(Fragment$1,{children:jsxs("div",{css:{display:"grid",alignItems:"center",gridAutoFlow:"column",gridGap:8},children:[jsx(ColorSettings,{colors:s,useGradient:!0,gradient:0<l.length?l[0]:null,onChange:t=>{r.forEach(e=>{o.history.throttle(2e3).setProp(i,e.id,{color:t,gradientBackground:null})})},onChangeGradient:t=>{r.forEach(e=>{o.history.throttle(2e3).setProp(i,e.id,{gradientBackground:t})})}}),c&&"none"!==c.style&&jsx(Fragment$1,{children:jsx(ColorSettings,{colors:[c.color],onChange:e=>{var t=r.filter(e=>{return"none"!==(null==(e=e.data.props.border)?void 0:e.style)}).map(e=>e.id);o.history.throttle(2e3).setProp(i,t,{border:{color:e}})},children:jsx("div",{css:{width:24,height:24,borderRadius:2,position:"relative",fontSize:24,overflow:"hidden",color:c.color},children:jsx(SquareBoldIcon,{})})})}),jsx(SettingButton$1,{ref:e,css:{fontSize:20},onClick:()=>n(!0),children:jsx(FrameCornersIcon,{})}),jsx(Popover$1,{open:t,anchorEl:e.current,placement:"bottom",onClose:()=>n(!1),offsets:{"bottom-end":{x:0,y:8}},children:jsxs("div",{css:{padding:16,display:"grid",gap:12},children:[jsx("div",{children:jsx("div",{css:{display:"grid",gridAutoFlow:"column",alignItems:"center",gap:8},children:shapeStyles.map(e=>jsx("div",{css:{fontSize:24,borderRadius:4,boxShadow:e.type===(null===c||void 0===c?void 0:c.style)?"inset 0 0 0 2px #3d8eff":"inset 0 0 0 1px rgba(43,59,74,.3)",padding:8,cursor:"pointer",":hover":{boxShadow:e.type!==(null===c||void 0===c?void 0:c.style)?"inset 0 0 0 1px rgba(28,39,48,.5)":void 0}},onClick:()=>{var n;n=e.type,r.forEach(e=>{var t;o.history.throttle(2e3).setProp(i,e.id,{border:{style:n,weight:"none"===n?0:(null==(t=e.data.props.border)?void 0:t.weight)||4,color:(null==(t=e.data.props.border)?void 0:t.color)||"rgb(0, 0, 0)"}})})},children:e.icon},e.type))})}),jsx(Slider,{label:"Border Weight",value:(null===c||void 0===c?void 0:c.weight)||0,onChange:e=>{var t=r.map(e=>e.id);o.history.throttle(2e3).setProp(i,t,{border:{style:(0===e?"none":c.style)||"solid",weight:e,color:c.color}})}}),1===r.length&&"rectangle"===r[0].data.props.shape&&jsx(Slider,{label:"Corner Rounding",value:a,onChange:e=>{var t=r.map(e=>e.id);o.history.throttle(2e3).setProp(i,t,{roundedCorners:e})}})]})})]})})},RootSettings=({layer:t})=>{const{actions:n,activePage:r}=useEditor(e=>({activePage:e.activePage,sidebar:e.sidebar}));var e=useMemo(()=>t.data.props.color,[t]),o=useMemo(()=>t.data.props.gradientBackground,[t]);return jsx(ColorSettings,{colors:e?[e]:[],gradient:o,useGradient:!0,onChange:e=>{n.history.throttle(2e3).setProp(r,t.id,{color:e,gradientBackground:null})},onChangeGradient:e=>{n.history.throttle(2e3).setProp(r,t.id,{gradientBackground:e,color:null})}})},SvgSettings=({layer:t})=>{const{actions:n,activePage:r,sidebar:o}=useEditor(e=>({activePage:e.activePage,sidebar:e.sidebar})),[i,a]=useState(null),s=useMemo(()=>t.data.props.colors,[t]),l=e=>{null!==i&&n.history.throttle(2e3).setProp(r,t.id,{colors:[...s.slice(0,i),e,...s.slice(i+1,s.length)]})};return jsxs("div",{css:{display:"grid",alignItems:"center",gridAutoFlow:"column",gridGap:8},children:[jsx("div",{css:{display:"grid",alignItems:"center",gridAutoFlow:"column"},children:s.map((e,t)=>jsxs(Fragment$1,{children:[jsx(SettingButton$1,{isActive:t===i,onClick:()=>{a(t),n.setSidebar("CHOOSING_COLOR")},children:jsx("div",{css:{width:24,height:24,background:null!=e?e:"conic-gradient(red, yellow, lime, aqua, blue, magenta, red)",boxShadow:"inset 0 0 0 1px rgba(57,76,96,.15)",borderRadius:2}})}),"CHOOSING_COLOR"===o&&jsx(ColorSidebar$1,{open:!0,selected:e,onSelect:l})]},t))}),jsx("div",{css:{height:24,width:"1px",background:"rgba(57,76,96,.15)"}})]})},FrameSettings=({layers:n})=>{const{actions:r,activePage:o}=useEditor(e=>({activePage:e.activePage,sidebar:e.sidebar}));var e=useMemo(()=>n.map(e=>e.data.props.color).filter(e=>!!e),[n]),t=useMemo(()=>n.map(e=>e.data.props.gradientBackground).filter(e=>!!e),[n]);return jsx(ColorSettings,{colors:e,useGradient:!0,gradient:0<t.length?t[0]:null,onChange:e=>{var t=n.map(e=>e.id);r.history.throttle(2e3).setProp(o,t,{color:e,gradientBackground:null})},onChangeGradient:e=>{var t=n.map(e=>e.id);r.history.throttle(2e3).setProp(o,t,{gradientBackground:e,color:null})}})},LayerSettings=()=>{const{selectedLayers:e,selectedLayerIds:t}=useSelectedLayers(),{actions:n,sidebar:r}=useEditor(e=>({sidebar:e.sidebar}));var{rootLayer:o,textLayers:i,shapeLayers:a,svgLayers:s,frameLayers:l}=useMemo(()=>e.reduce((e,t)=>(isRootLayer(t)?e.rootLayer=t:isSvgLayer(t)?e.svgLayers.push(t):isTextLayer(t)?e.textLayers.push(t):isShapeLayer(t)?e.shapeLayers.push(t):isFrameLayer(t)&&e.frameLayers.push(t),e),{textLayers:[],shapeLayers:[],rootLayer:null,svgLayers:[],frameLayers:[]}),[e]);return useEffect(()=>{const t=[];r&&"LAYER_MANAGEMENT"!==r&&(e.forEach(e=>{t.push(e.data.type)}),r&&t.includes("Text")&&!["FONT_FAMILY","TEXT_EFFECT","CHOOSING_COLOR"].includes(r)||r&&(t.includes("Shape")||t.includes("Root"))&&!["CHOOSING_COLOR"].includes(r))&&n.setSidebar()},[r,t]),jsx("div",{css:{display:"flex",width:"100%",height:"100%",alignItems:"center",justifyContent:"space-between",fontSize:14,fontWeight:600,padding:"0 8px"},children:jsxs("div",{css:{display:"grid",alignItems:"center",gridAutoFlow:"column",gridGap:8,paddingRight:20},children:[o&&jsx(RootSettings,{layer:o}),0<l.length&&jsx(FrameSettings,{layers:l}),1===s.length&&jsx(SvgSettings,{layer:s[0]}),0<a.length&&jsx(ShapeSettings,{layers:a}),0<i.length&&jsx(TextSettings,{layers:i}),jsx(CommonSettings,{})]})})},PageControl=()=>{var e=useRef(null);const[t,n]=useState(!1),{actions:r,activePage:o,totalPages:i,scale:a}=useEditor(e=>({activePage:e.activePage,totalPages:e.pages.length,scale:e.scale}));return jsxs("div",{css:{display:"flex",alignItems:"center",padding:"0 8px",fontWeight:700},children:[jsxs("div",{css:{flexGrow:1},children:["Page ",o+1," / ",i]}),jsxs("div",{css:{flexShrink:0,display:"grid",gridAutoFlow:"column",gridColumnGap:8,alignItems:"center"},children:[jsx("div",{css:{width:200,paddingRight:8},children:jsx(Slider,{hideInput:!0,hideLabel:!0,value:100*a,min:10,max:500,onChange:e=>{r.setScale(e/100)}})}),jsx(SettingButton$1,{ref:e,onClick:()=>n(!0),children:jsxs("div",{css:{width:48,textAlign:"center"},children:[Math.round(100*a),"%"]})}),jsx(Popover$1,{open:t,anchorEl:e.current,placement:"top-end",onClose:()=>n(!1),children:jsx("div",{css:{padding:"8px 0"},children:[300,200,150,100,75,50,25,10].map(e=>jsxs("div",{css:{padding:"0 8px",display:"flex",height:40,minWidth:100,alignItems:"center",cursor:"pointer",":hover":{backgroundColor:"rgba(64,87,109,.07)"}},onClick:()=>{r.setScale(e/100),n(!1)},children:[jsxs("span",{css:{padding:"0 8px",whiteSpace:"nowrap",flexGrow:1},children:[e,"%"]}),e/100===a&&jsx(CheckIcon,{})]},e))})})]})]})};export{DesignFrame,Editor,LayerSettings,PageControl,Preview,useEditor,useLayer,useSelectedLayers};
